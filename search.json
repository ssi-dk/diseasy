[{"path":"https://ssi-dk.github.io/diseasy/PULL_REQUEST_TEMPLATE.html","id":"intent","dir":"","previous_headings":"","what":"Intent","title":"NA","text":"Describe briefly problem pull request resolves, new features introduces. Please link issues possible (see also “Linking pull request issue”). Trivial changes, like fixing typo, need issue.","code":""},{"path":"https://ssi-dk.github.io/diseasy/PULL_REQUEST_TEMPLATE.html","id":"approach","dir":"","previous_headings":"","what":"Approach","title":"NA","text":"issue resolved? Describe approach taken; describe non-obvious considerations made choosing approach. change covered test, please explain .","code":""},{"path":"https://ssi-dk.github.io/diseasy/PULL_REQUEST_TEMPLATE.html","id":"known-issues","dir":"","previous_headings":"","what":"Known issues","title":"NA","text":"known issues introduced pull request, please let us know. Code rarely perfect, pull request still welcome fix bigger new bug.","code":""},{"path":"https://ssi-dk.github.io/diseasy/PULL_REQUEST_TEMPLATE.html","id":"checklist","dir":"","previous_headings":"","what":"Checklist","title":"NA","text":"PR passes local unit tests documented new features introduced PR adds new feature, please add entry NEWS.md reviewer assigned PR","code":""},{"path":"https://ssi-dk.github.io/diseasy/articles/SEIR-implementation.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"SEIR: Implementation","text":"vignette companion implementation SEIR ode model ?DiseasyModelOdeSEIR. name suggests, model SEIR-like ordinary differential equation (ODE) model. Furthermore, model designed flexible possible allow wide range different model configuration. , number consecutive exposed, infected, recovered states can set arbitrarily, well number age groups number variants. Due flexibility model, implementation somewhat complex, include vignette outlining mathematical implementation model connect code.","code":""},{"path":"https://ssi-dk.github.io/diseasy/articles/SEIR-implementation.html","id":"opening-consideration","dir":"Articles","previous_headings":"","what":"Opening consideration","title":"SEIR: Implementation","text":"design SEIR model meant “standard” sense , general, follows structure design SEIR models community. clarity, describe considerations needed design model.","code":""},{"path":"https://ssi-dk.github.io/diseasy/articles/SEIR-implementation.html","id":"indexes-and-accents","dir":"Articles","previous_headings":"Opening consideration","what":"Indexes and accents","title":"SEIR: Implementation","text":"begin, define fixed meaning different indices accents used vignette: upper case letters denote number elements lower case letters denote specific element.","code":""},{"path":"https://ssi-dk.github.io/diseasy/articles/SEIR-implementation.html","id":"the-model-structure","dir":"Articles","previous_headings":"Opening consideration","what":"The model structure","title":"SEIR: Implementation","text":"SEIR model building compartmental model (near) arbitrary number exposed, infected, recovered compartments. model also supports multiple age groups multiple variants. divide model different “tracks” track implementing disease progression group individuals. , AA age groups VV variants, ⋅VA \\cdot V tracks start first exposed state (first infected state exposed states included model). infection progresses within individual, moved track infection eventually recovery. Schematically, model can represented figure : SEIR model overview two variant model figure shows disease progression two variant tracks single age group. arrows figure indicates infections model within tracks.","code":""},{"path":"https://ssi-dk.github.io/diseasy/articles/SEIR-implementation.html","id":"state-vector","dir":"Articles","previous_headings":"Opening consideration","what":"State vector","title":"SEIR: Implementation","text":"“track” infection placed sequence state vector, ψ¯\\overline{\\psi}, increments first age groups variants. Finally, susceptible states placed end state vector. ψ¯=[E1,11⋯E1,1KI1,11⋯I1,1LR1,11⋯R1,1M⏟Age group 1, Variant 1 \\overline{\\psi} = [\\underbrace{\\begin{matrix} E_{1,1}^1\\, \\cdots \\, E_{1,1}^K \\;\\;\\; I_{1,1}^1 \\, \\cdots \\, I_{1,1}^L \\;\\;\\; R_{1,1}^1 \\, \\cdots \\, R_{1,1}^M \\end{matrix}}_{\\text{Age group 1, Variant 1}} E2,11⋯E2,1KI2,11⋯I2,1LR2,11⋯R2,1M⏟Age group 2, Variant 1⋯ \\underbrace{\\begin{matrix} E_{2,1}^1 \\, \\cdots \\, E_{2,1}^K \\;\\;\\; I_{2,1}^1 \\, \\cdots \\, I_{2,1}^L \\;\\;\\; R_{2,1}^1 \\, \\cdots \\, R_{2,1}^M \\end{matrix}}_{\\text{Age group 2, Variant 1}} \\; \\cdots EA,V1⋯EA,VKIA,V1⋯IA,VLRA,V1⋯RA,VM⏟Age group , Variant VS1⋯SA] \\underbrace{\\begin{matrix} E_{,V}^1 \\, \\cdots \\, E_{,V}^K \\;\\;\\; I_{,V}^1 \\, \\cdots \\, I_{,V}^L \\;\\;\\; R_{,V}^1 \\, \\cdots \\, R_{,V}^M \\end{matrix}}_{\\text{Age group , Variant V}} \\;\\; S_1 \\, \\cdots \\, S_A]  NOTE: State vector uses normalised (unit) populations. Notice state vector elements indexed state-type, state-index, age-index variant-index: Index guide state vector","code":""},{"path":"https://ssi-dk.github.io/diseasy/articles/SEIR-implementation.html","id":"contact-matrix","dir":"Articles","previous_headings":"Opening consideration","what":"Contact matrix","title":"SEIR: Implementation","text":"contact matrix, C¯¯̃\\tilde{\\overline{\\overline{C}}}, ×AA \\times matrix. elements c̃ij\\tilde{c}_{ij} can denotes contacts age group jj age group ii. (may helpful memorise c̃←j\\tilde{c}_{\\leftarrow j}) model, normalised “per capita” contact matrix C¯¯\\overline{\\overline{C}}, meaning elements cij=c̃ijNjc_{ij} = \\frac{\\tilde{c}_{ij}}{N_j} Ñ\\tilde{N}_i population age group ii. way, used model, equations’ infections terms becomes: c̃ijÑj∑lIjlSi\\frac{\\tilde{c}_{ij}}{\\tilde{N}_j} \\sum_l I_j^l S_i equations can normalised via transformations ψe=ψ̃|eeÑ\\psi^e = \\frac{\\tilde{\\psi}^e_{|e}}{\\tilde{N}_{}}, |ei|e age group element ee. NOTE: Shouldn’t cij=c̃ijÑjc_{ij} = \\tilde{c}_{ij} \\tilde{N}_j instead? ̃̇=β̃̃S̃−rIĨ⇒ \\dot{\\tilde{}} = \\tilde{\\beta}\\, \\tilde{} \\tilde{S} - r_I \\tilde{} \\Rightarrow ̃̇N=β̃̃S̃N−rIĨN⇒ \\frac{\\dot{\\tilde{}}}{N} = \\frac{\\tilde{\\beta}\\, \\tilde{} \\tilde{S}}{N} - \\frac{ r_I \\tilde{}}{N} \\Rightarrow ̇=β̃̃−rII⇒ \\dot{} = \\tilde{\\beta}\\, \\tilde{S} - r_I \\Rightarrow ̇=Nβ̃̃N−rII⇒ \\dot{} = N\\tilde{\\beta}\\, \\frac{\\tilde{S}}{N} - r_I \\Rightarrow ̇=Nβ̃⏟βIS−rII \\dot{} = \\underbrace{N\\tilde{\\beta}}_{\\beta}\\, S - r_I ","code":""},{"path":"https://ssi-dk.github.io/diseasy/articles/SEIR-implementation.html","id":"the-implementation-of-the-right-hand-side-function","dir":"Articles","previous_headings":"","what":"The implementation of the right-hand side function","title":"SEIR: Implementation","text":"opening considerations mind, can now describe implementation model. , now link implementation underlying mathematical descriptions model. ?DiseasyModelOdeSEIR model implements ?DiseasyModelOdeSEIR$rhs method computes rates needed ODE solver. evaluation right-hand side function uses intermediate variables described .","code":""},{"path":"https://ssi-dk.github.io/diseasy/articles/SEIR-implementation.html","id":"the-infected-matrix","dir":"Articles","previous_headings":"The implementation of the right-hand side function","what":"The infected matrix","title":"SEIR: Implementation","text":"computation right-hand side ODE, helper matrix ¯¯\\overline{\\overline{}} stored infected implementation. ¯¯\\overline{\\overline{}} matrix ×VA \\times V matrix elements ¯¯=[∑lI1,1l⋯∑lI1,Vl⋮⋱⋮∑lIA,1l⋯∑lIA,Vl] \\overline{\\overline{}} = \\begin{bmatrix} \\sum_l ^l_{1,1} & \\cdots & \\sum_l ^l_{1,V} \\\\ \\vdots & \\ddots & \\vdots \\\\ \\sum_l ^l_{,1} & \\cdots & \\sum_l ^l_{,V} \\end{bmatrix} , element ia,vi_{, v} contains sum infected compartments track associated age group aa variant vv.","code":""},{"path":"https://ssi-dk.github.io/diseasy/articles/SEIR-implementation.html","id":"the-infected_contact_rate-matrix","dir":"Articles","previous_headings":"The implementation of the right-hand side function","what":"The infected_contact_rate matrix","title":"SEIR: Implementation","text":"right-hand side computation, also helper matrix infected_contact_rate C¯¯¯¯\\overline{\\overline{C}}\\; \\overline{\\overline{}} CI¯¯=C¯¯¯¯=[∑ic1←∑lIi,1l⋯∑ic1←∑lIi,Vl⋮⋱⋮∑icA←∑lIi,1l⋯∑icA←∑lIi,Vl] \\overline{\\overline{CI}} = \\overline{\\overline{C}}\\; \\overline{\\overline{}} = \\begin{bmatrix} \\sum_i c_{1\\leftarrow } \\sum_l ^l_{,1} & \\cdots & \\sum_i c_{1\\leftarrow } \\sum_l ^l_{,V} \\\\ \\vdots & \\ddots & \\vdots \\\\ \\sum_i c_{\\leftarrow } \\sum_l ^l_{,1} & \\cdots & \\sum_i c_{\\leftarrow } \\sum_l ^l_{,V} \\end{bmatrix} , element (CI¯¯),(\\overline{\\overline{CI}})_{, } contains rate contact age group ii persons infected variant aa across age groups.","code":""},{"path":"https://ssi-dk.github.io/diseasy/articles/SEIR-implementation.html","id":"the-infection_rate-matrix","dir":"Articles","previous_headings":"The implementation of the right-hand side function","what":"The infection_rate matrix","title":"SEIR: Implementation","text":"Continuing computation right-hand side, infection_rate matrix (T¯¯\\overline{\\overline{T}}) infected_contact_rate (CI¯¯\\overline{\\overline{CI}}) adjusted additional risk factors. σ(t)\\sigma(t): Multiplicative effect season ϵa\\epsilon_a: Relative infectiousness variant aa Γ\\Gamma: Overall infection rate scaling factor T¯¯=Γσ(t)ℰ¯¯⊙CI¯¯ \\overline{\\overline{T}} = \\Gamma\\;\\sigma(t)\\;\\overline{\\overline{\\mathcal{E}}} \\odot \\overline{\\overline{CI}} ⊙\\odot Hadamard product (element-wise multiplication), ℰ¯¯\\overline{\\overline{\\mathcal{E}}} ×VA \\times V matrix: ℰ¯¯=[ϵ1⋯ϵV⋮⋱⋮ϵ1⋯ϵV] \\overline{\\overline{\\mathcal{E}}} = \\begin{bmatrix} \\epsilon_1 & \\cdots & \\epsilon_V \\\\ \\vdots & \\ddots & \\vdots \\\\ \\epsilon_1 & \\cdots & \\epsilon_V \\end{bmatrix} NOTE: code, private$indexed_variant_infection_risk ℰ¯¯\\overline{\\overline{\\mathcal{E}}} vector form.","code":""},{"path":"https://ssi-dk.github.io/diseasy/articles/SEIR-implementation.html","id":"the-infection_matrix","dir":"Articles","previous_headings":"The implementation of the right-hand side function","what":"The infection_matrix","title":"SEIR: Implementation","text":"final computation infections right-hand side, construct matrix infection_matrix (f¯¯\\overline{\\overline{f}}). Since RR SS compartments susceptible infection, need consider RSRS states compute new infections model. new infection_matrix therefore need contain K exposed states L infected states, M recovered states AA susceptible states. therefore interested reduced state vector ψ¯RS\\overline{\\psi}^{RS} whose elements e*e^* RR SS elements full state vector ψ¯\\overline{\\psi}. now create intermediate matrix U¯¯\\overline{\\overline{U}} expanding infection_rate matrix (T¯¯\\overline{\\overline{T}}) ⋅(V⋅M+1)×VA \\cdot (V \\cdot M + 1) \\times V matrix repeating rows infection_rate matrix. repeating done matching age group infection_rate matrix age group reduced state vector. element, ee, state vector, ψ\\psi corresponding age group can write |ei|e. intermediate matrix U¯¯\\overline{\\overline{U}}, row states RR SS compartments column variant. form follows: U¯¯=[ti|e1*,1⋯ti|e1*,Vti|e2*,1⋯ti|e2*,V⋮⋮⋮ti|eA⋅(V⋅M+1)*,1⋯ti|eA⋅(V⋅M+1)*,V] \\overline{\\overline{U}} = \\begin{bmatrix}   t_{|e^*_1, 1} & \\cdots & t_{|e^*_1, V} \\\\   t_{|e^*_2, 1} & \\cdots & t_{|e^*_2, V} \\\\   \\vdots & \\vdots &\\vdots \\\\   t_{|e^*_{\\cdot (V \\cdot M + 1)}, 1} & \\cdots & t_{|e^*_{\\cdot (V \\cdot M + 1)}, V} \\\\ \\end{bmatrix} now matrix, whose elements infection rate variant matched RR SS elements state vector. space, can now account : state specific infection risks (.e. reduced risk infected previously / vaccinated) effect cross-immunity variants , need construct matrix accounts waning immunity (γm\\gamma_m) cross-immunity factors χa←b\\chi_{\\leftarrow b} (Variant bb infecting person immunity variant aa). together, implemented via immunity matrix (immunity_matrix) ρ¯¯\\overline{\\overline{\\rho}} ⋅(V⋅M+1)×VA \\cdot (V \\cdot M + 1) \\times V matrix form: ρ¯¯=[[1−χ1←1(1−γ¯)⋮1−χ1←1(1−γ¯)]⋯[1−χ1←V(1−γ¯)⋮1−χ1←V(1−γ¯)]⋮⋱⋮[1−χV←1(1−γ¯)⋮1−χV←1(1−γ¯)]⋯[1−χV←V(1−γ¯)⋮1−χV←V(1−γ¯)]1¯⋯1¯] \\overline{\\overline{\\rho}} = \\begin{bmatrix}   \\begin{bmatrix}     1 - \\chi_{1\\leftarrow 1} (1 - \\overline{\\gamma}) \\\\     \\vdots \\\\     1 - \\chi_{1\\leftarrow 1} (1 - \\overline{\\gamma})   \\end{bmatrix}   & \\cdots &   \\begin{bmatrix}     1 - \\chi_{1\\leftarrow V} (1 - \\overline{\\gamma}) \\\\     \\vdots \\\\     1 - \\chi_{1\\leftarrow V} (1 - \\overline{\\gamma})   \\end{bmatrix} \\\\   \\vdots & \\ddots & \\vdots \\\\   \\begin{bmatrix}     1 - \\chi_{V\\leftarrow 1} (1 - \\overline{\\gamma}) \\\\     \\vdots \\\\     1 - \\chi_{V\\leftarrow 1} (1 - \\overline{\\gamma})   \\end{bmatrix}   & \\cdots &   \\begin{bmatrix}     1 - \\chi_{V\\leftarrow V} (1 - \\overline{\\gamma}) \\\\     \\vdots \\\\     1 - \\chi_{V\\leftarrow V} (1 - \\overline{\\gamma})   \\end{bmatrix} \\\\   \\overline{1}_A & \\cdots & \\overline{1}_A \\end{bmatrix} 1¯\\overline{1}_A ones vector length AA. ρ¯¯\\overline{\\overline{\\rho}}, sub-matrices form: [1−χa←b(1−γ¯)⋮1−χa←b(1−γ¯)] \\begin{bmatrix}   1 - \\chi_{\\leftarrow b} (1 - \\overline{\\gamma}) \\\\   \\vdots \\\\   1 - \\chi_{\\leftarrow b} (1 - \\overline{\\gamma}) \\end{bmatrix} ⋅M×1A \\cdot M \\times 1 matrices repeated sub-matrices. , 1−χa←b(1−γ¯)1 - \\chi_{\\leftarrow b} (1 - \\overline{\\gamma}) vector length MM repeated age group, form ⋅M×1A \\cdot M \\times 1 matrix. total, matrix accounts cross-variant χa←b\\chi_{\\leftarrow b} reductions immunity (1−γ¯1-\\overline{\\gamma}). Finally, can combine everything flow matrix: f¯¯=ρ¯¯⊙[||ψ¯RS⋯ψ¯RS||]⊙U¯¯ \\overline{\\overline{f}} = \\overline{\\overline{\\rho}} \\odot \\begin{bmatrix}   \\vert &  & \\vert \\\\   \\overline{\\psi}^{RS} & \\cdots & \\overline{\\psi}^{RS} \\\\   \\vert &  & \\vert \\\\ \\end{bmatrix} \\odot \\overline{\\overline{U}} [ψ¯RS⋯ψ¯RS]\\begin{bmatrix}\\overline{\\psi}^{RS} & \\cdots & \\overline{\\psi}^{RS}\\end{bmatrix} VV repeats RR SS elements state vector ψ¯\\overline{\\psi}. matrix contains, RR SS element state vector, row consisting per-variant infectious contacts corresponding compartment infected population model. elements account every risk modifying mechanism included model. row sums matrix equal loss compartment due infectious contacts. sums variant/age group combination can also extracted matrix form -flow new infections E1E_1 compartments.","code":""},{"path":"https://ssi-dk.github.io/diseasy/articles/SEIR-implementation.html","id":"generator-matrix","dir":"Articles","previous_headings":"","what":"Generator matrix","title":"SEIR: Implementation","text":"Beyond implementing right-hand side ODE, also implement generator matrix model. generator matrix, G¯¯\\overline{\\overline{G}}, ⋅V⋅(K+L)×⋅V⋅(K+L)\\cdot V \\cdot (K+L) \\times \\cdot V \\cdot (K+L) matrix containing dynamics EE II states assumption static RR SS states. Formally, generator matrix linearisation: dψ¯EIdt=G¯¯ψ¯EI \\frac{d\\overline{\\psi}^{EI}}{d t} = \\overline{\\overline{G}} \\overline{\\psi}^{EI} matrix can decomposed two contributions: transition matrix, G¯¯T\\overline{\\overline{G}}_T, bi-diagonal matrix containing flow rates sequential compartments transmission matrix, G¯¯β\\overline{\\overline{G}}_\\beta contains flows stemming infections. transition matrix block-diagonal form (K=1K = 1 L=1L = 1 +V>2)+ V > 2): G¯¯T=[[−re0re−ri]0000⋯00000000[−re0re−ri]⋯0000⋮⋮⋱⋮00000000⋯[−re0re−ri]] \\overline{\\overline{G}}_T = \\left[\\begin{array}{cccc}   \\begin{bmatrix}     -r_e & 0 \\\\     r_e & -r_i   \\end{bmatrix} &   \\begin{matrix}     0 & 0 \\\\     0 & 0   \\end{matrix} &   \\cdots &   \\begin{matrix}     0 & 0 \\\\     0 & 0   \\end{matrix} \\\\   \\begin{matrix}     0 & 0 \\\\     0 & 0   \\end{matrix} &   \\begin{bmatrix}     -r_e & 0 \\\\     r_e & -r_i   \\end{bmatrix} &   \\cdots &   \\begin{matrix}     0 & 0 \\\\     0 & 0   \\end{matrix} \\\\   \\vdots & \\vdots & \\ddots & \\vdots \\\\   \\begin{matrix}     0 & 0 \\\\     0 & 0   \\end{matrix} &   \\begin{matrix}     0 & 0 \\\\     0 & 0   \\end{matrix} &   \\cdots &   \\begin{bmatrix}     -r_e & 0 \\\\     r_e & -r_i   \\end{bmatrix} \\end{array}\\right] Notice -diagonal zero-elements (reduced) state vector changes age groups (IiL→Ei+11I_i^L \\rightarrow E_{+1}^1). form transmission matrix difficult write . lump risk modifying factors effect season σ(t)\\sigma(t) overall infection rate Γ\\Gamma single factor β\\beta. examples:","code":""},{"path":"https://ssi-dk.github.io/diseasy/articles/SEIR-implementation.html","id":"double-age-group-single-variant","dir":"Articles","previous_headings":"Generator matrix","what":"Double age group, single variant","title":"SEIR: Implementation","text":"long single variant, cross immunity can ignored can lump effect balance RR SS β\\beta. K=1K = 1 L=1L = 1, transmission matrix : G¯¯β=β[0c1←10c1←200000c2←10c2←20000] \\overline{\\overline{G}}_\\beta = \\beta \\begin{bmatrix}   0 & c_{1\\leftarrow 1} & 0 & c_{1\\leftarrow 2} \\\\   0 & 0 & 0 & 0 \\\\   0 & c_{2\\leftarrow 1} & 0 & c_{2\\leftarrow 2} \\\\   0 & 0 & 0 & 0 \\end{bmatrix} K=1K = 1 L=2L = 2, transmission matrix : G¯¯β=β[0c1←1c1←10c1←2c1←20000000000000c2←1c2←10c2←2c2←2000000000000] \\overline{\\overline{G}}_\\beta = \\beta \\begin{bmatrix}   0 & c_{1\\leftarrow 1} & c_{1\\leftarrow 1} & 0 & c_{1\\leftarrow 2} & c_{1\\leftarrow 2} \\\\   0 & 0 & 0 & 0 & 0 & 0\\\\   0 & 0 & 0 & 0 & 0 & 0\\\\   0 & c_{2\\leftarrow 1} & c_{2\\leftarrow 1} & 0 & c_{2\\leftarrow 2} & c_{2\\leftarrow 2} \\\\   0 & 0 & 0 & 0 & 0 & 0\\\\   0 & 0 & 0 & 0 & 0 & 0 \\end{bmatrix}","code":""},{"path":"https://ssi-dk.github.io/diseasy/articles/SEIR-implementation.html","id":"single-age-group-double-variant","dir":"Articles","previous_headings":"Generator matrix","what":"Single age group, double variant","title":"SEIR: Implementation","text":"one age group, contact matrix scalar cc. two variants, need also account relative infectivity variants ϵa\\epsilon_a. , K=1K = 1 L=1L = 1, transmission matrix : G¯¯β=β[0ϵ1ρ̂1c|0000|00−−+−−00|0ϵ2ρ̂2c00|00] \\overline{\\overline{G}}_\\beta = \\beta\\left[ \\begin{array}{ccccc}   0 & \\epsilon_1\\hat{\\rho}_{1}\\,c & | & 0 & 0 \\\\   0 & 0 & | & 0 & 0 \\\\   - & - & + & - & - \\\\   0 & 0 & | & 0 & \\epsilon_2\\hat{\\rho}_{2}\\,c \\\\   0 & 0 & | & 0 & 0 \\end{array} \\right] change variants demarcated visually vertical horizontal lines. now additional factor ρ̂\\hat{\\rho} explicitly accounts balance SS RR states cross-immunity variants: ρ̂=S+∑b=1V∑m=1M(1−χb←(1−γm))Rbm \\hat{\\rho}_{} = S + \\sum_{b = 1}^V\\sum_{m=1}^M \\left(1 - \\chi_{b \\leftarrow }(1 - \\gamma_m)\\right) R^m_b , unmodified contribution SS states, contribution RR states accounting waning immunity (γm\\gamma_m) cross-immunity (χa←b\\chi_{\\leftarrow b}). factor analogous “cross-section” infection encounter, .e. factor accounts probability contact infectious non-infected person infectious contact. , K=1K = 1 L=2L = 2, transmission matrix : G¯¯β=β[0ϵ1ρ̂1cϵ1ρ̂1c|000000|000000|000−−−+−−−000|0ϵ2ρ̂2cϵ2ρ̂2c000|000000|000] \\overline{\\overline{G}}_\\beta = \\beta\\left[ \\begin{array}{ccccccc}   0 & \\epsilon_1\\hat{\\rho}_{1}\\,c & \\epsilon_1\\hat{\\rho}_{1}\\,c & | & 0 & 0 & 0 \\\\   0 & 0 & 0 & | & 0 & 0 & 0 \\\\   0 & 0 & 0 & | & 0 & 0 & 0 \\\\   - & - & - & + & - & - & - \\\\   0 & 0 & 0 & | & 0 & \\epsilon_2\\hat{\\rho}_{2}\\,c & \\epsilon_2\\hat{\\rho}_{2}\\,c \\\\   0 & 0 & 0 & | & 0 & 0 & 0 \\\\   0 & 0 & 0 & | & 0 & 0 & 0 \\\\ \\end{array} \\right]","code":""},{"path":"https://ssi-dk.github.io/diseasy/articles/SEIR-implementation.html","id":"double-age-group-double-variant","dir":"Articles","previous_headings":"Generator matrix","what":"Double age group, double variant","title":"SEIR: Implementation","text":"including age groups, ρ̂\\hat{\\rho} factor becomes ×VA \\times V matrix elements ρ̂,=Si+∑b=1V∑m=1M(1−χb←(1−γm))Ri,bm \\hat{\\rho}_{, } = S_i + \\sum_{b = 1}^V\\sum_{m=1}^M \\left(1 - \\chi_{b \\leftarrow }(1 - \\gamma_m)\\right) R^m_{,b} K=1K = 1 L=1L = 1, transmission matrix : G¯¯β=β[0ϵ1ρ̂1,1c1←10ϵ1ρ̂1,1c1←2|00000000|00000ϵ1ρ̂2,1c2←10ϵ1ρ̂2,1c2←2|00000000|0000−−−−+−−−−0000|0ϵ2ρ̂1,2c1←10ϵ2ρ̂1,2c1←20000|00000000|0ϵ2ρ̂2,2c2←10ϵ2ρ̂2,2c2←20000|0000] \\overline{\\overline{G}}_\\beta = \\beta\\left[ \\begin{array}{cccccccc}   0 & \\epsilon_1\\hat{\\rho}_{1,1}\\,c_{1\\leftarrow 1} & 0 & \\epsilon_1\\hat{\\rho}_{1,1}\\,c_{1\\leftarrow 2} & | & 0 & 0 & 0 & 0 \\\\   0 & 0 & 0 & 0 & | & 0 & 0 & 0 & 0\\\\   0 & \\epsilon_1\\hat{\\rho}_{2,1}\\,c_{2\\leftarrow 1} & 0 & \\epsilon_1\\hat{\\rho}_{2,1}\\,c_{2\\leftarrow 2} & | & 0 & 0 & 0 & 0 \\\\   0 & 0 & 0 & 0 & | & 0 & 0 & 0 & 0 \\\\   - & - & - & - & + & - & - & - & - \\\\   0 & 0 & 0 & 0 & | & 0 & \\epsilon_2\\hat{\\rho}_{1,2}\\,c_{1\\leftarrow 1} & 0 & \\epsilon_2\\hat{\\rho}_{1,2}\\,c_{1\\leftarrow 2} \\\\   0 & 0 & 0 & 0 & | & 0 & 0 & 0 & 0 \\\\   0 & 0 & 0 & 0 & | & 0 & \\epsilon_2\\hat{\\rho}_{2,2}\\,c_{2\\leftarrow 1} & 0 & \\epsilon_2\\hat{\\rho}_{2,2}\\,c_{2\\leftarrow 2} \\\\   0 & 0 & 0 & 0 & | & 0 & 0 & 0 & 0 \\end{array} \\right]","code":""},{"path":"https://ssi-dk.github.io/diseasy/articles/SEIR-implementation.html","id":"notes-on-optimisations-of-the-right-hand-side-function","dir":"Articles","previous_headings":"","what":"Notes on optimisations of the right-hand side function","title":"SEIR: Implementation","text":"important implementation somewhat optimised simulations run reasonable time. end, show micro-benchmarks different implementations steps highlight given implementation chosen. benchmarks assume simple SEIR model tree age group one variant.","code":""},{"path":"https://ssi-dk.github.io/diseasy/articles/SEIR-implementation.html","id":"infected-sum-computation","dir":"Articles","previous_headings":"Notes on optimisations of the right-hand side function","what":"“infected” sum computation","title":"SEIR: Implementation","text":"","code":"## Step 1, determine the number of infected by age group and variant i_state_indices <- list(2, 5, 8) state_vector <- rep(0, 9)  # Benchmark possible approaches microbenchmark::microbenchmark( # Microseconds   \"purrr::map_dbl\" = purrr::map_dbl(     i_state_indices,     \\(indices) sum(state_vector[indices])   ),   \"sapply\" = sapply(     i_state_indices,     \\(indices) sum(state_vector[indices])   ),   \"sapply - USE.NAMES\" = sapply(     i_state_indices,     \\(indices) sum(state_vector[indices]),     USE.NAMES = FALSE   ),   \"vapply\" = vapply(     i_state_indices,     \\(indices) sum(state_vector[indices]),     FUN.VALUE = numeric(1),     USE.NAMES = FALSE   ),   check = \"equal\", times = 1000L ) #> Unit: microseconds #>                expr    min     lq      mean  median      uq      max neval #>      purrr::map_dbl 24.516 26.314 27.958321 27.5920 28.5435  102.382  1000 #>              sapply 12.543 12.974 13.818862 13.2950 14.1560   44.013  1000 #>  sapply - USE.NAMES 12.533 12.964 15.296226 13.2595 14.1265 1560.332  1000 #>              vapply  4.809  5.210  5.554369  5.4300  5.6400   21.511  1000"},{"path":"https://ssi-dk.github.io/diseasy/articles/SEIR-initialisation.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"SEIR: Initialising from incidence data","text":"Let us begin considering general SEIR model KK LL consecutive EE II states respectively, governed rates rer_e rir_i respectively. Let us assume incidence signal1, *(t)^*(t), like model match. general approach consider derivatives incidence link states model.","code":""},{"path":"https://ssi-dk.github.io/diseasy/articles/SEIR-initialisation.html","id":"initialising-ei-states","dir":"Articles","previous_headings":"","what":"Initialising EI states","title":"SEIR: Initialising from incidence data","text":"EIEI states SEIR model match recent developments incidence. purpose, assume signal occurs exiting I1I_1 model. , assume *=riI1I^* = r_i I_1. take equation I1I_1 multiply rir_i obtain. ridI1dt=rireEK−ri2I1⇒ r_i\\frac{d I_1}{d t} = r_i r_e E_K - r_i^2 I_1 \\Rightarrow dI*dt=rireEK−riI* \\frac{d ^*}{d t} = r_i r_e E_K - r_i ^* take second derivative, find: d2I*dt2=riredEKdt−ridIldt \\frac{d^2I^*}{d t^2} = r_i r_e \\frac{d E_K}{d t} - r_i \\frac{d I_l}{d t}  , can inject dEKdt\\frac{d E_K}{d t} SEIR equations turn relates Ek−1E_{k-1}. d2I*dt2=rire(reEK−1−reEK)−ridIldt \\frac{d^2I^*}{d t^2} = r_i r_e \\left(r_e E_{K-1} - r_e E_K\\right) - r_i \\frac{d I_l}{d t} process can iterated derivatives EKE_K states expressed terms *(t)^*(t) derivatives. case, can relate EkE_k states rates derivatives signal simple form: ri[reEKre2EK−1…reK−1E2reKE1]=M¯¯K⋅[*dI*dt…dKI*dtKdK+1I*dtK+1] r_i \\begin{bmatrix} r_e E_K \\\\ r_e^2 E_{K-1} \\\\ \\dots \\\\ r_e^{K-1} E_2 \\\\ r_e^K E_1 \\\\ \\end{bmatrix} = \\overline{\\overline{M}}_K \\cdot \\begin{bmatrix} ^* \\\\ \\frac{d ^*}{d t} \\\\ \\dots \\\\ \\frac{d^K ^*}{d t^K} \\\\ \\frac{d^{K+1}^*}{d t^{K+1}} \\end{bmatrix} matrix MK¯¯\\overline{\\overline{M_K}} can computed via simple recursion. see , start equation derivative *(t)^*(t): dI*dt=rireEK−riI* \\frac{d ^*}{d t} = r_i r_e E_K - r_i ^* separating EkE_k ** terms: rireEK=riI*+dI*dt r_i r_e E_K = r_i ^* + \\frac{d ^*}{d t} formulation, corresponds matrix M¯¯1=[ri1]\\overline{\\overline{M}}_1 = \\begin{bmatrix}r_i & 1\\end{bmatrix}. taking second derivative, obtain: d2I*dt2=riredEKdt−ridI*dt⇒ \\frac{d^2I^*}{d t^2} = r_i r_e \\frac{d E_K}{d t}- r_i \\frac{d ^*}{d t} \\Rightarrow d2I*dt2=rire(reEK−1−reEK)−ridI*dt⇒ \\frac{d^2I^*}{d t^2} = r_i r_e \\left(r_e E_{K-1} - r_e E_K\\right) - r_i \\frac{d ^*}{d t} \\Rightarrow d2I*dt2=rire2Ek−1−re(ridI*dt+*)−ridI*dt \\frac{d^2I^*}{d t^2} = r_i r_e^2 E_{k-1} - r_e\\left(r_i \\frac{d ^*}{d t} + ^*\\right)- r_i \\frac{d ^*}{d t} separating EkE_k ** terms: rire2Ek−1=re(ridI*dt+*)+ridI*dt+d2I*dt2 r_i r_e^2 E_{k-1} = r_e\\left(r_i \\frac{d ^*}{d t} + ^*\\right) + r_i \\frac{d ^*}{d t} + \\frac{d^2I^*}{d t^2} , matrix formulation corresponds sum rem¯1r_e \\overline{m}_1 shifted m¯1\\overline{m}_1, m¯1\\overline{m}_1 row vector M¯1¯\\overline{\\overline{M}_1}. , can express second derivative : m¯2=re[m¯10]+[0m¯1] \\overline{m}_2 = r_e \\begin{bmatrix}\\overline{m}_1 & 0 \\end{bmatrix}+ \\begin{bmatrix}0 & \\overline{m}_1\\end{bmatrix} =[rirere0]+[0ri1] = \\begin{bmatrix}r_i r_e & r_e & 0 \\end{bmatrix} + \\begin{bmatrix}0 & r_i & 1 \\end{bmatrix} =[rirere+ri1] = \\begin{bmatrix}r_i r_e & r_e + r_i & 1 \\end{bmatrix} , combined m¯1\\overline{m}_1 yields two level system: M¯¯2=[m11m120m21m22m23] \\overline{\\overline{M}}_2 = \\begin{bmatrix}m_{11} & m_{12} & 0 \\\\ m_{21} & m_{22} & m_{23} \\end{bmatrix} =[ri10rirere+ri1] = \\begin{bmatrix} r_i & 1 & 0 \\\\ r_i r_e & r_e + r_i & 1 \\end{bmatrix} general, rows can computed recursion: m¯k=re[m¯k−10]+[0m¯k−1]m¯¯1=[ri1]. \\overline{m}_{k} = r_e \\begin{bmatrix}   \\overline{m}_{k-1} & 0 \\end{bmatrix} + \\begin{bmatrix}   0 & \\overline{m}_{k-1} \\end{bmatrix}\\quad \\overline{\\overline{m}}_1 = \\begin{bmatrix}r_i & 1\\end{bmatrix}. algorithmic implementation recursion : Since assume signal *^* relates I1I_1, can determine Il>1I_{l>1} states evaluating signal *(t−(l−1)/ri)^*(t - (l - 1) / r_i).","code":"K <- 4 ri <- 0.9 re <- 0.8  M <- matrix(rep(0, K * (K + 1)), nrow = K) # Pre-allocate active_row <- c(ri, 1)  for (k in seq(K)) {   if (k > 1) active_row <- c(0, active_row) + re * c(active_row, 0)    M[k, seq(k + 1)] <- active_row }  M #>        [,1] [,2] [,3] [,4] [,5] #> [1,] 0.9000 1.00 0.00  0.0    0 #> [2,] 0.7200 1.70 1.00  0.0    0 #> [3,] 0.5760 2.08 2.50  1.0    0 #> [4,] 0.4608 2.24 4.08  3.3    1"},{"path":"https://ssi-dk.github.io/diseasy/articles/SEIR-initialisation.html","id":"initialising-sr-states","dir":"Articles","previous_headings":"","what":"Initialising SR states","title":"SEIR: Initialising from incidence data","text":"SRSR states SEIR model capture short long term developments incidence signal want match. lot infections happened previously, expect larger proportion population RR states. assume *=riI1I^* = r_i I_1. can modify SEIR equation take signal forcing function EE states one less II state (I1I_1 state). equations normal expect following changes: =*ri+∑l=2LIl = \\frac{^*}{r_i} + \\sum_{l=2}^L I_l dI2dt=*−riI2 \\frac{d I_2}{d t} = ^* - r_i I_2  start system time new infections, can initialize Il=0I_l = 0, run simulation forward estimate SS RR populations point interest.","code":""},{"path":"https://ssi-dk.github.io/diseasy/articles/SEIR-initialisation.html","id":"testing-the-methods","dir":"Articles","previous_headings":"","what":"Testing the methods","title":"SEIR: Initialising from incidence data","text":"test initialisation methods data set generated using ?DiseasyModelOdeSeir model template using vignette.","code":""},{"path":"https://ssi-dk.github.io/diseasy/articles/SEIR-initialisation.html","id":"simple-seir-example-data","dir":"Articles","previous_headings":"Testing the methods","what":"Simple SEIR example data","title":"SEIR: Initialising from incidence data","text":"first example, use SEIR model output know parameters model used generate data. begin, configure observables module use data set use available data. data set contains different data infected test initialisation method . data : “n_infected”: true number infected model, measured number people transitioning I1 state given date. “n_positive_simple”: realisation number test-positives model - using 65 % probability testing. “n_positive”: realisation number test-positives model - using overall 65 % probability testing conjunction reduced probability testing weekends.  different levels detail allows us test initialisation incidence data different cases. method relies incidence data, scale model outputs population size. creating “synthetic” observable observables module. simplest cases using “n_infected” signal directly tracks I1 state model. realistic case “n_positive” signal real life inspired noise patterns.","code":"# Connect to a database obs <- DiseasyObservables$new(   diseasystore = DiseasystoreSeirExample,   conn = DBI::dbConnect(duckdb::duckdb()) )  obs$set_study_period( # Use all available data   start_date = obs$ds$min_start_date,   end_date = obs$ds$max_end_date ) model_data <- c(\"n_infected\", \"n_positive_simple\", \"n_positive\") |>   purrr::map(\\(observable) {     obs$get_observation(       observable = observable,       stratification = rlang::quos(age_group)     )   }) |>   purrr::reduce(~ dplyr::full_join(.x, .y, by = c(\"date\", \"age_group\"))) |>   dplyr::mutate(\"variant\" = \"WT\", .after = \"age_group\")  model_data #> # A tibble: 450 × 6 #>    date       age_group variant n_infected n_positive_simple n_positive #>    <date>     <chr>     <chr>        <dbl>             <dbl>      <dbl> #>  1 2020-01-03 30-59     WT            64.2                37         41 #>  2 2020-01-04 30-59     WT           136.                 85         64 #>  3 2020-01-05 30-59     WT           179.                107         79 #>  4 2020-01-06 30-59     WT           203.                136        138 #>  5 2020-01-07 30-59     WT           221.                137        144 #>  6 2020-01-08 30-59     WT           239.                159        169 #>  7 2020-01-09 30-59     WT           257.                170        181 #>  8 2020-01-10 30-59     WT           278.                188        196 #>  9 2020-01-11 30-59     WT           301.                203        159 #> 10 2020-01-12 30-59     WT           326.                199        143 #> # ℹ 440 more rows # Visualise the example data ggplot2::ggplot(model_data) +   ggplot2::geom_line(     ggplot2::aes(x = date, y = n_infected, color = \"Infected\"),     linewidth = 1   ) +   ggplot2::geom_point(     ggplot2::aes(x = date, y = n_positive, color = \"Test positive (realistic)\")   ) +   ggplot2::geom_line(     ggplot2::aes(       x = date, y = n_positive_simple,       color = \"Test positive (simple)\"     ),     linewidth = 1   ) +   ggplot2::facet_wrap(~ age_group) +   ggplot2::ylab(\"Test positive / Infected\") +   ggplot2::scale_color_manual(     values = c(       \"Infected\"                  = \"deepskyblue3\",       \"Test positive (simple)\"    = \"orange\",       \"Test positive (realistic)\" = \"seagreen\"     )   ) +   ggplot2::labs(colour = \"Model output\") source <- \"n_positive\"   if (source == \"n_infected\") {   mapping <- \\(n_infected, n_population) n_infected / (n_population) } else if (source == \"n_positive_simple\") {   mapping <- \\(n_positive_simple, n_population) {     n_positive_simple / (n_population * 0.65)   } } else if (source == \"n_positive\") {   mapping <- \\(n_positive, n_population) n_positive / (n_population * 0.65) }  obs$define_synthetic_observable(\"incidence\", mapping)  incidence_data <- obs$get_observation(   observable = \"incidence\",   stratification = rlang::quos(age_group) ) |>   dplyr::mutate(\"source\" = !!source)"},{"path":"https://ssi-dk.github.io/diseasy/articles/SEIR-initialisation.html","id":"correctly-specified-model","dir":"Articles","previous_headings":"Testing the methods > Simple SEIR example data","what":"Correctly specified model","title":"SEIR: Initialising from incidence data","text":"case, first need define model initialise using incidence data. use model configuration used generate data test best case scenario: method relies fitting polynomial latest period, visualise fitting.  can now use ?DiseasyModelOdeSeir$initialise_state_vector() method infer initial state vector. now test initial conditions solving model using starting conditions.","code":"# Set the point in time to initialise from obs$set_last_queryable_date(obs$start_date + lubridate::days(45))  generate_model <- function(K, L, M, rE = 1 / 2.1, rI = 1 / 4.5) {    # Define the activity for the scenario   act <- DiseasyActivity$new()   act$set_contact_basis(contact_basis = contact_basis$DK)   act$set_activity_units(dk_activity_units)   act$change_activity(date = as.Date(\"1900-01-01\"), opening = \"baseline\")    # Create a SEIR model to initialise   m <- DiseasyModelOdeSeir$new(     observables = obs,     activity = act,     compartment_structure = c(\"E\" = K, \"I\" = L, \"R\" = M),     disease_progression_rates = c(\"E\" = rE, \"I\" = rI),     parameters = list(       \"age_cuts_lower\" = c(0, 30, 60),       \"overall_infection_risk\" = 0.025     )   )    return(m) }  m <- generate_model(2, 1, 1) # Use the configuration from example data # Extract the most recent signal poly_fit_data <- incidence_data |>   dplyr::mutate(     \"t\" = as.numeric(.data$date - !!obs$last_queryable_date, units = \"days\")   )  poly_fit_projection <- poly_fit_data |>   dplyr::group_by(.data$age_group) |>   dplyr::group_modify(     ~ {       poly_fit <- lm(         incidence ~ poly(t, m$parameters$incidence_polynomial_order, raw = TRUE),         data = dplyr::filter(           .x,           .data$t <= 0,           .data$t >= - m$parameters$incidence_polynomial_training_length         )       )        tibble::tibble(         \"t\" = .x$t,         \"incidence\" = predict(poly_fit, data.frame(\"t\" = t))       ) |>         dplyr::mutate(\"date\" = .x$date)     }   )  incidence_data |>   ggplot2::ggplot(ggplot2::aes(x = date, y = incidence)) +     ggplot2::geom_point(       color = switch(         source,         \"n_infected\"        = \"deepskyblue3\",         \"n_positive_simple\" = \"orange\",         \"n_positive\"        = \"seagreen\"       )     ) +     ggplot2::geom_line(data = poly_fit_projection, color = \"red\", linewidth = 1) +     ggplot2::geom_vline(       xintercept = obs$last_queryable_date,       linetype = 2, linewidth = 1, color = \"red\"     ) +     ggplot2::geom_vline(       xintercept = obs$last_queryable_date -         m$parameters$incidence_polynomial_training_length,       linetype = 2, linewidth = 1, color = \"red\"     ) +     ggplot2::ylim(       0,       incidence_data |>         dplyr::pull(\"incidence\") |>         max() * 1.1     ) +     ggplot2::facet_wrap(~ age_group) +     ggplot2::theme_bw() #> Warning: Removed 169 rows containing missing values or values outside the scale range #> (`geom_line()`). psi <- m$initialise_state_vector(incidence_data)  psi #> # A tibble: 15 × 4 #>    variant age_group state initial_condition #>    <chr>   <chr>     <chr>             <dbl> #>  1 All     00-29     E1             0.00147  #>  2 All     00-29     E2             0.00141  #>  3 All     00-29     I1             0.00484  #>  4 All     00-29     R1             0.0132   #>  5 All     30-59     E1             0.00123  #>  6 All     30-59     E2             0.00118  #>  7 All     30-59     I1             0.00410  #>  8 All     30-59     R1             0.0112   #>  9 All     60+       E1             0.000413 #> 10 All     60+       E2             0.000398 #> 11 All     60+       I1             0.00139  #> 12 All     60+       R1             0.00379  #> 13 NA      00-29     S              0.337    #> 14 NA      30-59     S              0.368    #> 15 NA      60+       S              0.250 get_prediction <- function(     model,     psi,     signal = \"incidence\"   ) {    # Integrate the ODE system with deSolve   sol <- deSolve::ode(     y = psi$initial_condition,     times = seq(0, 50),     func = model$rhs   )    # Improve the names of the output   colnames(sol) <- c(     \"time\",     psi |>       tidyr::unite(\"label\", \"variant\", \"age_group\", \"state\", sep = \"/\") |>       dplyr::pull(\"label\")   )    # Convert to long format   sol_long <- sol |>     as.data.frame() |>     tidyr::pivot_longer(       !\"time\",       names_sep = \"/\",       names_to = c(\"variant\", \"age_group\", \"state\")     )    # Extract the solution   if (signal == \"incidence\") {     out <- sol_long |>       dplyr::filter(.data$state == \"I1\") |>       dplyr::select(!\"state\") |>       dplyr::mutate(         \"date\" = .data$time + model$observables$last_queryable_date,         \"incidence_model\" = model$disease_progression_rates[[\"I\"]] *             model$compartment_structure[[\"I\"]] *             .data$value       )      # Convert to incidence     proportion <- model$activity$map_population(       model$parameters$age_cuts_lower     ) |>       dplyr::mutate(         \"age_group\" = diseasystore::age_labels(           model$parameters$age_cuts_lower         )[.data$age_group_out]       ) |>       dplyr::summarise(         \"proportion\" = sum(.data$proportion),         .by = \"age_group\"       )      out <- out |>       dplyr::left_join(proportion, by = \"age_group\") |>       dplyr::mutate(\"incidence_model\" = .data$incidence_model / .data$proportion) |>       dplyr::select(!\"proportion\")    } else if (signal == \"prevalence\") {     out <- sol_long |>       dplyr::filter(startsWith(.data$state, \"I1\")) |>       dplyr::select(!\"state\") |>       dplyr::summarise(         \"date\" = dplyr::first(.data$time) + model$observables$last_queryable_date,         \"incidence_model\" = sum(.data$value),         .by = \"time\"       )   }    # Add the model configuration   out <- out |>     dplyr::mutate(       \"model_configuration\" = paste0(         names(model$compartment_structure),         model$compartment_structure,         collapse = \"\"       )     )    return(out) }  prediction <- get_prediction(model = m, psi = psi)  prediction #> # A tibble: 153 × 7 #>     time variant age_group   value date       incidence_model #>    <dbl> <chr>   <chr>       <dbl> <date>               <dbl> #>  1     0 All     00-29     0.00484 2020-02-17         0.00302 #>  2     0 All     30-59     0.00410 2020-02-17         0.00236 #>  3     0 All     60+       0.00139 2020-02-17         0.00120 #>  4     1 All     00-29     0.00512 2020-02-18         0.00319 #>  5     1 All     30-59     0.00433 2020-02-18         0.00249 #>  6     1 All     60+       0.00147 2020-02-18         0.00127 #>  7     2 All     00-29     0.00546 2020-02-19         0.00341 #>  8     2 All     30-59     0.00462 2020-02-19         0.00266 #>  9     2 All     60+       0.00157 2020-02-19         0.00135 #> 10     3 All     00-29     0.00586 2020-02-20         0.00365 #> # ℹ 143 more rows #> # ℹ 1 more variable: model_configuration <chr> ggplot2::ggplot() +   ggplot2::geom_point(     data = incidence_data,     ggplot2::aes(x = date, y = incidence),     color = switch(       source,       \"n_infected\"        = \"deepskyblue3\",       \"n_positive_simple\" = \"orange\",       \"n_positive\"        = \"seagreen\"     )   ) +   ggplot2::geom_line(     data = prediction,     ggplot2::aes(x = date, y = incidence_model, color = model_configuration),     linewidth = 1.5   ) +   ggplot2::geom_vline(     xintercept = obs$last_queryable_date,     linetype = 2,     color = \"black\"   ) +   ggplot2::facet_grid(source ~ age_group, scales = \"free\") +   ggplot2::labs(y = \"Model output\", color = \"Model Configuration\")"},{"path":"https://ssi-dk.github.io/diseasy/articles/SEIR-initialisation.html","id":"misspecified-model","dir":"Articles","previous_headings":"Testing the methods > Simple SEIR example data","what":"Misspecified model","title":"SEIR: Initialising from incidence data","text":"Correctly matching model best case scenario. However, can also method couple cases model misspecified. Note state modify parameters model match development, estimate initial state vector. include model fitting, discrepancy data model predictions may diminish.","code":""},{"path":"https://ssi-dk.github.io/diseasy/articles/SEIR-initialisation.html","id":"misspecified-model-in-periods-of-increasing-infections","dir":"Articles","previous_headings":"Testing the methods > Simple SEIR example data > Misspecified model","what":"Misspecified model in periods of increasing infections","title":"SEIR: Initialising from incidence data","text":"","code":"models <- list(   generate_model(2, 1, 1),   generate_model(1, 1, 1),   generate_model(2, 2, 2),   generate_model(3, 2, 5) )  predictions <- models |>   purrr::map(\\(m) {     get_prediction(model = m, psi = m$initialise_state_vector(incidence_data))   }) |>   purrr::reduce(rbind)   ggplot2::ggplot() +   ggplot2::geom_point(     data = incidence_data,     ggplot2::aes(x = date, y = incidence),     color = switch(       source,       \"n_infected\"        = \"deepskyblue3\",       \"n_positive_simple\" = \"orange\",       \"n_positive\"        = \"seagreen\"     )   ) +   ggplot2::geom_line(     data = predictions,     ggplot2::aes(x = date, y = incidence_model, color = model_configuration),     linewidth = 1.5   ) +   ggplot2::geom_vline(     xintercept = models[[1]]$observables$last_queryable_date,     linetype = 2,     color = \"black\"   ) +   ggplot2::facet_grid(source ~ age_group, scales = \"free\") +   ggplot2::labs(y = \"Model output\", color = \"Model Configuration\")"},{"path":"https://ssi-dk.github.io/diseasy/articles/SEIR-initialisation.html","id":"misspecified-model-in-periods-of-decreasing-infections","dir":"Articles","previous_headings":"Testing the methods > Simple SEIR example data > Misspecified model","what":"Misspecified model in periods of decreasing infections","title":"SEIR: Initialising from incidence data","text":"","code":"models <- list(   generate_model(2, 1, 1),   generate_model(1, 1, 1),   generate_model(2, 2, 2),   generate_model(3, 2, 5) )  # Update the last queryable date to later starting point purrr::walk(models, \\(m) {   m$observables$set_last_queryable_date(     m$observables$ds$max_end_date - lubridate::days(45)   ) })  predictions <- models |>   purrr::map(\\(m) {     get_prediction(model = m, psi = m$initialise_state_vector(incidence_data))   }) |>   purrr::reduce(rbind)   ggplot2::ggplot() +   ggplot2::geom_point(     data = incidence_data,     ggplot2::aes(x = date, y = incidence),     color = switch(       source,       \"n_infected\"        = \"deepskyblue3\",       \"n_positive_simple\" = \"orange\",       \"n_positive\"        = \"seagreen\"     )   ) +   ggplot2::geom_line(     data = predictions,     ggplot2::aes(x = date, y = incidence_model, color = model_configuration),     linewidth = 1.5   ) +   ggplot2::geom_vline(     xintercept = models[[1]]$observables$last_queryable_date,     linetype = 2,     color = \"black\"   ) +   ggplot2::facet_grid(source ~ age_group, scales = \"free\") +   ggplot2::labs(y = \"Model output\", color = \"Model Configuration\")"},{"path":"https://ssi-dk.github.io/diseasy/articles/SEIR-malthusian-matching.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"SEIR: Accounting for structural differences in malthusian growth rates","text":"using generalised SEIR model KK LL consecutive EE II states respectively, structural differences realised (Malthusian) growth rate system contact rate β\\beta. Since like able compare different SEIR models different compartment structures, like able account difference scaling growth rates. Following method outlined Diekmann et al., compute Malthusian growth rate system scale contact rates system achieves Malthusian growth rate SIR model contact rate β\\beta.","code":""},{"path":"https://ssi-dk.github.io/diseasy/articles/SEIR-malthusian-matching.html","id":"visualisation","dir":"Articles","previous_headings":"","what":"Visualisation","title":"SEIR: Accounting for structural differences in malthusian growth rates","text":"run SEIR models 0-3 EE 1-3 II states without age groups using contact rate β\\beta, compare incidence models time. models run without Malthusian growth rate matching. Notice Malthusian growth rates matched, matching done SIR model faster growth SEIR model contact rate β\\beta.","code":"# Set the time scales of the problem rE <- 1 / 2 rI <- 1 / 4  tmax <- 45  # Set the combinations to test combinations <- tidyr::expand_grid(   K = seq.int(0, 3),   L = seq.int(3),   age_cuts_lower = list(0, c(0, 30, 60)) )  combinations |>   purrr::pmap(\\(K, L, age_cuts_lower) {      purrr::map(c(FALSE, TRUE), \\(match) {       # Run a SIR model to generate the target of our initialisation       m <- DiseasyModelOdeSeir$new(         observables = DiseasyObservables$new(           conn = DBI::dbConnect(RSQLite::SQLite()),           last_queryable_date = Sys.Date() - 1         ),         variant = DiseasyVariant$new(),         compartment_structure = c(\"E\" = K, \"I\" = L, \"R\" = 1),         disease_progression_rates = c(\"E\" = rE, \"I\" = rI),         parameters = list(\"age_cuts_lower\" = 0, \"overall_infection_risk\" = 0.6),         malthusian_matching = match       )        # Generate a uniform initial state_vector that sums to 1       y0 <- c(rep(0, K + L + 1), 0.999)       y0[1] <- 0.001        # Run solver across scenario change to check for long-term leakage       sol <- deSolve::ode(         y = y0,         times = seq(0, tmax),         func = m %.% rhs,         parms = NULL       )        # Retrieve the (incidence) signal       data.frame(t = sol[, 1], incidence = L * rI * sol[, K + 2]) |>         dplyr::mutate(           incidence = incidence / incidence[6],           model_configuration = glue::glue(             \"L = {L}, K = {K}, A = {length(age_cuts_lower)}\"           ),           malthusian_matching = dplyr::if_else(             condition = match,             true = \"Matched growth rates\",             false = \"No matching\"           )         ) |>         dplyr::filter(t > 0)     }) |>       purrr::list_rbind()    }) |>   purrr::list_rbind() |>   ggplot2::ggplot(ggplot2::aes(x = t, y = incidence, color = model_configuration)) +     ggplot2::geom_line(linewidth = 1) +     ggplot2::scale_y_continuous(transform = \"log10\") +     ggplot2::facet_wrap(       ~ factor(         malthusian_matching,         levels = c(\"No matching\", \"Matched growth rates\")       )     ) +     ggplot2::xlab(\"Time\") +     ggplot2::ylab(\"Incidence (relative to t = 5)\") +     ggplot2::guides(color = \"none\") +     ggplot2::theme_bw()"},{"path":"https://ssi-dk.github.io/diseasy/articles/creating-a-model.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"Creating a model","text":"vignette provides overview DiseasyModel class use creating diseasy model. described package introduction (vignette(\"diseasy\")), power diseasy comes combining different “functional” modules model “templates” create large ensemble models easily. DiseasyModel defines model templates look, provides mechanism functional modules loaded model templates create individual model members ensemble. dive details DiseasyModel, let’s first consider means “model template”:","code":""},{"path":"https://ssi-dk.github.io/diseasy/articles/creating-a-model.html","id":"model-templates","dir":"Articles","previous_headings":"","what":"Model Templates","title":"Creating a model","text":"Developing model diseasy involves constructing model template incorporates one functional modules model design. instance, let’s consider creation simple SIR (Susceptible, Infectious, Recovered) infection model seasonal forcing σ(t)\\sigma(t) overall infection rate, denoted . SEIR model seasonal forcing can represented following set differential equations: dS(t)dt=−β⋅σ(t)⋅S(t)⋅(t) \\frac{d S(t)}{d t} = - \\beta \\cdot \\sigma(t) \\cdot S(t) \\cdot (t) dI(t)dt=β⋅σ(t)⋅S(t)⋅(t)−γ⋅(t) \\frac{d (t)}{d t} = \\beta \\cdot \\sigma(t) \\cdot S(t) \\cdot (t) - \\gamma \\cdot (t) dR(t)dt=γ⋅(t) \\frac{d R(t)}{d t} = \\gamma \\cdot (t) developing model traditionally, choose functional form seasonal forcing σ(t)\\sigma(t), e.g. sinusoidal relationship: σ(t)=⋅cos(k⋅t+ϕ) \\sigma(t) = \\cdot \\cos(k \\cdot t + \\phi) strategy diseasy source seasonal forcing σ(t)\\sigma(t) directly corresponding functional module (DiseasySeason). Every implementation seasonal forcing DiseasySeason function signature (.e. take single argument tt configured). way, can configure different instances DiseasySeason using whole range (available) plausible functional forms seasonal forcing: seasonal forcing (σ(t)=1\\sigma(t) = 1) Sinusoidal forcing Temperature dependent forcing plausible seasonal forcing forms Since modules diseasy “objects” object-oriented-programming sense, functional forms seasonal forcing can parameters (see list ), stored object configuring module, actual seasonal forcing exposed models function signature takes time input (σ(t)\\sigma(t))1. way, can easily swap different seasonal forcing models model templates without change model equations . new seasonal forcing models developed, automatically available developed model. philosophy behind diseasy package, since can easily swap different functional modules templates generate large ensemble models functional forms disease dynamics.","code":""},{"path":"https://ssi-dk.github.io/diseasy/articles/creating-a-model.html","id":"the-diseasymodel-class","dir":"Articles","previous_headings":"","what":"The DiseasyModel class","title":"Creating a model","text":"create model template diseasy create new class inherits DiseasyModel class. gives model template access functional modules available package, defines user sets parameters model queries model results. addition, provides useful utilities implementation model logging caching.","code":""},{"path":"https://ssi-dk.github.io/diseasy/articles/creating-a-model.html","id":"a-container-for-functional-modules","dir":"Articles","previous_headings":"The DiseasyModel class","what":"A container for functional modules","title":"Creating a model","text":"DiseasyModel class contains slots instances functional modules: $activity: {DiseasyActivity} $immunity: {DiseasyImmunity} $observables: {DiseasyObservables} $season: {DiseasySeason} $variant: {DiseasyVariant} means, new DiseasyModel instance created, functional modules internally available. Going back example SIR model seasonal forcing, model template access seasonal forcing σ(t)\\sigma(t) via call self$season$model_t(t).","code":""},{"path":"https://ssi-dk.github.io/diseasy/articles/creating-a-model.html","id":"training-testing-and-validation-data","dir":"Articles","previous_headings":"The DiseasyModel class","what":"Training, testing, and validation data","title":"Creating a model","text":"DiseasyModel class also contains method $get_data() provides training data models. method interfaces DiseasyObservables module provide data observable stratification level. level stratification generally flexible parameter set user requesting results model. example, user request results country level regional level. helper method $get_data() provide training, testing, validation data observable requested level. data contain one record time point corresponding period, columns date observation, values different (optional) stratification, value observable date, finally, integer counter day relative end period.","code":""},{"path":"https://ssi-dk.github.io/diseasy/articles/creating-a-model.html","id":"model-user-interface","dir":"Articles","previous_headings":"The DiseasyModel class","what":"Model-user interface","title":"Creating a model","text":"Beyond providing access functional modules, DiseasyModel defines user interface model.","code":""},{"path":"https://ssi-dk.github.io/diseasy/articles/creating-a-model.html","id":"setting-parameters","dir":"Articles","previous_headings":"The DiseasyModel class > Model-user interface","what":"Setting parameters","title":"Creating a model","text":"default parameters model contained within $parameters slot model template. exposed user, logic can implemented allow user set parameters model leaving others free determined model model fitting. technical reasons2, implement private$default_parameters() slot function combines model-specific parameters inherited parameters superclasses. {r .parameters implementation, eval = FALSE}                                                                         # nolint: assignment_linter, object_usage_linter default_parameters = function() {   modifyList(     super$default_parameters(), # Obtain parameters superclasses     # Overwrite model-specific parameters     list(\"model_specific_param_1\" = 1, \"model_specific_param_2\" = \"method_1\"),     keep.null = TRUE   ) } # nolint end initialisation, evaluated single list parameters, updated user-specified values parameters stored private$.parameters slot. parameters accessible via $parameters.","code":""},{"path":"https://ssi-dk.github.io/diseasy/articles/creating-a-model.html","id":"validating-the-parameters","dir":"Articles","previous_headings":"The DiseasyModel class > Model-user interface > Setting parameters","what":"Validating the parameters","title":"Creating a model","text":"model template can test user provided parameters implementing private$validate_parameters() method. Note parameters may set inherited superclasses, implementation $validate_parameters() method also call parent validation method (super$validate_parameters()). {r .parameter validation implementation, eval = FALSE}                                                               # nolint: assignment_linter, object_usage_linter validate_parameters = function() {   checkmate::assert_number(self$parameters$model_specific_param_1)   checkmate::assert_choice(     self$parameters$model_specific_param_2,     c(\"method_1\", \"method_2\")   )   super$validate_parameters() } # nolint end","code":""},{"path":"https://ssi-dk.github.io/diseasy/articles/creating-a-model.html","id":"getting-results","dir":"Articles","previous_headings":"The DiseasyModel class > Model-user interface","what":"Getting results","title":"Creating a model","text":"parameters model set (either user model), user can query model results using $get_results() function. function, user provides parameters result provided (target observable, time-window stratification level). return, function returns standardised data.frame-like output can used analysis conjunction results models. outputs model standardised, follow structure training_data provided $get_data() enriched model prediction, model id realization id.","code":""},{"path":"https://ssi-dk.github.io/diseasy/articles/creating-ensembles.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"Creating ensembles","text":"goal diseasy create manipulate ensembles disease models. vignette show create ensembles use make predictions.","code":""},{"path":"https://ssi-dk.github.io/diseasy/articles/creating-ensembles.html","id":"configuration-of-the-models","dir":"Articles","previous_headings":"","what":"Configuration of the models","title":"Creating ensembles","text":"Different models needs varying amount configuration can enter ensemble. include model template ensemble, need consult documentation template determine steps needed configure models template. vignette, create ensembles using DiseasyModelG0 DiseasyModelG1 templates nearly configuration free.","code":""},{"path":"https://ssi-dk.github.io/diseasy/articles/creating-ensembles.html","id":"observables-module","dir":"Articles","previous_headings":"Configuration of the models","what":"Observables module","title":"Creating ensembles","text":"model template requires configured observables module. configure module must: Specify source data (.e. diseasystore use). example, use example data bundled package (?DiseasystoreSeirExample) Specify data base connection. diseasystore requires us connect data base store features . example, use -memory SQLite data base. Specify last_queryable_date observables module. date determine data models can “see”, .e. inform ensemble, everything date kept ensemble.","code":"observables <- DiseasyObservables$new(   diseasystore = DiseasystoreSeirExample,   conn = DBI::dbConnect(RSQLite::SQLite()) )  observables$set_last_queryable_date(   observables$ds$max_end_date - lubridate::days(50) )"},{"path":"https://ssi-dk.github.io/diseasy/articles/creating-ensembles.html","id":"creating-ensembles","dir":"Articles","previous_headings":"","what":"Creating ensembles","title":"Creating ensembles","text":"functional modules configured, can now use combineasy() function create ensemble. function takes three arguments: model_templates: list model templates use ensemble. modules: combination functional modules load model template parameters: combination model parameters load model template combinations three arguments used construct ensemble, means size ensemble can rapidly increase.","code":""},{"path":"https://ssi-dk.github.io/diseasy/articles/creating-ensembles.html","id":"example-1","dir":"Articles","previous_headings":"Creating ensembles","what":"Example 1","title":"Creating ensembles","text":"begin, create small ensemble using one model template DiseasyModelG1 omitting optional season module. ensemble, supply three different parameter sets changes training size model. output combineasy() simply list model instances give class DiseasyEnsemble. , can use print(), summary(), predict() plot() functions get quick overview ensemble. produce predictions plots ensemble, need least specify following: observable: observable predict prediction_length: number days predict  One advantages diseasy ability easily stratify models different levels. example, data DiseasystoreSeirExample stratified age, can run ensemble age group separately:  stratifications flexible can stratify hearts desire, limited stratification level diseasystore:  plot() method additional optional arguments can used customize plot : by_model: results individual models plotted instead? context_length: number observations leading prediction include plot.","code":"ensemble <- combineasy(   model_templates = list(DiseasyModelG1),   modules = tidyr::expand_grid(     observables = list(observables)   ),   parameters = tidyr::expand_grid(     training_length = list(       c(\"training\" = 7,  \"testing\" = 0, \"validation\" = 0),       c(\"training\" = 14, \"testing\" = 0, \"validation\" = 0),       c(\"training\" = 21, \"testing\" = 0, \"validation\" = 0)     )   ) ) print(ensemble) #> DiseasyEnsemble: DiseasyModelG1 (hash: d2a3e), DiseasyModelG1 (hash: 629a3), DiseasyModelG1 (hash: ebe23) summary(ensemble) #> DiseasyEnsemble consisting of: #> DiseasyModelG1: 3 predict(ensemble, observable = \"n_positive\", prediction_length = 30) |>   head() #> # A tibble: 6 × 5 #>   date       n_positive realisation_id weight model                            #>   <date>          <dbl> <chr>           <dbl> <chr>                            #> 1 2020-04-12     30717. 1                   1 d2a3e4755b3645de69774e82ddfa05af #> 2 2020-04-13     23174. 1                   1 d2a3e4755b3645de69774e82ddfa05af #> 3 2020-04-14     31103. 1                   1 d2a3e4755b3645de69774e82ddfa05af #> 4 2020-04-15     30758. 1                   1 d2a3e4755b3645de69774e82ddfa05af #> 5 2020-04-16     24464. 1                   1 d2a3e4755b3645de69774e82ddfa05af #> 6 2020-04-17     13287. 1                   1 d2a3e4755b3645de69774e82ddfa05af plot(ensemble, observable = \"n_positive\", prediction_length = 30) plot(   ensemble,   observable = \"n_positive\",   stratification = rlang::quos(age_group),   prediction_length = 30 ) plot(   ensemble,   observable = \"n_positive\",   stratification = rlang::quos(     age_group = dplyr::case_match(       age_group,       \"00-29\" ~ \"00-29\",       \"30-59\" ~ \"30+\",       \"60+\" ~ \"30+\"     )   ),   prediction_length = 30 ) plot(   ensemble,   observable = \"n_positive\",   prediction_length = 30,   context_length = 15,   by_model = TRUE )"},{"path":"https://ssi-dk.github.io/diseasy/articles/creating-ensembles.html","id":"example-2","dir":"Articles","previous_headings":"Creating ensembles","what":"Example 2","title":"Creating ensembles","text":"Now create larger ensemble using model template (DiseasyModelG0 DiseasyModelG1) parameter settings . ensemble now consists 2×3=62 \\times 3 = 6 models: can use plot() method visualize predictions ensemble:","code":"ensemble <- combineasy(   model_templates = list(DiseasyModelG0, DiseasyModelG1),   modules = tidyr::expand_grid(     observables = list(observables)   ),   parameters = tidyr::expand_grid(     training_length = list(       c(\"training\" = 7,  \"testing\" = 0, \"validation\" = 0),       c(\"training\" = 14, \"testing\" = 0, \"validation\" = 0),       c(\"training\" = 21, \"testing\" = 0, \"validation\" = 0)     )   ) ) print(ensemble) #> DiseasyEnsemble: DiseasyModelG0 (hash: 8a852), DiseasyModelG0 (hash: a3830), DiseasyModelG0 (hash: 264fa), DiseasyModelG1 (hash: d2a3e), DiseasyModelG1 (hash: 629a3), DiseasyModelG1 (hash: ebe23) summary(ensemble) #> DiseasyEnsemble consisting of: #> DiseasyModelG0: 3  #> DiseasyModelG1: 3 plot(ensemble, observable = \"n_positive\", prediction_length = 30)"},{"path":"https://ssi-dk.github.io/diseasy/articles/diseasy-activity.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"DiseasyActivity","text":"DiseasyActivity module responsible implementation contact matrices societal restrictions.","code":""},{"path":"https://ssi-dk.github.io/diseasy/articles/diseasy-activity.html","id":"configuring-the-module","dir":"Articles","previous_headings":"","what":"Configuring the module","title":"DiseasyActivity","text":"module can initialized without setting parameters. default, module initializes activity scenario, produces non-informative outputs. (See interfacing section ways get metrics module) use module, must define activity scenario. example , configure module use Danish activity units “contact basis” Denmark (.e basic contact matrices population information). NOTE: given contact basis uses counts contacts individuals rather rates. contacts counts important want project contact matrices different age groups. (see ?contact_basis details contact_basis constructed)","code":"act <- DiseasyActivity$new() act$get_scenario_openness() #> $`1970-01-01` #> $`1970-01-01`$home #> 0+  #>  1  #>  #> $`1970-01-01`$work #> 0+  #>  1  #>  #> $`1970-01-01`$school #> 0+  #>  1  #>  #> $`1970-01-01`$other #> 0+  #>  1 act$set_activity_units(dk_activity_units) act$set_contact_basis(contact_basis %.% DK)  # This configuration can also be done as part of the constructor # act <- DiseasyActivity$new(activity_units = dk_activity_units #                            contact_basis = contact_basis %.% DK)"},{"path":"https://ssi-dk.github.io/diseasy/articles/diseasy-activity.html","id":"defining-an-activity-scenario","dir":"Articles","previous_headings":"","what":"Defining an activity scenario","title":"DiseasyActivity","text":"activity_units contact_basis supplied, can configure activity scenario. example single activity defined (baseline activity) starting 2023-01-01. get overview loaded activities, can use $get_scenario_activities() method. Calls $change_activity cumulative, means can expand existing scenario: try add activity_unit already open, module give error: default, activity units added risk modifier 1. module includes option set overall risk associated 4 types activity (“home”, “work”, “school”, “”). risk separate modifier, allows activity units describe level contacts individuals risk modifier can describe risk-mitigation measures effect contacts. modify associated risk, use $change_risk() method. create new activity scenario active instance module, can use $reset_scenario() method: scenario can also loaded directly data.frame dk_reference_scenario loaded scenario can “cropped” $crop_scenario() method.","code":"act$change_activity(date = as.Date(\"2020-01-01\"), opening = \"baseline\") act$get_scenario_activities() #> $`2020-01-01` #> [1] \"baseline\" act$change_activity(   date = as.Date(\"2020-03-11\"),   opening = \"lockdown_2020\",   closing = \"baseline\" ) # NOTE: we also have to \"close\" the \"baseline\" activity unit. # The activity described by this unit is no longer in effect # while the \"lockdown_2020\" activity unit is active.  act$get_scenario_activities() #> $`2020-01-01` #> [1] \"baseline\" #>  #> $`2020-03-11` #> [1] \"lockdown_2020\" act$change_activity(date = as.Date(\"2020-03-11\"), opening = \"lockdown_2020\") #> Error:  #> Some of lockdown_2020 are already open! # Mitigation measures in workplaces reduce the risk act$change_risk(date = as.Date(\"2020-03-11\"), type = \"work\", risk = 0.45)  act$risk_matrix #>        2020-01-01 2020-03-11 #> home            1       1.00 #> work            1       0.45 #> school          1       1.00 #> other           1       1.00 act$reset_scenario() act$get_scenario_activities() #> named list() print(dk_reference_scenario) #> # A tibble: 301 × 4 #>   date       opening                          closing  social_distance_work #>   <date>     <chr>                            <chr>                   <dbl> #> 1 2020-01-01 baseline                         NA                       1    #> 2 2020-03-11 NA                               baseline                 0.45 #> 3 2020-03-11 lockdown_2020                    NA                       0.45 #> 4 2020-04-15 secondary_education_phase_1_2020 NA                       0.45 #> 5 2020-04-15 private_companies_phase_1_2020   NA                       0.45 #> # ℹ 296 more rows act$change_activity(dk_reference_scenario) activities <- act$get_scenario_activities()  # NOTE: The full list of activities is too long to print in this vignette activities[1:3] #> $`2020-01-01` #> [1] \"baseline\" #>  #> $`2020-03-11` #> [1] \"lockdown_2020\" #>  #> $`2020-04-15` #> [1] \"lockdown_2020\"                     \"secondary_education_phase_1_2020\"  #> [3] \"private_companies_phase_1_2020\"    \"daycares_and_schools_phase_1_2020\" act$crop_scenario(as.Date(\"2020-03-01\"), as.Date(\"2020-04-15\")) act$get_scenario_activities() #> $`2020-03-01` #> [1] \"baseline\" #>  #> $`2020-03-11` #> [1] \"lockdown_2020\" #>  #> $`2020-04-15` #> [1] \"lockdown_2020\"                     \"secondary_education_phase_1_2020\"  #> [3] \"private_companies_phase_1_2020\"    \"daycares_and_schools_phase_1_2020\"  # NOTE: The full list of activities in the scenario is shown here # NOTE: The start date of the \"baseline\" activity is now updated to the given date"},{"path":"https://ssi-dk.github.io/diseasy/articles/diseasy-activity.html","id":"interfacing","dir":"Articles","previous_headings":"","what":"Interfacing with the activity scenario","title":"DiseasyActivity","text":"examples, reduce activity scenario just single activity: activity scenario loaded, query module different ways get contact metrics module scenario.","code":"act$reset_scenario() act$change_activity(date = as.Date(\"2020-03-11\"), opening = \"baseline\")"},{"path":"https://ssi-dk.github.io/diseasy/articles/diseasy-activity.html","id":"contact-matrices","dir":"Articles","previous_headings":"Interfacing with the activity scenario","what":"Contact matrices","title":"DiseasyActivity","text":"Several disease models uses contact matrices structure populations. retrieve contact matrices module, use $get_scenario_contacts() method: DiseasyActivity module provides separate matrices four arenas: “home”, “school”, “work”, “”. matrices can combined supplying weights argument $get_scenario_contacts() method.","code":"# We can project the matrices into custom age-groups by providing the # \"age_cuts_lower\" argument act$get_scenario_contacts(age_cuts_lower = c(0, 60)) #> $`2020-03-11` #> $`2020-03-11`$home #>       00-59 60+ #> 00-59   4.4 0.9 #> 60+     2.6 1.3 #>  #> $`2020-03-11`$work #>       00-59   60+ #> 00-59  1.97 0.096 #> 60+    0.28 0.020 #>  #> $`2020-03-11`$school #>       00-59     60+ #> 00-59 1.497 4.0e-03 #> 60+   0.011 9.6e-05 #>  #> $`2020-03-11`$other #>       00-59  60+ #> 00-59   4.4 0.67 #> 60+     1.9 1.40 act$get_scenario_contacts(   age_cuts_lower = c(0, 20, 40, 60, 80),   weights = c(1, 1, 1, 1) ) #> $`2020-03-11` #>       00-19 20-39 40-59 60-79  80+ #> 00-19  8.72   3.0   2.6   1.1 0.18 #> 20-39  2.66   6.0   3.7   1.5 0.19 #> 40-59  2.21   3.5   4.7   1.7 0.28 #> 60-79  1.15   1.7   2.2   2.6 0.31 #> 80+    0.83   1.0   1.6   1.4 0.27"},{"path":"https://ssi-dk.github.io/diseasy/articles/diseasy-activity.html","id":"societal-openness","dir":"Articles","previous_headings":"Interfacing with the activity scenario","what":"Societal openness","title":"DiseasyActivity","text":"simpler metric societal activity degree “openness”, .e. degree activity limited relative open society. value ranges 1 (normal activity) 0 (activity). degree openness can queried similarly contact matrices:","code":"act$get_scenario_openness() #> $`2020-03-11` #> $`2020-03-11`$home #> 00-04 05-09 10-14 15-19 20-24 25-29 30-34 35-39 40-44 45-49 50-54 55-59 60-64  #>     1     1     1     1     1     1     1     1     1     1     1     1     1  #> 65-69 70-74   75+  #>     1     1     1  #>  #> $`2020-03-11`$work #> 00-04 05-09 10-14 15-19 20-24 25-29 30-34 35-39 40-44 45-49 50-54 55-59 60-64  #>     1     1     1     1     1     1     1     1     1     1     1     1     1  #> 65-69 70-74   75+  #>     1     1     1  #>  #> $`2020-03-11`$school #> 00-04 05-09 10-14 15-19 20-24 25-29 30-34 35-39 40-44 45-49 50-54 55-59 60-64  #>     1     1     1     1     1     1     1     1     1     1     1     1     1  #> 65-69 70-74   75+  #>     1     1     1  #>  #> $`2020-03-11`$other #> 00-04 05-09 10-14 15-19 20-24 25-29 30-34 35-39 40-44 45-49 50-54 55-59 60-64  #>     1     1     1     1     1     1     1     1     1     1     1     1     1  #> 65-69 70-74   75+  #>     1     1     1 act$get_scenario_openness(   age_cuts_lower = c(0, 20, 40, 60, 80),   weights = c(1, 1, 1, 1) ) #> $`2020-03-11` #> 00-19 20-39 40-59 60-79   80+  #>     1     1     1     1     1"},{"path":"https://ssi-dk.github.io/diseasy/articles/diseasy-activity.html","id":"inspecting-the-module","dir":"Articles","previous_headings":"","what":"Inspecting the module","title":"DiseasyActivity","text":"saw , can use $describe() method get human readable summary module can also inspect individual elements module carefully $scenario_matrix $risk_matrix. provide internal representation loaded scenario.","code":"act$describe() #> # DiseasyActivity ############################################ #> Scenario: Overview #>          2020-03-11 #> baseline          1 #>  #> Contact basis: Contact matrices for Denmark from the `contactdata` package and population data for #> Denmark from the US Census Bureau. act$scenario_matrix #>          2020-03-11 #> baseline          1 act$risk_matrix #>        2020-03-11 #> home            1 #> work            1 #> school          1 #> other           1"},{"path":"https://ssi-dk.github.io/diseasy/articles/diseasy-immunity-optimisation.html","id":"motivation","dir":"Articles","previous_headings":"","what":"Motivation","title":"DiseasyImmunity optimisation","text":"testing, learned method used express waning immunity compartmental model1 hard optimisation problem. Depending choice optimisation algorithm, quality approximation vary wildly well time takes algorithm converge. mitigate issue, investigate effect several optimisation algorithms identify best performing one, evaluating run time approximation accuracy waning immunity target. ?DiseasyImmunity can internally employ optimisation algorithms stats, nloptr optimx::optimr(), means around 30 different algorithms test. Note nature optimisation problem also changes dependent method used approximate (.e. “free_delta”, “free_gamma”, “all_free” - see ?DiseasyImmunity documentation), means algorithm performs well one method necessarily perform well methods.","code":""},{"path":"https://ssi-dk.github.io/diseasy/articles/diseasy-immunity-optimisation.html","id":"setup","dir":"Articles","previous_headings":"","what":"Setup","title":"DiseasyImmunity optimisation","text":"Since searching “general” best choice optimisation algorithm, define setup tests wide range waning immunity targets. define “family” functions test optimisation algorithms . start 1 go 0 within time scale, τ\\tau. targets : construct target functions family functions: unaltered functions (f(t)f(t)) functions non-zero asymptote (g(t)=0.8⋅f(t)+0.2g(t) = 0.8 \\cdot f(t) + 0.2) functions longer time scales (h(t)=f(t/2)h(t) = f(t / 2))","code":""},{"path":"https://ssi-dk.github.io/diseasy/articles/diseasy-immunity-optimisation.html","id":"the-optimisation","dir":"Articles","previous_headings":"","what":"The optimisation","title":"DiseasyImmunity optimisation","text":"stated , optimisation algorithms vary wildly time takes complete optimisation. conduct test reasonable time frame (determine algorithms reasonably efficient), setup testing schema consisting number “rounds” incrementally increase number compartments problem (thereby number degrees freedom optimise). addition, allocate time limit algorithm round. execution time exceeds time limit, algorithm “eliminated” computation done algorithm. Note done per method basis know optimisation algorithms fare differently different methods approximation. round complete, update list eliminated algorithms run optimisation M+1M + 1 reduced set algorithms. entire optimisation process run without penalty (monotonous = 0 individual_level = 0) penalty (monotonous = 1 individual_level = 1). results optimisation round stored ?diseasy_immunity_optimiser_results data-set.","code":"results <- diseasy_immunity_optimiser_results  results #> # A tibble: 37,465 × 10 #>    target  variation      method strategy penalty     M     value execution_time #>    <chr>   <chr>          <chr>  <chr>    <lgl>   <int>     <dbl>          <dbl> #>  1 exp_sum Base           all_f… combina… FALSE       2 1.46e-  1        2.92    #>  2 exp_sum Base           all_f… naive    FALSE       2 1.46e-  1        1.73    #>  3 exp_sum Base           all_f… recursi… FALSE       2 1.46e-  1        1.69    #>  4 exp_sum Base           free_… naive    FALSE       2 8.99e+307        0.00725 #>  5 exp_sum Base           free_… recursi… FALSE       2 8.99e+307        0.00647 #>  6 exp_sum Base           free_… naive    FALSE       2 1.46e-  1        1.56    #>  7 exp_sum Base           free_… recursi… FALSE       2 1.46e-  1        1.56    #>  8 exp_sum Non-zero asym… all_f… combina… FALSE       2 1.17e-  1        3.00    #>  9 exp_sum Non-zero asym… all_f… naive    FALSE       2 1.17e-  1        1.58    #> 10 exp_sum Non-zero asym… all_f… recursi… FALSE       2 1.17e-  1        1.51    #> # ℹ 37,455 more rows #> # ℹ 2 more variables: optim_method <chr>, target_label <chr>"},{"path":"https://ssi-dk.github.io/diseasy/articles/diseasy-immunity-optimisation.html","id":"global-results","dir":"Articles","previous_headings":"The optimisation","what":"Global results","title":"DiseasyImmunity optimisation","text":"get overview best performing optimisers, present aggregated view results table . present top 5 “best” optimiser/strategy combination method penalty setting. define means “best” simply take total integral difference approximation target function across target functions problem sizes (MM). Note currently filter results Heaviside linear targets, seem especially difficult optimisers handle (see Per target results section ). addition, consider problems size M=5M = 5 general results. Table 1: Global results (excluding heaviside linear targets) better choose default optimisers DiseasyImmunity, also consider fast different optimisation methods . purpose, also measured time run optimisation problem.    total, find clear choice best, general optimiser/strategy combination. defaults, chose optimiser/strategy combination dependent method parametrisation inclusion penalty. following optimiser/strategy combinations acts defaults ?DiseasyImmunity class: However, see Per target results section , choice optimiser/strategy can improved accounting specific target function.","code":"# Define the defaults for DiseasyImmunity chosen_defaults <- tibble::tibble(   \"method\" = character(0),   \"penalty\" = character(0),   \"strategy\" = character(0),   \"optim_method\" = character(0) ) |>   tibble::add_row(     \"method\" = \"free_delta\", \"penalty\" = \"no\",     \"strategy\" = \"naive\",     \"optim_method\" = \"ucminf\"   ) |>   tibble::add_row(     \"method\" = \"free_delta\", \"penalty\" = \"yes\",     \"strategy\" = \"naive\",     \"optim_method\" = \"ucminf\"   ) |>   tibble::add_row(     \"method\" = \"free_gamma\", \"penalty\" = \"no\",     \"strategy\" = \"naive\",     \"optim_method\" = \"subplex\"   ) |>   tibble::add_row(     \"method\" = \"free_gamma\", \"penalty\" = \"yes\",     \"strategy\" = \"naive\",     \"optim_method\" = \"hjkb\"   ) |>   tibble::add_row(     \"method\" = \"all_free\", \"penalty\" = \"no\",     \"strategy\" = \"naive\",     \"optim_method\" = \"ucminf\"   ) |>   tibble::add_row(     \"method\" = \"all_free\", \"penalty\" = \"yes\",     \"strategy\" = \"naive\",     \"optim_method\" = \"ucminf\"   )"},{"path":"https://ssi-dk.github.io/diseasy/articles/diseasy-immunity-optimisation.html","id":"per-target-results","dir":"Articles","previous_headings":"The optimisation","what":"Per target results","title":"DiseasyImmunity optimisation","text":"dive deeper performance optimisers per target basis. , present best performing optimisers given targets aggregated view. present top 3 best optimiser/strategy combination method penalty setting. Table 2: Results Exponential target Table 3: Results Sum exponentials target Table 4: Results Sigmoidal target Table 5: Results Linear target Table 6: Results Heaviside target","code":""},{"path":"https://ssi-dk.github.io/diseasy/articles/diseasy-immunity.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"DiseasyImmunity","text":"?DiseasyImmunity module designed implement various models waning immunity disease.","code":""},{"path":"https://ssi-dk.github.io/diseasy/articles/diseasy-immunity.html","id":"configuring-the-module","dir":"Articles","previous_headings":"","what":"Configuring the module","title":"DiseasyImmunity","text":"module can initialized without setting parameters, following code:","code":"im <- DiseasyImmunity$new()"},{"path":"https://ssi-dk.github.io/diseasy/articles/diseasy-immunity.html","id":"inspecting-the-module","dir":"Articles","previous_headings":"","what":"Inspecting the module","title":"DiseasyImmunity","text":"default, module initializes no_waning model (, constant, full immunity) stored target “infection”. check currently set targets associated models, can use following code. returns named list() named target modelled corresponding function. see available waning models within module, query module shown :","code":"im$model #> $infection #> function (t)  #> 1 #> <environment: 0x55bd7fafd140> #> attr(,\"name\") #> [1] \"no_waning\" im$available_waning_models #> [1] \"custom_waning\"      \"exponential_waning\" \"heaviside_waning\"   #> [4] \"linear_waning\"      \"no_waning\"          \"sigmoidal_waning\""},{"path":"https://ssi-dk.github.io/diseasy/articles/diseasy-immunity.html","id":"setting-a-waning-model-in-the-module","dir":"Articles","previous_headings":"","what":"Setting a waning model in the module","title":"DiseasyImmunity","text":"input predefined waning models include: target: specific aspect towards immunity waning, “infection”. time_scale: characteristic time scale, defines period immunity significantly waning. Note no_waning model time scale parameter. name chosen target arbitrary within context ?DiseasyImmunity module, models within diseasy framework may expect named targets “infection”, “hospitalisation”, “death”. example set exponential waning model. inspect model set correctly use im$model visualize model, plot function provided module can used:  Besides predefined functions, can also create custom waning function. input custom waning function includes: custom_function: function defining immunity wanes time. take time (t) parameter also include time_scale function expression. time_scale: characteristic time scale, defines period immunity significantly waning. target: specific aspect towards immunity waning, e.g. infection, hospitalisation, death. name: name custom function, used identification. Default “custom_waning”. example setting custom waning function: visualize functions model, use plot function :","code":"im$set_sigmoidal_waning(time_scale = 9, target = \"infection\") #> $infection #> function (t)  #> exp(-(t - time_scale)/shape)/(1 + exp(-(t - time_scale)/shape)) #> <environment: 0x55bd81211320> #> attr(,\"name\") #> [1] \"sigmoidal_waning\" #> attr(,\"dots\") #> attr(,\"dots\")$time_scale #> [1] 9 #>  #> attr(,\"dots\")$shape #> [1] 6 plot(im) im$set_custom_waning(   custom_function = \\(t) 0.8 * exp(- (t / time_scale)^2) + 0.2,   time_scale = 12,   target = \"hospitalisation\",   name = \"gaussian_waning\" ) #> $hospitalisation #> function (t)  #> 0.8 * exp(-(t/time_scale)^2) + 0.2 #> <environment: 0x55bd81fd6fa8> #> attr(,\"name\") #> [1] \"gaussian_waning\" #> attr(,\"dots\") #> attr(,\"dots\")$time_scale #> [1] 12 plot(im)"},{"path":"https://ssi-dk.github.io/diseasy/articles/diseasy-immunity.html","id":"setting-the-waning-model-programmatically","dir":"Articles","previous_headings":"Setting a waning model in the module","what":"Setting the waning model programmatically","title":"DiseasyImmunity","text":"?DiseasyImmunity also provides ?DiseasyImmunity$set_waning_model() function allows greater flexibility configuring various waning models within module. ?DiseasyImmunity$set_waning_model() provides single entry-point setting predefined waning models custom waning function based specified model target. model function, set custom waning function via ?DiseasyImmunity$set_custom_waning(). instead character, corresponding $set_<model>() method used set waning model. Input predefined models custom waning functions can passed ?DiseasyImmunity$set_waning_model() additional arguments. example set two model examples , using ?DiseasyImmunity$set_waning_model() follows:","code":"im$set_waning_model(model = \"sigmoidal_waning\", time_scale = 9, target = \"infection\") #> $infection #> function (t)  #> exp(-(t - time_scale)/shape)/(1 + exp(-(t - time_scale)/shape)) #> <bytecode: 0x55bd833d8e68> #> <environment: 0x55bd82ee01a8> #> attr(,\"name\") #> [1] \"sigmoidal_waning\" #> attr(,\"dots\") #> attr(,\"dots\")$time_scale #> [1] 9 #>  #> attr(,\"dots\")$shape #> [1] 6 im$set_waning_model(   model = \\(t) 0.8 * exp(- (t / time_scale)^2) + 0.2,   time_scale = 18,   target = \"hospitalisation\",   name = \"gaussian_waning\" ) #> $hospitalisation #> function (t)  #> 0.8 * exp(-(t/time_scale)^2) + 0.2 #> <environment: 0x55bd83b76878> #> attr(,\"name\") #> [1] \"gaussian_waning\" #> attr(,\"dots\") #> attr(,\"dots\")$time_scale #> [1] 18"},{"path":"https://ssi-dk.github.io/diseasy/articles/diseasy-immunity.html","id":"changing-the-time-scale","dir":"Articles","previous_headings":"","what":"Changing the time scale","title":"DiseasyImmunity","text":"also possible change characteristic time scale setting model. done via method ?DiseasyImmunity$set_time_scales() takes named list input changes time scales waning functions associated named targets. Following example change time scale two targets current models.","code":"im$set_time_scales(list(\"infection\" = 6, \"hospitalisation\" = 18)) #> $infection #> function (t)  #> exp(-(t - time_scale)/shape)/(1 + exp(-(t - time_scale)/shape)) #> <environment: 0x55bd82ee01a8> #> attr(,\"name\") #> [1] \"sigmoidal_waning\" #> attr(,\"dots\") #> attr(,\"dots\")$time_scale #> [1] 6 #>  #>  #> $hospitalisation #> function (t)  #> 0.8 * exp(-(t/time_scale)^2) + 0.2 #> <environment: 0x55bd83b76878> #> attr(,\"name\") #> [1] \"gaussian_waning\" #> attr(,\"dots\") #> attr(,\"dots\")$time_scale #> [1] 18"},{"path":"https://ssi-dk.github.io/diseasy/articles/diseasy-immunity.html","id":"approximating-to-a-compartmental-model","dir":"Articles","previous_headings":"","what":"Approximating to a compartmental model","title":"DiseasyImmunity","text":"?DiseasyImmunity can also provide approximations waning models compartmental ODE models. (e.g. Susceptible-Infected-Recovered-Susceptible (SEIR) models). approximation assumes model number sequential R compartments (R1..,RMR_1 .., R_M) provides transition rates associated risks compartment best approximates set waning functions (see Figure 1 illustration). definitions: Flow compartments: transition rate compartments mm m+1m+1 defined δm\\delta_m. Risk associated compartments: protective effect associated compartment mm defined γm\\gamma_m, represents probability becoming infected exposed infected individual. ?DiseasyImmunity operate multiple targets, set γm\\gamma_m values target, single set transition rates δm\\delta_m. Combined, rates risks define population level waning immunity. waiting time distributions, hypoexponential general, Erlang distributed rates equal, can compute probability occupy compartment time tt entering first compartment t=0t = 0. denote probability Pm(t|δ→)\\textrm{P}_m(t \\;|\\;\\vec{\\delta}). Given occupancy probability, can parametrise approximated waning immunity kkth target : f̃k(t)≡∑m=1MγmkPm(t|δ→) \\tilde{f}^k(t) \\equiv \\sum_{m = 1}^M \\gamma_m^k\\; \\textrm{P}_m(t\\;|\\;\\vec{\\delta}) Three approaches available determining transition rates, δm\\delta_m, protective effect, γm\\gamma_m, best approximates set waning functions: Method 1 (free_gamma): γm\\gamma_m values allowed vary freely, δm\\delta_m rates equal compartments (δm=δ\\delta_m = \\delta). Method 2 (free_delta): γm\\gamma_m values linearly distributed f(0)f(0) f(∞)f(\\infty), δm\\delta_m allowed vary freely. Method 3 (all_free): γm\\gamma_m δm\\delta_m allowed vary freely. addition, three strategies initial guess parameters: Strategy 1 (naive): initial guess γm\\gamma_m values linearly distributed f(0)f(0) f(∞)f(\\infty), δm\\delta_m values assumed set reciprocal median time scale targets. Strategy 2 (recursive): initial guess based previous optimisation results M - 1. Strategy 3 (combination - all_free method): initial guess uses solution strategy 1. parameters approximation determined use optimiser (controllable via optim_control argument), minimises sum square roots differences target approximation functions plus additional penalties parameters: objective=∑k=1K∫0∞(fk(t)−f̃k(t))2+penalty  \\textrm{objective} = \\sum_{k = 1}^K \\sqrt{\\int_0^\\infty \\left( f^k(t) - \\tilde{f}^k(t) \\right)^2} + \\textrm{penalty} penalties controllable via monotonous individual_level arguments: monotonous: penalty non-monotonous γm\\gamma_m values added. individual_level: penalty variation γm\\gamma_m δm\\delta_m values added. population level waning immunity may smoothly changing set parameters, instantaneous change immunity two neighbouring compartments may large. penalty can added avoid behaviour soften transitions states. input ?DiseasyImmunity$approximate_compartmental() function includes: method: One methods - “free_gamma”, “free_delta” “all_free”. strategy: One strategies - “naive”, “recursive” “combination” (optional). M: number compartments use approximation. optim_control: configuration optimiser (optional). approximation compartmental model hard optimisation problem choice optimiser can significant impact quality fit. See vignette(\"diseasy-immunity-optimisation\") information optimiser configuration. example, module contains infection hospitalisation targets defined earlier, approximated. visualize approximations compare target functions, plot function can used. Simply specify approach number compartments (M). plot display approximations target functions comparison.","code":"im$approximate_compartmental(method = \"free_gamma\", M = 4) #> $par #> [1]   0.8668327   0.8329551 -44.0092917  33.1909274  33.0010151   2.5333273 #> [7]  -1.6389596 #> attr(,\"status\") #> [1] \" \" \" \" \" \" \" \" \" \" \" \" \" \" #>  #> $value #> [1] 0.2783246 #> attr(,\"fname\") #> function(p) sum(obj_function(p)) #> attr(,\"method\") #> [1] \"hjkb\" #> attr(,\"ptype\") #> [1] \"U\" #>  #> $convergence #> [1] 0 #>  #> $niter #> [1] 19 #>  #> $counts #> [1] 4052   NA #>  #> $scounts #> [1] 4052    0    0 #>  #> $gamma #> $gamma$infection #> [1] 7.040862e-01 6.969794e-01 7.709167e-20 0.000000e+00 #>  #> $gamma$hospitalisation #> [1] 1.0000000 1.0000000 0.9264454 0.2000000 #>  #>  #> $delta #> [1] 0.1774614 0.1774614 0.1774614 #>  #> $method #> [1] \"free_gamma\" #>  #> $strategy #> [1] \"naive\" #>  #> $M #> [1] 4 #>  #> $sqrt_integral #> [1] 0.143436 #>  #> $penalty #> [1] 0.1348887 #>  #> $execution_time #> Time difference of 11.59869 mins #>  #> attr(,\"maximize\") #> [1] FALSE im$plot(method = \"free_gamma\", M = 4)"},{"path":"https://ssi-dk.github.io/diseasy/articles/diseasy-immunity.html","id":"the-effect-of-penalties","dir":"Articles","previous_headings":"Approximating to a compartmental model","what":"The effect of penalties","title":"DiseasyImmunity","text":"default, small penalty added encourage monotonous γm\\gamma_m values smooth transitions compartments. worsens absolute fit target functions, means waning immunity can interpreted individual level rather population level. see effect, run approximation without penalties plot value γ\\gamma time1.  penalties imposed, steps γ\\gamma values smaller penalties imposed.","code":"# Retrieve gamma and delta values for both cases results <- purrr::map(   c(TRUE, FALSE),   \\(penalty) {     approx <- im$approximate_compartmental(       method = \"all_free\",       M = 4,       monotonous = penalty,       individual_level = penalty     )      data.frame(       \"gamma\" = approx$gamma$infection,       \"delta\" = c(approx$delta, NA),       \"penalty\" = penalty     )   } ) |>   purrr::list_rbind()  # Plot results |>   dplyr::mutate(     \"t\" = cumsum(1 / dplyr::lag(.data$delta, default = Inf)),     .by = \"penalty\"   ) |>   ggplot2::ggplot(ggplot2::aes(x = t, y = gamma, color = penalty)) +   ggplot2::geom_step(linewidth = 1) +   ggplot2::scale_x_continuous(limits = c(0, NA), expand = c(0, 1)) +   ggplot2::scale_y_continuous(limits = c(0, 1), expand = c(0, 0)) +   ggplot2::labs(x = \"Time\", y = \"gamma\", color = \"Penalty?\")"},{"path":"https://ssi-dk.github.io/diseasy/articles/diseasy-immunity.html","id":"compartment-selection-elbow-curve-method","dir":"Articles","previous_headings":"","what":"Compartment selection (elbow curve method)","title":"DiseasyImmunity","text":"accuracy approximation can influenced number compartments (M) used model. Therefore crucial select right M, compartments can lead poor approximation, many compartments can lead unnecessary computational time without significant improvement accuracy. elbow curve method employed determine appropriate M models. approach executed across range M values, resulting objective function values returned value ?DiseasyImmunity$approximate_compartmental() function. example , case “all_free” method outperforms methods, generally true. find “all_free” method can best problem contains multiple time scales, often performs better “free_gamma”. examples, see optimisation vignette (vignette(\"diseasy-immunity-optimisation\")).","code":"# Prepare the data M_seq <- seq(from = 1, to = 5, by = 1) methods <- c(\"free_gamma\", \"free_delta\", \"all_free\")  # Run each function results <- tidyr::expand_grid(   method = methods,   M = M_seq ) |>   purrr::pmap(     \\(method, M) {       im$approximate_compartmental(method = method, M = M)     },     .progress = interactive()   ) |>   purrr::list_transpose() |>   tibble::as_tibble()  # Plot ggplot2::ggplot(results, ggplot2::aes(x = M, y = value, color = method)) +   ggplot2::geom_line(linewidth = 1) +   ggplot2::labs(x = \"M\", y = \"Error\") +   ggplot2::coord_cartesian(     xlim = c(1, max(results$M)),     ylim = c(0, NA),     expand = FALSE   )"},{"path":"https://ssi-dk.github.io/diseasy/articles/diseasy-model-ode.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"DiseasyModelOde","text":"One model families diseasy family Ordinary Differential Equation (ODE) models. family models presently represented ?DiseasyModelOdeSeir, model template implements SEIR (Susceptible, Exposed, Infected, Recovered) ODE models according user specification. template allows number EE, II RR states model interfaces ?DiseasySeason, ?DiseasyActivity, ?DiseasyVariant ?DiseasyImmunity modules scenario definitions. workflow creating specific ?DiseasyModelOdeSeir model roughly follow steps: Defining scenario. first step using models diseasy define scenario. , configure functional modules model templates takes argument (e.g. ?DiseasyActivity). steps provide model template information population, activity, variants include etc. Choosing model configuration. model template may configurability control. case ?DiseasyModelOdeSeir example, must choose number consecutive EE, II RR states model. Mapping observables. ODE family models ways bespoke sense user needs provide mapping observables “true” incidence infections. model initialised estimated incidence. model provide predictions observables “true” incidence, user needs provide mapping model incidence observables question. steps outlined individual sections work defining model specific example. Note example contrived sense data use example generated exact model template therefore can match observations near-perfectly.","code":""},{"path":"https://ssi-dk.github.io/diseasy/articles/diseasy-model-ode.html","id":"example-data","dir":"Articles","previous_headings":"","what":"Example data","title":"DiseasyModelOde","text":"data use example provided ?DiseasystoreSeirExample represents data Danish context. first create observables module interface data: data stratified age covers single infection wave. contains three observables interest example: n_infected: true number infected data. n_positive: observed subset infected (65% true infected observed fewer observed weekend). n_admissions: number new hospital admissions due infections (risk hospitalisation dependent age group). running models, also define point time provide predictions . done setting last_queryable_date observables module: Lets first look data available:","code":"# Configure a observables module with the example data and database observables <- DiseasyObservables$new(   diseasystore = DiseasystoreSeirExample,   conn = DBI::dbConnect(RSQLite::SQLite()) ) last_queryable_date <- observables$ds$min_start_date + 40 observables$get_observation(   observable = \"n_infected\",   stratification = rlang::quos(age_group),   start_date = observables$ds$min_start_date,   end_date = observables$ds$max_end_date ) |>   ggplot2::ggplot(ggplot2::aes(x = date, y = n_infected)) +   ggplot2::geom_vline(     xintercept = last_queryable_date,     color = \"black\",     linetype = \"dashed\"   ) +   ggplot2::geom_point(color = \"deepskyblue3\") +   ggplot2::labs(title = \"True number of infected\") +   ggplot2::facet_grid(~ age_group) observables$get_observation(   observable = \"n_positive\",   stratification = rlang::quos(age_group),   start_date = observables$ds$min_start_date,   end_date = observables$ds$max_end_date ) |>   ggplot2::ggplot(ggplot2::aes(x = date, y = n_positive)) +   ggplot2::geom_vline(     xintercept = last_queryable_date,     color = \"black\",     linetype = \"dashed\"   ) +   ggplot2::geom_point(color = \"seagreen\") +   ggplot2::labs(title = \"Observed number of positive cases\") +   ggplot2::facet_grid(~ age_group) observables$get_observation(   observable = \"n_admission\",   stratification = rlang::quos(age_group),   start_date = observables$ds$min_start_date,   end_date = observables$ds$max_end_date ) |>   ggplot2::ggplot(ggplot2::aes(x = date, y = n_admission)) +   ggplot2::geom_vline(     xintercept = last_queryable_date,     color = \"black\",     linetype = \"dashed\"   ) +   ggplot2::geom_point(color = \"violetred3\") +   ggplot2::labs(title = \"Number of admissions\") +   ggplot2::facet_grid(~ age_group)"},{"path":"https://ssi-dk.github.io/diseasy/articles/diseasy-model-ode.html","id":"defining-the-scenario","dir":"Articles","previous_headings":"","what":"Defining the scenario","title":"DiseasyModelOde","text":"first step creating ?DiseasyModelOdeSeir model define scenario. case, stated , can exactly match scenario data since data created using class models. First define activity scenario via ?DiseasyActivity module. scenario describes changes activity society (e.g. restrictions). see configure module, see vignette(\"diseasy-activity\"). particular scenario include dynamics, stage level seasonality variant composition defined (see vignette(\"diseasy-season\") vignette(\"diseasy-variant\") details).","code":"# Configure an activity module using Danish population and contact information. activity <- DiseasyActivity$new() activity$set_contact_basis(contact_basis = contact_basis$DK) activity$set_activity_units(dk_activity_units)  # The level of activity is fixed to the \"baseline\" level throughout the simulation. activity$change_activity(date = as.Date(\"2020-01-01\"), opening = \"baseline\")"},{"path":"https://ssi-dk.github.io/diseasy/articles/diseasy-model-ode.html","id":"choosing-the-model-configuration","dir":"Articles","previous_headings":"","what":"Choosing the model configuration","title":"DiseasyModelOde","text":"?DiseasyModelOdeSeir model template number hyperparameters parameters configured model run. hyperparameters : compartment_structure: named vector specifying number consecutive EE, II RR states model. age_cuts_lower: vector age cuts age groups model. parameters : disease_progression_rates: named vector specifying progression rates EE II II RR (.e. waiting times). overall_infection_risk: overall risk infection population (overall scaling infectivity).","code":"# Hyper parameters compartment_structure <- c(\"E\" = 2, \"I\" = 1, \"R\" = 1) age_cuts_lower <- c(0, 30, 60)  # Parameters disease_progression_rates <- c(\"E\" = 1 / 2.1, \"I\" = 1 / 4.5) overall_infection_risk <- 0.025  # When to predict? observables$set_last_queryable_date(last_queryable_date)"},{"path":"https://ssi-dk.github.io/diseasy/articles/diseasy-model-ode.html","id":"mapping-observables-to-model-and-back","dir":"Articles","previous_headings":"","what":"Mapping observables to model and back","title":"DiseasyModelOde","text":"SEIR model, ?DiseasyModelOdeSeir model template runs dynamics infections population. dynamics inferred incidence disease population. model predicts evolution incidence1 given configuration. get predictions observables, must map incidence observable interest. Mathematically, map set observables O→(t)\\vec{O}(t) incidence (t)(t) via map ff: O→(t)→fI(t)\\vec{O}(t) \\overset{f}{\\rightarrow} (t) model incidence ̃(t)\\tilde{}(t), map observable estimates Õ(t)\\tilde{O}_i(t) via maps gig_i: ̃(t)→g1Õ1(t)\\tilde{}(t) \\overset{g_1}{\\rightarrow} \\tilde{O}_1(t)̃(t)→g2Õ2(t)\\tilde{}(t) \\overset{g_2}{\\rightarrow} \\tilde{O}_2(t)⋮\\vdotsĨ(t)→gnÕn(t)\\tilde{}(t) \\overset{g_n}{\\rightarrow} \\tilde{O}_n(t)","code":""},{"path":"https://ssi-dk.github.io/diseasy/articles/diseasy-model-ode.html","id":"mapping-from-observables-to-incidence","dir":"Articles","previous_headings":"Mapping observables to model and back","what":"Mapping from observables to incidence","title":"DiseasyModelOde","text":"model initialised, needs estimate incidence population. incidence used infer dynamics disease population (See article SEIR-initialisation online documentation information). estimate incidence defined diseasystore, wish provide estimate observable, can define “synthetic observable” DiseasyObservables module model use. example, incidence defined diseasystore therefore define synthetic observable incidence maps number positive cases incidence. many cases, testing data may reliable, may want infer incidence sources waste water data admissions data.","code":"# Map observables to incidence observables$define_synthetic_observable(   name = \"incidence\",   mapping = \\(n_positive, n_population) n_positive / (n_population * 0.65) )"},{"path":"https://ssi-dk.github.io/diseasy/articles/diseasy-model-ode.html","id":"mapping-from-model-incidence-to-observables","dir":"Articles","previous_headings":"Mapping observables to model and back","what":"Mapping from model incidence to observables","title":"DiseasyModelOde","text":"default, model can return predictions true number infected (n_infected) incidence (incidence) since observables “known” model. additional observables must mapped incidence provided model. purpose, define “map” “reduce” function: map function passed dplyr::group_map() call data.frame grouped stratification. function two-argument function first argument contains data.frame columns n_infected population (.e. size group), second argument contains group (data.frame). Note output function contain groups provided second argument. reduce function passed dplyr::summarise() call output map. default, simple sum used works counting data. observable count, user must provide custom reduce function. example, incidence rate summarise weighted sum must made. example, define maps incidence number positive cases number hospital admissions. counting observables default reduce function can used.","code":"# Maps between the internal model incidence and observables map_to_n_positive <- list(   \"map\" = \\(.x, .y) {     dplyr::mutate(.y, \"n_positive\" = 0.65 * .x$n_infected)   } )  map_to_n_admission <- list(   \"map\" = \\(.x, .y) {     risk_of_admission <- c(\"00-29\" = 0.001, \"30-59\" = 0.01, \"60+\" = 0.1)     delay_distribution <- c(0, 0, 0.2, 0.3, 0.3, 0.1, 0.1) # Must sum = 1      n_total_admissions <- .x$n_infected * risk_of_admission[.y$age_group]      cbind(       .y,       data.frame(         \"delay\" = seq_along(delay_distribution) - 1,         \"n_admission\" = n_total_admissions * delay_distribution       )     ) |>       dplyr::mutate(\"date\" = .data$date + .data$delay) |>       dplyr::select(!\"delay\")   } )  # These maps are provided via a list to the model with the names of # the elements denoting the observable being mapped to. model_output_to_observable <- list(   \"n_positive\" = map_to_n_positive,   \"n_admission\" = map_to_n_admission )"},{"path":"https://ssi-dk.github.io/diseasy/articles/diseasy-model-ode.html","id":"putting-it-all-together","dir":"Articles","previous_headings":"","what":"Putting it all together","title":"DiseasyModelOde","text":"configuration done , can now create model instance.","code":"model <- DiseasyModelOdeSeir$new(   # Scenario configuration   activity = activity,   observables = observables,    # Parameter and hyper-parameter configuration   compartment_structure = compartment_structure,   disease_progression_rates = disease_progression_rates,   parameters = list(     \"age_cuts_lower\" = age_cuts_lower,     \"overall_infection_risk\" = overall_infection_risk,      # Mapping to observables     \"model_output_to_observable\" = model_output_to_observable   ) )"},{"path":"https://ssi-dk.github.io/diseasy/articles/diseasy-model-ode.html","id":"predicting-the-incidence","dir":"Articles","previous_headings":"","what":"Predicting the incidence","title":"DiseasyModelOde","text":"point, can easily get predictions individual observables. … can plot predictions along observations data  results easily stratified stratifications data … can see plots strata.  can done observables mapped model.","code":"model$get_results(   observable = \"incidence\",   prediction_length = 5 ) #> # A tibble: 5 × 2 #>   date       incidence #>   <date>         <dbl> #> 1 2020-02-13   0.00180 #> 2 2020-02-14   0.00198 #> 3 2020-02-15   0.00216 #> 4 2020-02-16   0.00234 #> 5 2020-02-17   0.00252 plot(   model,   observable = \"incidence\",   prediction_length = 60 ) model$get_results(   observable = \"incidence\",   prediction_length = 3,   stratification = rlang::quos(age_group) ) #> # A tibble: 9 × 3 #>   date       age_group incidence #>   <date>     <chr>         <dbl> #> 1 2020-02-13 00-29      0.00235  #> 2 2020-02-14 00-29      0.00259  #> 3 2020-02-15 00-29      0.00282  #> 4 2020-02-13 30-59      0.00185  #> 5 2020-02-14 30-59      0.00204  #> 6 2020-02-15 30-59      0.00222  #> 7 2020-02-13 60+        0.000964 #> 8 2020-02-14 60+        0.00107  #> 9 2020-02-15 60+        0.00116 plot(   model,   observable = \"incidence\",   prediction_length = 60,   stratification = rlang::quos(age_group) ) model$get_results(   observable = \"n_infected\",   prediction_length = 5 ) #> # A tibble: 5 × 2 #>   date       n_infected #>   <date>          <dbl> #> 1 2020-02-13     10575. #> 2 2020-02-14     11643. #> 3 2020-02-15     12685. #> 4 2020-02-16     13731. #> 5 2020-02-17     14818. plot(   model,   observable = \"n_infected\",   prediction_length = 60 ) model$get_results(   observable = \"n_infected\",   prediction_length = 3,   stratification = rlang::quos(age_group) ) #> # A tibble: 9 × 3 #>   date       age_group n_infected #>   <date>     <chr>          <dbl> #> 1 2020-02-13 00-29          4917. #> 2 2020-02-14 00-29          5415. #> 3 2020-02-15 00-29          5902. #> 4 2020-02-13 30-59          4198. #> 5 2020-02-14 30-59          4614. #> 6 2020-02-15 30-59          5024. #> 7 2020-02-13 60+            1460. #> 8 2020-02-14 60+            1614. #> 9 2020-02-15 60+            1759. plot(   model,   observable = \"n_infected\",   prediction_length = 60,   stratification = rlang::quos(age_group) ) model$get_results(   observable = \"n_positive\",   prediction_length = 5 ) #> # A tibble: 5 × 2 #>   date       n_positive #>   <date>          <dbl> #> 1 2020-02-13      6874. #> 2 2020-02-14      7568. #> 3 2020-02-15      8246. #> 4 2020-02-16      8925. #> 5 2020-02-17      9632. plot(   model,   observable = \"n_positive\",   prediction_length = 60 ) model$get_results(   observable = \"n_positive\",   prediction_length = 3,   stratification = rlang::quos(age_group) ) #> # A tibble: 9 × 3 #>   date       age_group n_positive #>   <date>     <chr>          <dbl> #> 1 2020-02-13 00-29          3196. #> 2 2020-02-14 00-29          3520. #> 3 2020-02-15 00-29          3836. #> 4 2020-02-13 30-59          2729. #> 5 2020-02-14 30-59          2999. #> 6 2020-02-15 30-59          3266. #> 7 2020-02-13 60+             949. #> 8 2020-02-14 60+            1049. #> 9 2020-02-15 60+            1144. plot(   model,   observable = \"n_positive\",   prediction_length = 60,   stratification = rlang::quos(age_group) ) model$get_results(   observable = \"n_admission\",   prediction_length = 5 ) #> # A tibble: 5 × 2 #>   date       n_admission #>   <date>           <dbl> #> 1 2020-02-13        144. #> 2 2020-02-14        166. #> 3 2020-02-15        180. #> 4 2020-02-16        194. #> 5 2020-02-17        206. plot(   model,   observable = \"n_admission\",   prediction_length = 60 ) model$get_results(   observable = \"n_admission\",   prediction_length = 3,   stratification = rlang::quos(age_group) ) #> # A tibble: 9 × 3 #>   date       age_group n_admission #>   <date>     <chr>           <dbl> #> 1 2020-02-13 00-29            3.69 #> 2 2020-02-14 00-29            4.26 #> 3 2020-02-15 00-29            4.61 #> 4 2020-02-13 30-59           31.5  #> 5 2020-02-14 30-59           36.3  #> 6 2020-02-15 30-59           39.4  #> 7 2020-02-13 60+            108.   #> 8 2020-02-14 60+            125.   #> 9 2020-02-15 60+            136. plot(   model,   observable = \"n_admission\",   prediction_length = 60,   stratification = rlang::quos(age_group) )"},{"path":"https://ssi-dk.github.io/diseasy/articles/diseasy-model-regression.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"DiseasyModelRegression","text":"diseasy bundle simple regression model templates provide tools create custom regression model templates.","code":""},{"path":"https://ssi-dk.github.io/diseasy/articles/diseasy-model-regression.html","id":"overview","dir":"Articles","previous_headings":"","what":"Overview","title":"DiseasyModelRegression","text":"structured R6 classes uses inheritance simplify creating individual templates. Structurally, R6 classes provide follows:","code":""},{"path":"https://ssi-dk.github.io/diseasy/articles/diseasy-model-regression.html","id":"examples","dir":"Articles","previous_headings":"","what":"Examples","title":"DiseasyModelRegression","text":"show use simple regression model templates diseasy. regression models “duplicated” sense exist two similar models implemented different statistical engines. predictions models similar. examples , therefore show results GLM class models .","code":""},{"path":"https://ssi-dk.github.io/diseasy/articles/diseasy-model-regression.html","id":"the-data-to-model","dir":"Articles","previous_headings":"Examples","what":"The data to model","title":"DiseasyModelRegression","text":"example data, use bundled example data ?DiseasystoreSeirExample. data stratified age covers single infection wave. contains two observables interest example: n_positive: observed subset infected (65% true infected weekday variation detection). n_admissions: number new hospital admissions due infections (risk hospitalisation dependent age group). running models, also define point time provide predictions . done setting last_queryable_date observables module: Lets first look data available:","code":"# Configure a observables module with the example data and database observables <- DiseasyObservables$new(   diseasystore = DiseasystoreSeirExample,   conn = DBI::dbConnect(RSQLite::SQLite()) ) last_queryable_date <- observables$ds$min_start_date + 60 observables$get_observation(   observable = \"n_positive\",   stratification = rlang::quos(age_group),   start_date = observables$ds$min_start_date,   end_date = observables$ds$max_end_date ) |>   ggplot2::ggplot(ggplot2::aes(x = date, y = n_positive)) +   ggplot2::geom_vline(     xintercept = last_queryable_date,     color = \"black\",     linetype = \"dashed\"   ) +   ggplot2::geom_point(color = \"seagreen\") +   ggplot2::labs(title = \"Observed number of positive cases\") +   ggplot2::facet_grid(~ age_group) observables$get_observation(   observable = \"n_admission\",   stratification = rlang::quos(age_group),   start_date = observables$ds$min_start_date,   end_date = observables$ds$max_end_date ) |>   ggplot2::ggplot(ggplot2::aes(x = date, y = n_admission)) +   ggplot2::geom_vline(     xintercept = last_queryable_date,     color = \"black\",     linetype = \"dashed\"   ) +   ggplot2::geom_point(color = \"violetred3\") +   ggplot2::labs(title = \"Number of admissions\") +   ggplot2::facet_grid(~ age_group)"},{"path":"https://ssi-dk.github.io/diseasy/articles/diseasy-model-regression.html","id":"applying-the-models-to-the-data","dir":"Articles","previous_headings":"Examples","what":"Applying the models to the data","title":"DiseasyModelRegression","text":"regressions models special class models can directly model data, requires essentially configuration. Since models “duplicated” described , show results GLM family models models configured ---box can now retrieve model predictions observable: visualise predictions, can use standard plot() method supply observable predict number days predict future, well stratification supported diseasystore.","code":"observables$set_last_queryable_date(last_queryable_date) model_1 <- DiseasyModelG0$new(observables = observables) model_2 <- DiseasyModelG1$new(observables = observables) model_1$get_results(   observable = \"n_positive\",   prediction_length = 30 ) #> # A tibble: 3,000 × 4 #>    date       n_positive realisation_id weight #>    <date>          <dbl> <chr>           <dbl> #>  1 2020-03-04     23274. 1                   1 #>  2 2020-03-05     20767. 1                   1 #>  3 2020-03-06     23386. 1                   1 #>  4 2020-03-07     23290. 1                   1 #>  5 2020-03-08     21900. 1                   1 #>  6 2020-03-09     19036. 1                   1 #>  7 2020-03-10     19889. 1                   1 #>  8 2020-03-11     20814. 1                   1 #>  9 2020-03-12     21250. 1                   1 #> 10 2020-03-13     25260. 1                   1 #> # ℹ 2,990 more rows"},{"path":"https://ssi-dk.github.io/diseasy/articles/diseasy-model-regression.html","id":"example-plots-for-the-constant-predictor-model","dir":"Articles","previous_headings":"Examples > Applying the models to the data","what":"Example plots for the constant predictor model","title":"DiseasyModelRegression","text":"","code":"plot(   model_1,   observable = \"n_positive\",   prediction_length = 30 ) plot(   model_1,   observable = \"n_positive\",   stratification = rlang::quos(age_group),   prediction_length = 30 )"},{"path":"https://ssi-dk.github.io/diseasy/articles/diseasy-model-regression.html","id":"example-plots-for-the-exponential-growth-predictor-model","dir":"Articles","previous_headings":"Examples > Applying the models to the data","what":"Example plots for the exponential growth predictor model","title":"DiseasyModelRegression","text":"","code":"plot(   model_2,   observable = \"n_admission\",   prediction_length = 30 ) plot(   model_2,   observable = \"n_admission\",   stratification = rlang::quos(age_group),   prediction_length = 30 )"},{"path":"https://ssi-dk.github.io/diseasy/articles/diseasy-observables.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"DiseasyObservables","text":"DiseasyObservables module module responsible providing disease data models. module primarily wrapper around diseasystores means available data depend specific diseasystore used.","code":""},{"path":"https://ssi-dk.github.io/diseasy/articles/diseasy-observables.html","id":"configuring-the-module","dir":"Articles","previous_headings":"","what":"Configuring the module","title":"DiseasyObservables","text":"module needs configuration initialized. can set options. Primarily, need specify diseasystore: see data comes underlying diseasystore can query module. check current status module, $describe() method can used:","code":"obs <- DiseasyObservables$new(   conn = DBI::dbConnect(duckdb::duckdb()) ) # NOTE: Alternatively we could set options(\"diseasy.conn\" = ...)  obs$set_diseasystore(diseasystore = DiseasystoreSeirExample) obs$available_observables #> [1] \"n_population\"      \"n_infected\"        \"n_positive_simple\" #> [4] \"n_positive\"        \"n_admission\" obs$available_stratifications #> [1] \"age_group\" obs$describe() #> # DiseasyObservables ######################################### #> diseasystore set to: SEIR example season #> Study period is not set #> last_queryable_date is not set"},{"path":"https://ssi-dk.github.io/diseasy/articles/diseasy-observables.html","id":"getting-observations","dir":"Articles","previous_headings":"","what":"Getting observations","title":"DiseasyObservables","text":"can query model give data given observable given time frame: want stratify data, supply stratification argument. argument designed flexible, means need wrapped rlang::quos(). see , . Since stratification flexible, can programmatically stratify:","code":"obs$get_observation(   observable = \"n_positive\",   start_date = as.Date(\"2020-03-01\"),   end_date = as.Date(\"2020-03-03\") ) #> # A tibble: 3 × 2 #>   date       n_positive #>   <date>          <dbl> #> 1 2020-03-01      17616 #> 2 2020-03-02      25956 #> 3 2020-03-03      27263 obs$get_observation(   observable = \"n_admission\",   stratification = rlang::quos(age_group),   start_date = as.Date(\"2020-03-01\"),   end_date = as.Date(\"2020-03-03\") ) |>   dplyr::arrange(date, age_group) #> # A tibble: 9 × 3 #>   date       age_group n_admission #>   <date>     <chr>           <dbl> #> 1 2020-03-01 00-29              12 #> 2 2020-03-01 30-59             105 #> 3 2020-03-01 60+               373 #> 4 2020-03-02 00-29              13 #> 5 2020-03-02 30-59             119 #> 6 2020-03-02 60+               420 #> 7 2020-03-03 00-29              20 #> 8 2020-03-03 30-59             134 #> 9 2020-03-03 60+               431 obs$get_observation(   observable = \"n_admission\",   stratification = rlang::quos(     young_age_groups = age_group == \"00-29\"   ),   start_date = as.Date(\"2020-03-01\"),   end_date = as.Date(\"2020-03-03\") ) |>   dplyr::arrange(date, young_age_groups) #> # A tibble: 6 × 3 #>   date       young_age_groups n_admission #>   <date>     <lgl>                  <dbl> #> 1 2020-03-01 FALSE                    478 #> 2 2020-03-01 TRUE                      12 #> 3 2020-03-02 FALSE                    539 #> 4 2020-03-02 TRUE                      13 #> 5 2020-03-03 FALSE                    565 #> 6 2020-03-03 TRUE                      20"},{"path":"https://ssi-dk.github.io/diseasy/articles/diseasy-observables.html","id":"creating-synthetic-observables","dir":"Articles","previous_headings":"","what":"Creating “synthetic” observables","title":"DiseasyObservables","text":"Sometimes may want customise data provided observables module specific use case. Within ?DiseasyObservables call customised observables “synthetic” observables sense create (synthesize) observables existing features. observables can created using ?DiseasyObservables$define_synthetic_observable() method. Let’s consider examples may want create synthetic observable","code":""},{"path":"https://ssi-dk.github.io/diseasy/articles/diseasy-observables.html","id":"renaming-observables","dir":"Articles","previous_headings":"Creating “synthetic” observables","what":"Renaming observables","title":"DiseasyObservables","text":"working diseasystore observable interest named differently model expects. Rather modifying diseasystore can create synthetic observable renames existing observable: Note stratifications still available synthetic observable:","code":"# The diseasystore uses \"n_admission\" but you prefer \"n_new_to_hospital\" obs$define_synthetic_observable(   name = \"n_new_to_hospital\",   mapping = \\(n_admission) n_admission )  obs$get_observation(   observable = \"n_new_to_hospital\",   start_date = as.Date(\"2020-03-01\"),   end_date = as.Date(\"2020-03-03\") ) #> # A tibble: 3 × 2 #>   date       n_new_to_hospital #>   <date>                 <dbl> #> 1 2020-03-01               490 #> 2 2020-03-02               552 #> 3 2020-03-03               585 obs$get_observation(   observable = \"n_new_to_hospital\",   stratification = rlang::quos(     young_age_groups = age_group == \"00-29\"   ),   start_date = as.Date(\"2020-03-01\"),   end_date = as.Date(\"2020-03-03\") ) |>   dplyr::arrange(date, young_age_groups) #> # A tibble: 6 × 3 #>   date       young_age_groups n_new_to_hospital #>   <date>     <lgl>                        <dbl> #> 1 2020-03-01 FALSE                          478 #> 2 2020-03-01 TRUE                            12 #> 3 2020-03-02 FALSE                          539 #> 4 2020-03-02 TRUE                            13 #> 5 2020-03-03 FALSE                          565 #> 6 2020-03-03 TRUE                            20"},{"path":"https://ssi-dk.github.io/diseasy/articles/diseasy-observables.html","id":"adjusting-existing-observables","dir":"Articles","previous_headings":"Creating “synthetic” observables","what":"Adjusting existing observables","title":"DiseasyObservables","text":"observable, say number test-positive cases, model working needs number true infected. also estimate amount -reporting want construct adjusted observable model use.","code":"obs$define_synthetic_observable(   name = \"n_true_infected\",   mapping = \\(n_positive) round(n_positive / 0.65) # 65% of cases are detected )  obs$get_observation(   observable = \"n_true_infected\",   start_date = as.Date(\"2020-03-01\"),   end_date = as.Date(\"2020-03-03\") ) #> # A tibble: 3 × 2 #>   date       n_true_infected #>   <date>               <dbl> #> 1 2020-03-01           27102 #> 2 2020-03-02           39932 #> 3 2020-03-03           41943"},{"path":"https://ssi-dk.github.io/diseasy/articles/diseasy-observables.html","id":"constructing-new-observables-from-multiple-observables","dir":"Articles","previous_headings":"Creating “synthetic” observables","what":"Constructing new observables from multiple observables","title":"DiseasyObservables","text":"example, want add incidence rate disease population. requires signal number infected population, use “n_true_infected” observable created . addition, need population calculate rate.","code":"obs$define_synthetic_observable(   name = \"incidence\",   mapping = \\(n_positive, n_population) n_positive / n_population )  # First we see that it works with the stratification obs$get_observation(   observable = \"incidence\",   stratification = rlang::quos(age_group),   start_date = as.Date(\"2020-03-01\"),   end_date = as.Date(\"2020-03-03\") ) |>   dplyr::arrange(date, age_group) #> # A tibble: 9 × 3 #>   date       age_group incidence #>   <date>     <chr>         <dbl> #> 1 2020-03-01 00-29       0.00387 #> 2 2020-03-01 30-59       0.00311 #> 3 2020-03-01 60+         0.00165 #> 4 2020-03-02 00-29       0.00566 #> 5 2020-03-02 30-59       0.00459 #> 6 2020-03-02 60+         0.00248 #> 7 2020-03-03 00-29       0.00594 #> 8 2020-03-03 30-59       0.00482 #> 9 2020-03-03 60+         0.00260 # And it works without stratification obs$get_observation(   observable = \"incidence\",   start_date = as.Date(\"2020-03-01\"),   end_date = as.Date(\"2020-03-03\") ) #> # A tibble: 3 × 2 #>   date       incidence #>   <date>         <dbl> #> 1 2020-03-01   0.00300 #> 2 2020-03-02   0.00442 #> 3 2020-03-03   0.00465"},{"path":"https://ssi-dk.github.io/diseasy/articles/diseasy-season.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"DiseasySeason","text":"DiseasySeason module responsible implementation different models seasonal dependency disease.","code":""},{"path":"https://ssi-dk.github.io/diseasy/articles/diseasy-season.html","id":"configuring-the-module","dir":"Articles","previous_headings":"","what":"Configuring the module","title":"DiseasySeason","text":"module can initialized without setting parameters. Note models require parameter reference_date set can done initialization module. see season models comes module can query module. default, module initializes constant_season() model. check current status module, including model set, $describe() method can used: season model set, interfacing model happens $model_t() $model_date() methods.   use models season, module provides functions form $use_*_season(). example, configure module use cosine season instead can use $use_cosine_season() re-configured models stored $model_t $model_date change new model:  Note models, constant_season scale parameter. scale parameter sets relative difference minimum maximum season effect model. example, scale = 0.25, effect season never drop 25% maximum.  models may additional parameters control shape. See documentation module learn specific models.","code":"s <- DiseasySeason$new(reference_date = as.Date(\"2020-03-01\")) s$available_season_models #> [1] \"constant_season\" \"cosine_season\"   \"covid_season_v1\" \"covid_season_v2\" s$describe() #> # DiseasySeason ############################################## #> Season model: constant_season #> Constant (no) seasonality model. #> Risk of infection constant through year #> Reference date: 2020-03-01 t <- 0:365 plot(t, purrr::map_dbl(t, s$model_t),      type = \"l\", lwd = 2,      xlab = \"Days past reference date\",      ylab = \"Relative effect of season\",      ylim = c(0, 1.25), xaxs = \"i\", yaxs = \"i\") d <- s$reference_date + 0:365 plot(d, purrr::map_dbl(d, s$model_date),      type = \"l\", lwd = 2,      xlab = \"\",      ylab = \"Relative effect of season\",      ylim = c(0, 1.25), xaxs = \"i\", yaxs = \"i\") s$use_cosine_season() d <- s$reference_date + 0:365 plot(d, purrr::map_dbl(d, s$model_date),      type = \"l\", lwd = 2,      xlab = \"\",      ylab = \"Relative effect of season\",      ylim = c(0, 1.25), xaxs = \"i\", yaxs = \"i\") s$set_scale(0.25)  d <- s$reference_date + 0:365 plot(d, purrr::map_dbl(d, s$model_date),      type = \"l\", lwd = 2,      xlab = \"\",      ylab = \"Relative effect of season\",      ylim = c(0, 1.25), xaxs = \"i\", yaxs = \"i\")"},{"path":"https://ssi-dk.github.io/diseasy/articles/diseasy-variant.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"DiseasyVariant","text":"DiseasyVariant module responsible implementation variants.","code":""},{"path":"https://ssi-dk.github.io/diseasy/articles/diseasy-variant.html","id":"configuring-the-module","dir":"Articles","previous_headings":"","what":"Configuring the module","title":"DiseasyVariant","text":"module can initialized without setting parameters. default, module initializes variant scenario, produces non-informative outputs. define variant scenario, manually add variants interest characteristics. example , add wild-type variant mutant variant named “Alpha”. example, perfect cross immunity variants (since specify otherwise). interactions DiseasyVariant captured via $cross_immunity, matrix showing overlap immunity variants. can inspect cross immunity matrix via $cross_immunity.","code":"variant <- DiseasyVariant$new() variant$variants #> NULL variant$add_variant(name = \"WT\") variant$add_variant(   name = \"Alpha\",   characteristics = list(     \"relative_infection_risk\" = 1.5,     \"introduction_date\" = as.Date(\"2020-12-01\")   ) )  variant$variants #> $Alpha #> $Alpha$relative_infection_risk #> [1] 1.5 #>  #> $Alpha$introduction_date #> [1] \"2020-12-01\" #>  #>  #> $WT #> list() variant$cross_immunity #>       Alpha WT #> Alpha     1  1 #> WT        1  1"},{"path":"https://ssi-dk.github.io/diseasy/articles/diseasy-variant.html","id":"cross-immunity-interactions","dir":"Articles","previous_headings":"Configuring the module","what":"Cross immunity interactions","title":"DiseasyVariant","text":"variants different levels cross immunity, can specify cross_immunity characteristic initialisation. add variant 85% cross immunity wild-type Alpha variant. , Delta variant infects host previously infected wild-type Alpha variant, protection provided natural immunity host reduced 15%. cross immunity asymmetric, meaning wild-type Alpha variant infects host previously infected Delta variant, protection provided immunisation Delta variant reduced.","code":"variant$add_variant(   name = \"Delta\",   characteristics = list(     \"introduction_date\" = as.Date(\"2021-05-01\"),     \"cross_immunity\" = list(\"WT\" = 0.85, \"Alpha\" = 0.85)   ) )  variant$cross_immunity #>       Alpha Delta   WT #> Alpha  1.00     1 1.00 #> Delta  0.85     1 0.85 #> WT     1.00     1 1.00"},{"path":"https://ssi-dk.github.io/diseasy/articles/diseasy-variant.html","id":"summarising-the-scenario","dir":"Articles","previous_headings":"","what":"Summarising the scenario","title":"DiseasyVariant","text":"diseasy modules, $describe() method can used get human readable summary scenario.","code":"variant$describe() #> # DiseasyVariant ############################################# #> Variant: Alpha #>  - relative_infection_risk: 1.5 #>  - introduction_date: 2020-12-01 #> Variant: Delta #>  - introduction_date: 2021-05-01 #>  - cross_immunity: 0.85 - cross_immunity: 0.85 #> Variant: WT #> Cross immunity interactions: #> (Index ij indicates variant j infecting host with immunity i) #> 10.85111110.851"},{"path":"https://ssi-dk.github.io/diseasy/articles/diseasy.html","id":"overview","dir":"Articles","previous_headings":"","what":"Overview","title":"diseasy: quick start guide","text":"diseasy package large scope aims provide infrastructure easily create large ensemble disease models. building disease models achieved via modular design philosophy. end, number “functional” modules feed “model” templates form individual models.","code":""},{"path":"https://ssi-dk.github.io/diseasy/articles/diseasy.html","id":"functional-modules","dir":"Articles","previous_headings":"Overview","what":"Functional modules","title":"diseasy: quick start guide","text":"functional modules smaller modules meant defined purposes. modules “atomic” form building blocks ensembles. currently available functional modules : DiseasyActivity, DiseasyImmunity, DiseasyObservables, DiseasySeason, DiseasystoreSeirExample, DiseasyVariant functional module restricted covering single functionality use models (sometimes functional modules). example, ?DiseasySeason defines number models season dependency disease. module single defined purpose (modelling effect season) provides number different models describing possible season dependencies: see later, different models season dependency used construct ensembles. season models similar functional signatures (.e. function calls models similar). way, create disease model, can use module implement different models season dependency disease models easily. modules functionality implement. example, module ?DiseasyObservables responsible providing data models modules. ?DiseasySeason, means models season dependency can use real-world data, temperature, season models. use modules varied module comes vignette describing usage: vignette(\"diseasy-activity\"), vignette(\"diseasy-immunity\"), vignette(\"diseasy-observables\"), vignette(\"diseasy-season\"), vignette(\"diseasystore-seirexample\"), vignette(\"diseasy-variant\").","code":"s <- DiseasySeason$new() s$available_season_models #> [1] \"constant_season\" \"cosine_season\"   \"covid_season_v1\" \"covid_season_v2\""},{"path":"https://ssi-dk.github.io/diseasy/articles/diseasy.html","id":"model-templates","dir":"Articles","previous_headings":"Overview","what":"Model templates","title":"diseasy: quick start guide","text":"stated , functional modules provide functionality disease models via use model templates. currently available model templates : DiseasyModelB0, DiseasyModelB1, DiseasyModelBRM, DiseasyModelG0, DiseasyModelG1, DiseasyModelGLM, DiseasyModelOde, DiseasyModelOdeSeir, DiseasyModelRegression see model templates action, can consult respective vignettes, vignette(\"diseasy-model-regression\").","code":""},{"path":"https://ssi-dk.github.io/diseasy/articles/diseasy.html","id":"configuring","dir":"Articles","previous_headings":"Overview","what":"Configuring","title":"diseasy: quick start guide","text":"diseasy modules build top DiseasyBaseModule class. class provides number features common modules, logging caching.","code":""},{"path":"https://ssi-dk.github.io/diseasy/articles/diseasy.html","id":"caching","dir":"Articles","previous_headings":"Overview > Configuring","what":"Caching","title":"diseasy: quick start guide","text":"Internally, modules may use cachem cache computations either memory disk. control caching done, can provide cache argument module constructor containing cachem cache object, can set option diseasy.cache cachem cache object. See ?DiseasyBaseModule information.","code":""},{"path":"https://ssi-dk.github.io/diseasy/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Rasmus Skytte Randløv. Author, maintainer. Marcus Munch Grünewald. Author. Lasse Engbo Christiansen. Author. Kaare Græsbøll. Author. Sofia Myrup Otero. Author. . Copyright holder, funder.","code":""},{"path":"https://ssi-dk.github.io/diseasy/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Randløv R, Grünewald M, Christiansen L, Græsbøll K, Otero S (2025). diseasy: Disease Ensemble Modelling Made Easy. R package version 0.0.0.9000, https://github.com/ssi-dk/diseasy.","code":"@Manual{,   title = {diseasy: Disease Ensemble Modelling Made Easy},   author = {Rasmus Skytte Randløv and Marcus Munch Grünewald and Lasse Engbo Christiansen and Kaare Græsbøll and Sofia Myrup Otero},   year = {2025},   note = {R package version 0.0.0.9000},   url = {https://github.com/ssi-dk/diseasy}, }"},{"path":[]},{"path":"https://ssi-dk.github.io/diseasy/index.html","id":"overview","dir":"","previous_headings":"","what":"Overview","title":"Disease Ensemble Modelling Made Easy","text":"Leveraging combinatorial building ensemble forecasting disease modelling.","code":""},{"path":"https://ssi-dk.github.io/diseasy/index.html","id":"the-power-of-combinations","dir":"","previous_headings":"","what":"The power of combinations","title":"Disease Ensemble Modelling Made Easy","text":"diseasy framework disease modelling built around philosophy combinatorial building. Even small number modules, ensemble consisting vast array disease models can constructed combining individual modules.","code":""},{"path":"https://ssi-dk.github.io/diseasy/index.html","id":"the-power-of-ensembles","dir":"","previous_headings":"","what":"The power of ensembles","title":"Disease Ensemble Modelling Made Easy","text":"Ensemble models disease spread typically outperforms individual models terms robust accurate forecasts. diseasy, ensemble models leveraged support evidence-based decision-making pandemic preparedness.","code":""},{"path":"https://ssi-dk.github.io/diseasy/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Disease Ensemble Modelling Made Easy","text":"","code":"# Install diseasy from CRAN: install.packages(\"diseasy\")  # Alternatively, install the development version from github: # install.packages(\"devtools\") devtools::install_github(\"ssi-dk/diseasy\")"},{"path":"https://ssi-dk.github.io/diseasy/index.html","id":"usage","dir":"","previous_headings":"","what":"Usage","title":"Disease Ensemble Modelling Made Easy","text":"basic usage examples, see vignette(\"diseasy\").","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/Diseasy-BRM-models.html","id":null,"dir":"Reference","previous_headings":"","what":"Meta module for the BRM class of models — Diseasy-BRM-models","title":"Meta module for the BRM class of models — Diseasy-BRM-models","text":"DiseasyModelGLM module implements common structure functionality GLM regression class models beyond model structure provided DiseasyModelRegression. notably, model module implements $fit_regression() $get_prediction() methods using GLM. diseasy includes two simple models uses DiseasyModelGLM module: DiseasyModelG0 DiseasyModelG1 models implements constant predictor exponential model based previous 7 21 days observations, respectively. making custom GLM model, subclass implement $update_formula() method. $update_formula() method update formula based stratifications. model flexibly adapt different stratifications, method implemented. See DiseasyModelG0 DiseasyModelG1 examples can done.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/Diseasy-BRM-models.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Meta module for the BRM class of models — Diseasy-BRM-models","text":"new instance DiseasyModelGLM, DiseasyModelG0 DiseasyModelG1 R6 class.","code":""},{"path":[]},{"path":"https://ssi-dk.github.io/diseasy/reference/Diseasy-BRM-models.html","id":"super-classes","dir":"Reference","previous_headings":"","what":"Super classes","title":"Meta module for the BRM class of models — Diseasy-BRM-models","text":"diseasy::DiseasyBaseModule -> diseasy::DiseasyModel -> diseasy::DiseasyModelRegression -> DiseasyModelBRM","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/Diseasy-BRM-models.html","id":"methods","dir":"Reference","previous_headings":"","what":"Methods","title":"Meta module for the BRM class of models — Diseasy-BRM-models","text":"diseasy::DiseasyBaseModule$load_module() diseasy::DiseasyBaseModule$set_moduleowner() diseasy::DiseasyModel$get_data() diseasy::DiseasyModelRegression$get_results() diseasy::DiseasyModelRegression$plot()","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/Diseasy-BRM-models.html","id":"public-methods","dir":"Reference","previous_headings":"","what":"Public methods","title":"Meta module for the BRM class of models — Diseasy-BRM-models","text":"DiseasyModelBRM$new() DiseasyModelBRM$clone()","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/Diseasy-BRM-models.html","id":"method-new-","dir":"Reference","previous_headings":"","what":"Method new()","title":"Meta module for the BRM class of models — Diseasy-BRM-models","text":"Creates new instance DiseasyModelBRM R6 class. module typically constructed directly rather DiseasyModelB* classes, DiseasyModelB0 DiseasyModelB1.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/Diseasy-BRM-models.html","id":"usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Meta module for the BRM class of models — Diseasy-BRM-models","text":"","code":"DiseasyModelBRM$new(...)"},{"path":"https://ssi-dk.github.io/diseasy/reference/Diseasy-BRM-models.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Meta module for the BRM class of models — Diseasy-BRM-models","text":"... parameters sent DiseasyModelRegression R6 constructor.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/Diseasy-BRM-models.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Meta module for the BRM class of models — Diseasy-BRM-models","text":"Helper class DiseasyModelB* R6 classes.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/Diseasy-BRM-models.html","id":"returns","dir":"Reference","previous_headings":"","what":"Returns","title":"Meta module for the BRM class of models — Diseasy-BRM-models","text":"new instance DiseasyModelBRM R6 class.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/Diseasy-BRM-models.html","id":"method-clone-","dir":"Reference","previous_headings":"","what":"Method clone()","title":"Meta module for the BRM class of models — Diseasy-BRM-models","text":"objects class cloneable method.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/Diseasy-BRM-models.html","id":"usage-1","dir":"Reference","previous_headings":"","what":"Usage","title":"Meta module for the BRM class of models — Diseasy-BRM-models","text":"","code":"DiseasyModelBRM$clone(deep = FALSE)"},{"path":"https://ssi-dk.github.io/diseasy/reference/Diseasy-BRM-models.html","id":"arguments-1","dir":"Reference","previous_headings":"","what":"Arguments","title":"Meta module for the BRM class of models — Diseasy-BRM-models","text":"deep Whether make deep clone.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/Diseasy-BRM-models.html","id":"super-classes-1","dir":"Reference","previous_headings":"","what":"Super classes","title":"Meta module for the BRM class of models — Diseasy-BRM-models","text":"diseasy::DiseasyBaseModule -> diseasy::DiseasyModel -> diseasy::DiseasyModelRegression -> diseasy::DiseasyModelBRM -> diseasy::NA -> DiseasyModelB0","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/Diseasy-BRM-models.html","id":"methods-1","dir":"Reference","previous_headings":"","what":"Methods","title":"Meta module for the BRM class of models — Diseasy-BRM-models","text":"diseasy::DiseasyBaseModule$load_module() diseasy::DiseasyBaseModule$set_moduleowner() diseasy::DiseasyModel$get_data() diseasy::DiseasyModelRegression$get_results() diseasy::DiseasyModelRegression$plot()","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/Diseasy-BRM-models.html","id":"public-methods-1","dir":"Reference","previous_headings":"","what":"Public methods","title":"Meta module for the BRM class of models — Diseasy-BRM-models","text":"DiseasyModelB0$new() DiseasyModelB0$clone()","code":""},{"path":[]},{"path":"https://ssi-dk.github.io/diseasy/reference/Diseasy-BRM-models.html","id":"usage-2","dir":"Reference","previous_headings":"","what":"Usage","title":"Meta module for the BRM class of models — Diseasy-BRM-models","text":"","code":"DiseasyModelB0$new(...)"},{"path":"https://ssi-dk.github.io/diseasy/reference/Diseasy-BRM-models.html","id":"arguments-2","dir":"Reference","previous_headings":"","what":"Arguments","title":"Meta module for the BRM class of models — Diseasy-BRM-models","text":"... parameters sent DiseasyModelB_ R6 constructor","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/Diseasy-BRM-models.html","id":"returns-1","dir":"Reference","previous_headings":"","what":"Returns","title":"Meta module for the BRM class of models — Diseasy-BRM-models","text":"new instance DiseasyModelB0 R6 class.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/Diseasy-BRM-models.html","id":"method-clone--1","dir":"Reference","previous_headings":"","what":"Method clone()","title":"Meta module for the BRM class of models — Diseasy-BRM-models","text":"objects class cloneable method.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/Diseasy-BRM-models.html","id":"usage-3","dir":"Reference","previous_headings":"","what":"Usage","title":"Meta module for the BRM class of models — Diseasy-BRM-models","text":"","code":"DiseasyModelB0$clone(deep = FALSE)"},{"path":"https://ssi-dk.github.io/diseasy/reference/Diseasy-BRM-models.html","id":"arguments-3","dir":"Reference","previous_headings":"","what":"Arguments","title":"Meta module for the BRM class of models — Diseasy-BRM-models","text":"deep Whether make deep clone.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/Diseasy-BRM-models.html","id":"super-classes-2","dir":"Reference","previous_headings":"","what":"Super classes","title":"Meta module for the BRM class of models — Diseasy-BRM-models","text":"diseasy::DiseasyBaseModule -> diseasy::DiseasyModel -> diseasy::DiseasyModelRegression -> diseasy::DiseasyModelBRM -> diseasy::NA -> DiseasyModelB1","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/Diseasy-BRM-models.html","id":"methods-2","dir":"Reference","previous_headings":"","what":"Methods","title":"Meta module for the BRM class of models — Diseasy-BRM-models","text":"diseasy::DiseasyBaseModule$load_module() diseasy::DiseasyBaseModule$set_moduleowner() diseasy::DiseasyModel$get_data() diseasy::DiseasyModelRegression$get_results() diseasy::DiseasyModelRegression$plot()","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/Diseasy-BRM-models.html","id":"public-methods-2","dir":"Reference","previous_headings":"","what":"Public methods","title":"Meta module for the BRM class of models — Diseasy-BRM-models","text":"DiseasyModelB1$new() DiseasyModelB1$clone()","code":""},{"path":[]},{"path":"https://ssi-dk.github.io/diseasy/reference/Diseasy-BRM-models.html","id":"usage-4","dir":"Reference","previous_headings":"","what":"Usage","title":"Meta module for the BRM class of models — Diseasy-BRM-models","text":"","code":"DiseasyModelB1$new(...)"},{"path":"https://ssi-dk.github.io/diseasy/reference/Diseasy-BRM-models.html","id":"arguments-4","dir":"Reference","previous_headings":"","what":"Arguments","title":"Meta module for the BRM class of models — Diseasy-BRM-models","text":"... parameters sent DiseasyModelB_ R6 constructor","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/Diseasy-BRM-models.html","id":"returns-2","dir":"Reference","previous_headings":"","what":"Returns","title":"Meta module for the BRM class of models — Diseasy-BRM-models","text":"new instance DiseasyModelB1 R6 class.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/Diseasy-BRM-models.html","id":"method-clone--2","dir":"Reference","previous_headings":"","what":"Method clone()","title":"Meta module for the BRM class of models — Diseasy-BRM-models","text":"objects class cloneable method.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/Diseasy-BRM-models.html","id":"usage-5","dir":"Reference","previous_headings":"","what":"Usage","title":"Meta module for the BRM class of models — Diseasy-BRM-models","text":"","code":"DiseasyModelB1$clone(deep = FALSE)"},{"path":"https://ssi-dk.github.io/diseasy/reference/Diseasy-BRM-models.html","id":"arguments-5","dir":"Reference","previous_headings":"","what":"Arguments","title":"Meta module for the BRM class of models — Diseasy-BRM-models","text":"deep Whether make deep clone.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/Diseasy-BRM-models.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Meta module for the BRM class of models — Diseasy-BRM-models","text":"","code":"model <- DiseasyModelG0$new()   rm(model)"},{"path":"https://ssi-dk.github.io/diseasy/reference/Diseasy-GLM-models.html","id":null,"dir":"Reference","previous_headings":"","what":"Meta module for the GLM class of models — Diseasy-GLM-models","title":"Meta module for the GLM class of models — Diseasy-GLM-models","text":"DiseasyModelGLM module implements common structure functionality GLM regression class models beyond model structure provided DiseasyModelRegression. notably, model module implements $fit_regression() $get_prediction() methods using GLM. diseasy includes two simple models uses DiseasyModelGLM module: DiseasyModelG0 DiseasyModelG1 models implements constant predictor exponential model based previous 7 21 days observations, respectively. making custom GLM model, subclass implement $update_formula() method. $update_formula() method update formula based stratifications. model flexibly adapt different stratifications, method implemented. See DiseasyModelG0 DiseasyModelG1 examples can done.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/Diseasy-GLM-models.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Meta module for the GLM class of models — Diseasy-GLM-models","text":"new instance DiseasyModelGLM, DiseasyModelG0 DiseasyModelG1 R6 class.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/Diseasy-GLM-models.html","id":"super-classes","dir":"Reference","previous_headings":"","what":"Super classes","title":"Meta module for the GLM class of models — Diseasy-GLM-models","text":"diseasy::DiseasyBaseModule -> diseasy::DiseasyModel -> diseasy::DiseasyModelRegression -> DiseasyModelGLM","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/Diseasy-GLM-models.html","id":"methods","dir":"Reference","previous_headings":"","what":"Methods","title":"Meta module for the GLM class of models — Diseasy-GLM-models","text":"diseasy::DiseasyBaseModule$load_module() diseasy::DiseasyBaseModule$set_moduleowner() diseasy::DiseasyModel$get_data() diseasy::DiseasyModelRegression$get_results() diseasy::DiseasyModelRegression$initialize() diseasy::DiseasyModelRegression$plot()","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/Diseasy-GLM-models.html","id":"public-methods","dir":"Reference","previous_headings":"","what":"Public methods","title":"Meta module for the GLM class of models — Diseasy-GLM-models","text":"DiseasyModelGLM$clone()","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/Diseasy-GLM-models.html","id":"method-clone-","dir":"Reference","previous_headings":"","what":"Method clone()","title":"Meta module for the GLM class of models — Diseasy-GLM-models","text":"objects class cloneable method.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/Diseasy-GLM-models.html","id":"usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Meta module for the GLM class of models — Diseasy-GLM-models","text":"","code":"DiseasyModelGLM$clone(deep = FALSE)"},{"path":"https://ssi-dk.github.io/diseasy/reference/Diseasy-GLM-models.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Meta module for the GLM class of models — Diseasy-GLM-models","text":"deep Whether make deep clone.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/Diseasy-GLM-models.html","id":"super-classes-1","dir":"Reference","previous_headings":"","what":"Super classes","title":"Meta module for the GLM class of models — Diseasy-GLM-models","text":"diseasy::DiseasyBaseModule -> diseasy::DiseasyModel -> diseasy::DiseasyModelRegression -> diseasy::DiseasyModelGLM -> diseasy::NA -> DiseasyModelG0","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/Diseasy-GLM-models.html","id":"methods-1","dir":"Reference","previous_headings":"","what":"Methods","title":"Meta module for the GLM class of models — Diseasy-GLM-models","text":"diseasy::DiseasyBaseModule$load_module() diseasy::DiseasyBaseModule$set_moduleowner() diseasy::DiseasyModel$get_data() diseasy::DiseasyModelRegression$get_results() diseasy::DiseasyModelRegression$plot()","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/Diseasy-GLM-models.html","id":"public-methods-1","dir":"Reference","previous_headings":"","what":"Public methods","title":"Meta module for the GLM class of models — Diseasy-GLM-models","text":"DiseasyModelG0$new() DiseasyModelG0$clone()","code":""},{"path":[]},{"path":"https://ssi-dk.github.io/diseasy/reference/Diseasy-GLM-models.html","id":"usage-1","dir":"Reference","previous_headings":"","what":"Usage","title":"Meta module for the GLM class of models — Diseasy-GLM-models","text":"","code":"DiseasyModelG0$new(...)"},{"path":"https://ssi-dk.github.io/diseasy/reference/Diseasy-GLM-models.html","id":"arguments-1","dir":"Reference","previous_headings":"","what":"Arguments","title":"Meta module for the GLM class of models — Diseasy-GLM-models","text":"... parameters sent DiseasyModelG_ R6 constructor","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/Diseasy-GLM-models.html","id":"returns","dir":"Reference","previous_headings":"","what":"Returns","title":"Meta module for the GLM class of models — Diseasy-GLM-models","text":"new instance DiseasyModelG1 R6 class.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/Diseasy-GLM-models.html","id":"method-clone--1","dir":"Reference","previous_headings":"","what":"Method clone()","title":"Meta module for the GLM class of models — Diseasy-GLM-models","text":"objects class cloneable method.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/Diseasy-GLM-models.html","id":"usage-2","dir":"Reference","previous_headings":"","what":"Usage","title":"Meta module for the GLM class of models — Diseasy-GLM-models","text":"","code":"DiseasyModelG0$clone(deep = FALSE)"},{"path":"https://ssi-dk.github.io/diseasy/reference/Diseasy-GLM-models.html","id":"arguments-2","dir":"Reference","previous_headings":"","what":"Arguments","title":"Meta module for the GLM class of models — Diseasy-GLM-models","text":"deep Whether make deep clone.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/Diseasy-GLM-models.html","id":"super-classes-2","dir":"Reference","previous_headings":"","what":"Super classes","title":"Meta module for the GLM class of models — Diseasy-GLM-models","text":"diseasy::DiseasyBaseModule -> diseasy::DiseasyModel -> diseasy::DiseasyModelRegression -> diseasy::DiseasyModelGLM -> diseasy::NA -> DiseasyModelG1","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/Diseasy-GLM-models.html","id":"methods-2","dir":"Reference","previous_headings":"","what":"Methods","title":"Meta module for the GLM class of models — Diseasy-GLM-models","text":"diseasy::DiseasyBaseModule$load_module() diseasy::DiseasyBaseModule$set_moduleowner() diseasy::DiseasyModel$get_data() diseasy::DiseasyModelRegression$get_results() diseasy::DiseasyModelRegression$plot()","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/Diseasy-GLM-models.html","id":"public-methods-2","dir":"Reference","previous_headings":"","what":"Public methods","title":"Meta module for the GLM class of models — Diseasy-GLM-models","text":"DiseasyModelG1$new() DiseasyModelG1$clone()","code":""},{"path":[]},{"path":"https://ssi-dk.github.io/diseasy/reference/Diseasy-GLM-models.html","id":"usage-3","dir":"Reference","previous_headings":"","what":"Usage","title":"Meta module for the GLM class of models — Diseasy-GLM-models","text":"","code":"DiseasyModelG1$new(...)"},{"path":"https://ssi-dk.github.io/diseasy/reference/Diseasy-GLM-models.html","id":"arguments-3","dir":"Reference","previous_headings":"","what":"Arguments","title":"Meta module for the GLM class of models — Diseasy-GLM-models","text":"... parameters sent DiseasyModelG_ R6 constructor","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/Diseasy-GLM-models.html","id":"returns-1","dir":"Reference","previous_headings":"","what":"Returns","title":"Meta module for the GLM class of models — Diseasy-GLM-models","text":"new instance DiseasyModelG1 R6 class.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/Diseasy-GLM-models.html","id":"method-clone--2","dir":"Reference","previous_headings":"","what":"Method clone()","title":"Meta module for the GLM class of models — Diseasy-GLM-models","text":"objects class cloneable method.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/Diseasy-GLM-models.html","id":"usage-4","dir":"Reference","previous_headings":"","what":"Usage","title":"Meta module for the GLM class of models — Diseasy-GLM-models","text":"","code":"DiseasyModelG1$clone(deep = FALSE)"},{"path":"https://ssi-dk.github.io/diseasy/reference/Diseasy-GLM-models.html","id":"arguments-4","dir":"Reference","previous_headings":"","what":"Arguments","title":"Meta module for the GLM class of models — Diseasy-GLM-models","text":"deep Whether make deep clone.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/Diseasy-GLM-models.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Meta module for the GLM class of models — Diseasy-GLM-models","text":"","code":"model <- DiseasyModelG0$new()   rm(model)"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyActivity.html","id":null,"dir":"Reference","previous_headings":"","what":"Activity handler — DiseasyActivity","title":"Activity handler — DiseasyActivity","text":"DiseasyActivity module responsible handling societal activity. providing contact_basis, activity_units scenario module, module provides activity matrices throughout scenario (flexible age-groupings) well overall \"activity\" level society. contact_basis contains information : - contact matrices (contact rates age groups) - population (size proportion population age groups) activity_units projects restrictions, guidelines changes activity smaller \"units\" independently \"opened\" \"closed\". Opening (closing) activity unit means activity described unit ()active. scenario contains information different activity_units opened closed. scenario provided, module provide non-informative activity information: - Openness always 1. - contact matrices uniform , summed, largest eigenvalue 1. See vignette(\"diseasy-activity\") examples use.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyActivity.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Activity handler — DiseasyActivity","text":"new instance DiseasyActivity R6 class.","code":""},{"path":[]},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyActivity.html","id":"super-class","dir":"Reference","previous_headings":"","what":"Super class","title":"Activity handler — DiseasyActivity","text":"diseasy::DiseasyBaseModule -> DiseasyActivity","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyActivity.html","id":"active-bindings","dir":"Reference","previous_headings":"","what":"Active bindings","title":"Activity handler — DiseasyActivity","text":"scenario_matrix (matrix array) reduced view internal state restrictions (showing used activity units). Read-. risk_matrix (matrix array) reduced view internal state overall risk multipliers. Read-. contact_basis (list(list())) nested list needed information contact_basis * counts contains age stratified contact counts across arenas basis   (e.g. 'work', 'home', 'school', '') * proportion contains list proportion population age-group * demography contains data.frame columns   * age (integer()) 1-year age group   * population (numeric()) size population age group   * proportion (numeric()) proportion total population age group * description contains information source contact basis. Read .","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyActivity.html","id":"methods","dir":"Reference","previous_headings":"","what":"Methods","title":"Activity handler — DiseasyActivity","text":"diseasy::DiseasyBaseModule$load_module() diseasy::DiseasyBaseModule$set_moduleowner()","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyActivity.html","id":"public-methods","dir":"Reference","previous_headings":"","what":"Public methods","title":"Activity handler — DiseasyActivity","text":"DiseasyActivity$new() DiseasyActivity$set_activity_units() DiseasyActivity$set_contact_basis() DiseasyActivity$change_activity() DiseasyActivity$change_risk() DiseasyActivity$crop_scenario() DiseasyActivity$get_scenario_activities() DiseasyActivity$get_scenario_openness() DiseasyActivity$get_scenario_contacts() DiseasyActivity$map_population() DiseasyActivity$rescale_contacts_to_rates() DiseasyActivity$reset_scenario() DiseasyActivity$describe() DiseasyActivity$clone()","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyActivity.html","id":"method-new-","dir":"Reference","previous_headings":"","what":"Method new()","title":"Activity handler — DiseasyActivity","text":"Creates new instance DiseasyActivity R6 class.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyActivity.html","id":"usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Activity handler — DiseasyActivity","text":"","code":"DiseasyActivity$new(   base_scenario = \"closed\",   activity_units = NULL,   contact_basis = NULL,   ... )"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyActivity.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Activity handler — DiseasyActivity","text":"base_scenario (character(1)) Baseline scenario. Must either fully \"open\" \"closed\" \"dk_reference\" activity_units (list(list())) nested list possible 'units' activity can opened closed. contact_basis (list(list())) nested list needed information contact_basis * counts contains age stratified contact counts across arenas basis   (e.g. 'work', 'home', 'school', '') * proportion contains list proportion population age-group * demography contains data.frame columns   * age (integer()) 1-year age group   * population (numeric()) size population age group   * proportion (numeric()) proportion total population age group * description contains information source contact basis. ... Parameters sent DiseasyBaseModule R6 constructor","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyActivity.html","id":"method-set-activity-units-","dir":"Reference","previous_headings":"","what":"Method set_activity_units()","title":"Activity handler — DiseasyActivity","text":"Sets list possible \"units\" activity can opened closed","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyActivity.html","id":"usage-1","dir":"Reference","previous_headings":"","what":"Usage","title":"Activity handler — DiseasyActivity","text":"","code":"DiseasyActivity$set_activity_units(activity_units)"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyActivity.html","id":"arguments-1","dir":"Reference","previous_headings":"","what":"Arguments","title":"Activity handler — DiseasyActivity","text":"activity_units (list(list())) nested list possible 'units' activity can opened closed.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyActivity.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Activity handler — DiseasyActivity","text":"element activity_units list list following elements: activity: programmatic short hand activity (character, snake_case), label: human readable label activity (character), home:   numeric/vector number(s) [0, 1] work:   numeric/vector number(s) [0, 1] school: numeric/vector number(s) [0, 1] :  numeric/vector number(s) [0, 1] risk:   numeric greater zero single number provider, number applied across age-groups vector provided, vector must match number age groups contact_basis","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyActivity.html","id":"returns","dir":"Reference","previous_headings":"","what":"Returns","title":"Activity handler — DiseasyActivity","text":"NULL (called side effects)","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyActivity.html","id":"method-set-contact-basis-","dir":"Reference","previous_headings":"","what":"Method set_contact_basis()","title":"Activity handler — DiseasyActivity","text":"Sets contact matrix basis activity computed ","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyActivity.html","id":"usage-2","dir":"Reference","previous_headings":"","what":"Usage","title":"Activity handler — DiseasyActivity","text":"","code":"DiseasyActivity$set_contact_basis(contact_basis)"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyActivity.html","id":"arguments-2","dir":"Reference","previous_headings":"","what":"Arguments","title":"Activity handler — DiseasyActivity","text":"contact_basis (list(list())) nested list needed information contact_basis * counts contains age stratified contact counts across arenas basis   (e.g. 'work', 'home', 'school', '') * proportion contains list proportion population age-group * demography contains data.frame columns   * age (integer()) 1-year age group   * population (numeric()) size population age group   * proportion (numeric()) proportion total population age group * description contains information source contact basis.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyActivity.html","id":"details-1","dir":"Reference","previous_headings":"","what":"Details","title":"Activity handler — DiseasyActivity","text":"Loads given contact_basis module","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyActivity.html","id":"returns-1","dir":"Reference","previous_headings":"","what":"Returns","title":"Activity handler — DiseasyActivity","text":"NULL (called side effects)","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyActivity.html","id":"method-change-activity-","dir":"Reference","previous_headings":"","what":"Method change_activity()","title":"Activity handler — DiseasyActivity","text":"Adds specified openings closings scenario","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyActivity.html","id":"usage-3","dir":"Reference","previous_headings":"","what":"Usage","title":"Activity handler — DiseasyActivity","text":"","code":"DiseasyActivity$change_activity(date, opening = NA, closing = NA)"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyActivity.html","id":"arguments-3","dir":"Reference","previous_headings":"","what":"Arguments","title":"Activity handler — DiseasyActivity","text":"date (Date() | data.frame) Either vector dates activity changes data.frame columns 'date', 'opening' 'closing' opening (character()) Names activities open given date. Omitted data.frame given date argument closing (character()) Names activities close given date. Omitted data.frame given date argument","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyActivity.html","id":"returns-2","dir":"Reference","previous_headings":"","what":"Returns","title":"Activity handler — DiseasyActivity","text":"NULL (called side effects)","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyActivity.html","id":"method-change-risk-","dir":"Reference","previous_headings":"","what":"Method change_risk()","title":"Activity handler — DiseasyActivity","text":"Sets overall risk types activity","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyActivity.html","id":"usage-4","dir":"Reference","previous_headings":"","what":"Usage","title":"Activity handler — DiseasyActivity","text":"","code":"DiseasyActivity$change_risk(date, type = NULL, risk = NULL)"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyActivity.html","id":"arguments-4","dir":"Reference","previous_headings":"","what":"Arguments","title":"Activity handler — DiseasyActivity","text":"date (Date()) Dates risk changes. first argument can also data.frame columns \"date\", \"type\" \"risk\" type (character(1)) Name activity type change. Must \"work\", \"school\", \"home\" \"\" risk (numeric(1)) Relative risk given type given date","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyActivity.html","id":"returns-3","dir":"Reference","previous_headings":"","what":"Returns","title":"Activity handler — DiseasyActivity","text":"NULL (called side effects)","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyActivity.html","id":"method-crop-scenario-","dir":"Reference","previous_headings":"","what":"Method crop_scenario()","title":"Activity handler — DiseasyActivity","text":"Helper function crop scenario matrix time","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyActivity.html","id":"usage-5","dir":"Reference","previous_headings":"","what":"Usage","title":"Activity handler — DiseasyActivity","text":"","code":"DiseasyActivity$crop_scenario(first_date = NULL, last_date = NULL)"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyActivity.html","id":"arguments-5","dir":"Reference","previous_headings":"","what":"Arguments","title":"Activity handler — DiseasyActivity","text":"first_date (Date(1)) New first date scenario. column lasted prior date new first column last_date (Date(1)) columns date deleted","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyActivity.html","id":"returns-4","dir":"Reference","previous_headings":"","what":"Returns","title":"Activity handler — DiseasyActivity","text":"NULL (called side effects)","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyActivity.html","id":"method-get-scenario-activities-","dir":"Reference","previous_headings":"","what":"Method get_scenario_activities()","title":"Activity handler — DiseasyActivity","text":"Return list containing active activity units dates changes.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyActivity.html","id":"usage-6","dir":"Reference","previous_headings":"","what":"Usage","title":"Activity handler — DiseasyActivity","text":"","code":"DiseasyActivity$get_scenario_activities()"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyActivity.html","id":"returns-5","dir":"Reference","previous_headings":"","what":"Returns","title":"Activity handler — DiseasyActivity","text":"(list) activity units active scenario.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyActivity.html","id":"method-get-scenario-openness-","dir":"Reference","previous_headings":"","what":"Method get_scenario_openness()","title":"Activity handler — DiseasyActivity","text":"Return openness [0 ; 1] age groups activities dates.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyActivity.html","id":"usage-7","dir":"Reference","previous_headings":"","what":"Usage","title":"Activity handler — DiseasyActivity","text":"","code":"DiseasyActivity$get_scenario_openness(age_cuts_lower = NULL, weights = NULL)"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyActivity.html","id":"arguments-6","dir":"Reference","previous_headings":"","what":"Arguments","title":"Activity handler — DiseasyActivity","text":"age_cuts_lower (numeric) vector ages defining lower bound age group. NULL, age groups contact_basis used. weights (numeric(4)) vector weights four types contacts. NULL, weighting done. weights normalized applying.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyActivity.html","id":"returns-6","dir":"Reference","previous_headings":"","what":"Returns","title":"Activity handler — DiseasyActivity","text":"(list()) Returns list depth two: value[lubridate::date][type]","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyActivity.html","id":"method-get-scenario-contacts-","dir":"Reference","previous_headings":"","what":"Method get_scenario_contacts()","title":"Activity handler — DiseasyActivity","text":"Return contacts across age groups activities dates.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyActivity.html","id":"usage-8","dir":"Reference","previous_headings":"","what":"Usage","title":"Activity handler — DiseasyActivity","text":"","code":"DiseasyActivity$get_scenario_contacts(age_cuts_lower = NULL, weights = NULL)"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyActivity.html","id":"arguments-7","dir":"Reference","previous_headings":"","what":"Arguments","title":"Activity handler — DiseasyActivity","text":"age_cuts_lower (numeric) vector ages defining lower bound age group. NULL, age groups contact_basis used. weights (numeric(4)) vector weights four types contacts. NULL, weighting done.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyActivity.html","id":"returns-7","dir":"Reference","previous_headings":"","what":"Returns","title":"Activity handler — DiseasyActivity","text":"weights supplied, list() depth two: value[lubridate::date][type] returned. Map population age groups","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyActivity.html","id":"method-map-population-","dir":"Reference","previous_headings":"","what":"Method map_population()","title":"Activity handler — DiseasyActivity","text":"function computes proportion population new old age groups.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyActivity.html","id":"usage-9","dir":"Reference","previous_headings":"","what":"Usage","title":"Activity handler — DiseasyActivity","text":"","code":"DiseasyActivity$map_population(age_cuts_lower)"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyActivity.html","id":"arguments-8","dir":"Reference","previous_headings":"","what":"Arguments","title":"Activity handler — DiseasyActivity","text":"age_cuts_lower (numeric) vector ages defining lower bound age group. NULL, age groups contact_basis used.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyActivity.html","id":"returns-8","dir":"Reference","previous_headings":"","what":"Returns","title":"Activity handler — DiseasyActivity","text":"data.frame maps age groups reference contact_basis supplied function. Rescale contact matrices population contact rates","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyActivity.html","id":"method-rescale-contacts-to-rates-","dir":"Reference","previous_headings":"","what":"Method rescale_contacts_to_rates()","title":"Activity handler — DiseasyActivity","text":"Re-scale contacts rates per individual fractional population. @details contact matrix \\(\\beta_{,j}\\) population \\(N_j\\), function returns rescaled elements \\(\\beta_{,j} / N_j\\).","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyActivity.html","id":"usage-10","dir":"Reference","previous_headings":"","what":"Usage","title":"Activity handler — DiseasyActivity","text":"","code":"DiseasyActivity$rescale_contacts_to_rates(input, population)"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyActivity.html","id":"arguments-9","dir":"Reference","previous_headings":"","what":"Arguments","title":"Activity handler — DiseasyActivity","text":"input (matrix array list(matrix array)) Contacts re-scaled. population (numeric) Population vector weight contacts . Must use age_groups contact matrix input.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyActivity.html","id":"returns-9","dir":"Reference","previous_headings":"","what":"Returns","title":"Activity handler — DiseasyActivity","text":"Returns object structure input","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyActivity.html","id":"method-reset-scenario-","dir":"Reference","previous_headings":"","what":"Method reset_scenario()","title":"Activity handler — DiseasyActivity","text":"Resets scenario module. NOTE: Called automatically setting/changing activity units.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyActivity.html","id":"usage-11","dir":"Reference","previous_headings":"","what":"Usage","title":"Activity handler — DiseasyActivity","text":"","code":"DiseasyActivity$reset_scenario()"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyActivity.html","id":"returns-10","dir":"Reference","previous_headings":"","what":"Returns","title":"Activity handler — DiseasyActivity","text":"NULL (called side effects)","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyActivity.html","id":"method-describe-","dir":"Reference","previous_headings":"","what":"Method describe()","title":"Activity handler — DiseasyActivity","text":"Prints human readable report internal state module.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyActivity.html","id":"usage-12","dir":"Reference","previous_headings":"","what":"Usage","title":"Activity handler — DiseasyActivity","text":"","code":"DiseasyActivity$describe()"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyActivity.html","id":"method-clone-","dir":"Reference","previous_headings":"","what":"Method clone()","title":"Activity handler — DiseasyActivity","text":"objects class cloneable method.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyActivity.html","id":"usage-13","dir":"Reference","previous_headings":"","what":"Usage","title":"Activity handler — DiseasyActivity","text":"","code":"DiseasyActivity$clone(deep = FALSE)"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyActivity.html","id":"arguments-10","dir":"Reference","previous_headings":"","what":"Arguments","title":"Activity handler — DiseasyActivity","text":"deep Whether make deep clone.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyActivity.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Activity handler — DiseasyActivity","text":"","code":"# Activity module with Danish reference scenario   act <- DiseasyActivity$new(base_scenario = \"dk_reference\",                              activity_units = dk_activity_units,                              contact_basis = contact_basis %.% DK)    # Get contact matrices   contact_matrices <- act$get_scenario_activities()     # Configuring a custom scenario in another country (using Danish activity units)   scenario <- data.frame(date = as.Date(character(0)),                          opening = character(0),                          closing = character(0)) |>     dplyr::add_row(date = as.Date(\"2020-01-01\"), opening = \"baseline\",      closing = NA) |>     dplyr::add_row(date = as.Date(\"2020-03-12\"), opening = NA,              closing = \"baseline\") |>     dplyr::add_row(date = as.Date(\"2020-03-12\"), opening = \"lockdown_2020\", closing = NA)    act$set_contact_basis(contact_basis %.% GB) # Use the \"Great Britain\" contact_basis   act$set_activity_units(dk_activity_units)   act$change_activity(scenario)    # Get societal \"openness\"   openness <- act$get_scenario_openness()    rm(act)"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyBaseModule.html","id":null,"dir":"Reference","previous_headings":"","what":"Base module for diseasy — DiseasyBaseModule","title":"Base module for diseasy — DiseasyBaseModule","text":"DiseasyBaseModule module implements common functionality modules available. notably, base module facilitates: logging: lgr logger configured making module inherits base module. logger stored private$lg. hashing: active binding self$hash hashes values public fields provide way uniquely identify configuration modules. Care must taken ensure information makes modules distinct also stored public fields. , important property stored private field, hash change. Module-specific tests written ensure hash changes expected. caching: methods private$cache(), private$get_hash() private$is_cached(hash) implements simple caching system whereby results method calls can cached improve performance modules. module loading: Modules instances sometimes loaded modules. private$load_module(module) method provides functionality handle loading (including cloning module passing new module already-loaded modules)","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyBaseModule.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Base module for diseasy — DiseasyBaseModule","text":"new instance DiseasyBaseModule R6 class.","code":""},{"path":[]},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyBaseModule.html","id":"active-bindings","dir":"Reference","previous_headings":"","what":"Active bindings","title":"Base module for diseasy — DiseasyBaseModule","text":"hash (character) Computes hash value module. Useful logging caching. Read .","code":""},{"path":[]},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyBaseModule.html","id":"public-methods","dir":"Reference","previous_headings":"","what":"Public methods","title":"Base module for diseasy — DiseasyBaseModule","text":"DiseasyBaseModule$new() DiseasyBaseModule$set_moduleowner() DiseasyBaseModule$load_module() DiseasyBaseModule$clone()","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyBaseModule.html","id":"method-new-","dir":"Reference","previous_headings":"","what":"Method new()","title":"Base module for diseasy — DiseasyBaseModule","text":"Creates new instance DiseasyBaseModule R6 class. module typically constructed directly rather derived classes.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyBaseModule.html","id":"usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Base module for diseasy — DiseasyBaseModule","text":"","code":"DiseasyBaseModule$new(   moduleowner = class(self)[1],   logging = diseasyoption(\"logging\", self),   cache = diseasyoption(\"cache\", self, .default = cachem::cache_mem(max_size = Inf)) )"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyBaseModule.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Base module for diseasy — DiseasyBaseModule","text":"moduleowner (character) name moduleowner. Used logging. logging (boolean) logging enabled? cache (cachem) cache generated cachem use caching results.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyBaseModule.html","id":"method-set-moduleowner-","dir":"Reference","previous_headings":"","what":"Method set_moduleowner()","title":"Base module for diseasy — DiseasyBaseModule","text":"Changes \"ownership\" module. Used logging.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyBaseModule.html","id":"usage-1","dir":"Reference","previous_headings":"","what":"Usage","title":"Base module for diseasy — DiseasyBaseModule","text":"","code":"DiseasyBaseModule$set_moduleowner(moduleowner)"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyBaseModule.html","id":"arguments-1","dir":"Reference","previous_headings":"","what":"Arguments","title":"Base module for diseasy — DiseasyBaseModule","text":"moduleowner (character) name moduleowner.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyBaseModule.html","id":"returns","dir":"Reference","previous_headings":"","what":"Returns","title":"Base module for diseasy — DiseasyBaseModule","text":"NULL","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyBaseModule.html","id":"method-load-module-","dir":"Reference","previous_headings":"","what":"Method load_module()","title":"Base module for diseasy — DiseasyBaseModule","text":"Loads copy provided module module.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyBaseModule.html","id":"usage-2","dir":"Reference","previous_headings":"","what":"Usage","title":"Base module for diseasy — DiseasyBaseModule","text":"","code":"DiseasyBaseModule$load_module(module, clone = TRUE)"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyBaseModule.html","id":"arguments-2","dir":"Reference","previous_headings":"","what":"Arguments","title":"Base module for diseasy — DiseasyBaseModule","text":"module (R6::R6Class instance) instance cloned field name class module clone (boolean) Toggle whether module cloned loading. Default TRUE.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyBaseModule.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Base module for diseasy — DiseasyBaseModule","text":"methods allows setting internal module instances instance created.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyBaseModule.html","id":"returns-1","dir":"Reference","previous_headings":"","what":"Returns","title":"Base module for diseasy — DiseasyBaseModule","text":"NULL","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyBaseModule.html","id":"method-clone-","dir":"Reference","previous_headings":"","what":"Method clone()","title":"Base module for diseasy — DiseasyBaseModule","text":"objects class cloneable method.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyBaseModule.html","id":"usage-3","dir":"Reference","previous_headings":"","what":"Usage","title":"Base module for diseasy — DiseasyBaseModule","text":"","code":"DiseasyBaseModule$clone(deep = FALSE)"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyBaseModule.html","id":"arguments-3","dir":"Reference","previous_headings":"","what":"Arguments","title":"Base module for diseasy — DiseasyBaseModule","text":"deep Whether make deep clone.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyBaseModule.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Base module for diseasy — DiseasyBaseModule","text":"","code":"# Normally, you would not want to create this module directly, but it is possible.   base_module <- DiseasyBaseModule$new()    rm(base_module)"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyEnsemble-generics.html","id":null,"dir":"Reference","previous_headings":"","what":"Standard generics for DiseasyEnsemble objects — DiseasyEnsemble-generics","title":"Standard generics for DiseasyEnsemble objects — DiseasyEnsemble-generics","text":"Standard generics DiseasyEnsemble objects","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyEnsemble-generics.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Standard generics for DiseasyEnsemble objects — DiseasyEnsemble-generics","text":"","code":"# S3 method for class 'DiseasyEnsemble' print(x, width = 200, ...)  # S3 method for class 'DiseasyEnsemble' summary(object, ...)  # S3 method for class 'DiseasyEnsemble' predict(   object,   observable,   prediction_length,   stratification = NULL,   context_length = 30,   by_model = FALSE,   ... )  # S3 method for class 'DiseasyEnsemble' plot(   x,   observable,   prediction_length,   stratification = NULL,   context_length = 30,   by_model = FALSE,   ... )"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyEnsemble-generics.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Standard generics for DiseasyEnsemble objects — DiseasyEnsemble-generics","text":"x, object (DiseasyEnsemble) Ensemble object print, summarise plot. width (integer(1)) maximum number characters print. ... ()  Unused. Required match generic signature. observable (character) observable provide data prediction . prediction_length (numeric) number days predict. prediction start defined last_queryable_date ?DiseasyObservables R6 class. stratification (list(quosures) NULL) Use rlang::quos(...) specify stratification. given, expressions stratification evaluated give stratification level. context_length (integer(1)) Number days prior prediction plot observable . by_model (logical(1)) plot stratified model?","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyEnsemble-generics.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Standard generics for DiseasyEnsemble objects — DiseasyEnsemble-generics","text":"NULL (called side effects) data.frame-like object columns predictions observable ensemble date, stratification model (optional).","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyEnsemble-generics.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Standard generics for DiseasyEnsemble objects — DiseasyEnsemble-generics","text":"","code":"observables <- DiseasyObservables$new(     diseasystore = DiseasystoreSeirExample,     conn = DBI::dbConnect(duckdb::duckdb())   )    # Set the reference date in the observables module   observables$set_last_queryable_date(     observables$ds$min_start_date + 30   )    # Create a DiseasyEnsemble object   ensemble <- combineasy(     model_templates = list(DiseasyModelG0, DiseasyModelG1),     modules = tidyr::expand_grid(       observables = list(observables)     )   )    print(ensemble) #> DiseasyEnsemble: DiseasyModelG0 (hash: 2df0d), DiseasyModelG1 (hash: 3fdc9)     summary(ensemble) #> DiseasyEnsemble consisting of: #> DiseasyModelG0: 1  #> DiseasyModelG1: 1     plot(ensemble, \"n_positive\", prediction_length = 30)     rm(ensemble, observables)"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyImmunity.html","id":null,"dir":"Reference","previous_headings":"","what":"Diseasy' immunity handler — DiseasyImmunity","title":"Diseasy' immunity handler — DiseasyImmunity","text":"DiseasyImmunity module responsible implementing various models (scenarios) immunity dependencies disease. module implements number immunity models different functional forms allows user set , custom waning function. See vignette(\"diseasy-immunity\") examples use.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyImmunity.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Diseasy' immunity handler — DiseasyImmunity","text":"new instance DiseasyImmunity R6 class.","code":""},{"path":[]},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyImmunity.html","id":"super-class","dir":"Reference","previous_headings":"","what":"Super class","title":"Diseasy' immunity handler — DiseasyImmunity","text":"diseasy::DiseasyBaseModule -> DiseasyImmunity","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyImmunity.html","id":"active-bindings","dir":"Reference","previous_headings":"","what":"Active bindings","title":"Diseasy' immunity handler — DiseasyImmunity","text":"available_waning_models (character()) waning models implemented DiseasyImmunity. Read . model (list(function())) list models currently used module. Read-.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyImmunity.html","id":"methods","dir":"Reference","previous_headings":"","what":"Methods","title":"Diseasy' immunity handler — DiseasyImmunity","text":"diseasy::DiseasyBaseModule$load_module() diseasy::DiseasyBaseModule$set_moduleowner()","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyImmunity.html","id":"public-methods","dir":"Reference","previous_headings":"","what":"Public methods","title":"Diseasy' immunity handler — DiseasyImmunity","text":"DiseasyImmunity$new() DiseasyImmunity$set_time_scales() DiseasyImmunity$set_waning_model() DiseasyImmunity$set_no_waning() DiseasyImmunity$set_exponential_waning() DiseasyImmunity$set_sigmoidal_waning() DiseasyImmunity$set_linear_waning() DiseasyImmunity$set_heaviside_waning() DiseasyImmunity$set_custom_waning() DiseasyImmunity$approximate_compartmental() DiseasyImmunity$plot() DiseasyImmunity$clone()","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyImmunity.html","id":"method-new-","dir":"Reference","previous_headings":"","what":"Method new()","title":"Diseasy' immunity handler — DiseasyImmunity","text":"Creates new instance DiseasyImmunity R6 class.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyImmunity.html","id":"usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Diseasy' immunity handler — DiseasyImmunity","text":"","code":"DiseasyImmunity$new(...)"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyImmunity.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Diseasy' immunity handler — DiseasyImmunity","text":"... Parameters sent DiseasyBaseModule R6 constructor.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyImmunity.html","id":"method-set-time-scales-","dir":"Reference","previous_headings":"","what":"Method set_time_scales()","title":"Diseasy' immunity handler — DiseasyImmunity","text":"Sets characteristic time scale waning model.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyImmunity.html","id":"usage-1","dir":"Reference","previous_headings":"","what":"Usage","title":"Diseasy' immunity handler — DiseasyImmunity","text":"","code":"DiseasyImmunity$set_time_scales(time_scales = NULL)"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyImmunity.html","id":"arguments-1","dir":"Reference","previous_headings":"","what":"Arguments","title":"Diseasy' immunity handler — DiseasyImmunity","text":"time_scales (named list()) named list target new time_scale target. Multiple targets can updated simultaneously.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyImmunity.html","id":"returns","dir":"Reference","previous_headings":"","what":"Returns","title":"Diseasy' immunity handler — DiseasyImmunity","text":"Returns updated model(s) (invisibly).","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyImmunity.html","id":"examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Diseasy' immunity handler — DiseasyImmunity","text":"","code":"im <- DiseasyImmunity$new()   im$set_exponential_waning()   im$set_time_scales(list(\"infection\" = 10))    rm(im)"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyImmunity.html","id":"method-set-waning-model-","dir":"Reference","previous_headings":"","what":"Method set_waning_model()","title":"Diseasy' immunity handler — DiseasyImmunity","text":"Sets DiseasyImmunity module use specified waning model.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyImmunity.html","id":"usage-2","dir":"Reference","previous_headings":"","what":"Usage","title":"Diseasy' immunity handler — DiseasyImmunity","text":"","code":"DiseasyImmunity$set_waning_model(model, target = \"infection\", ...)"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyImmunity.html","id":"arguments-2","dir":"Reference","previous_headings":"","what":"Arguments","title":"Diseasy' immunity handler — DiseasyImmunity","text":"model (character(1) function(1)) character given, treated name waning function use corresponding $set_<model>() called). function given, treated custom waning function set via $set_custom_waning(). target (character(1)) target waning model (e.g. \"infection\", \"hospitalisation\", \"death\"). ... Additional arguments passed waning model function.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyImmunity.html","id":"returns-1","dir":"Reference","previous_headings":"","what":"Returns","title":"Diseasy' immunity handler — DiseasyImmunity","text":"Returns model (invisibly).","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyImmunity.html","id":"method-set-no-waning-","dir":"Reference","previous_headings":"","what":"Method set_no_waning()","title":"Diseasy' immunity handler — DiseasyImmunity","text":"Retrieves waning model constant value (1).","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyImmunity.html","id":"usage-3","dir":"Reference","previous_headings":"","what":"Usage","title":"Diseasy' immunity handler — DiseasyImmunity","text":"","code":"DiseasyImmunity$set_no_waning(target = \"infection\")"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyImmunity.html","id":"arguments-3","dir":"Reference","previous_headings":"","what":"Arguments","title":"Diseasy' immunity handler — DiseasyImmunity","text":"target (character(1)) target waning model (e.g. \"infection\", \"hospitalisation\", \"death\").","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyImmunity.html","id":"returns-2","dir":"Reference","previous_headings":"","what":"Returns","title":"Diseasy' immunity handler — DiseasyImmunity","text":"Returns model (invisibly).","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyImmunity.html","id":"method-set-exponential-waning-","dir":"Reference","previous_headings":"","what":"Method set_exponential_waning()","title":"Diseasy' immunity handler — DiseasyImmunity","text":"Sets DiseasyImmunity module set exponential model waning.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyImmunity.html","id":"usage-4","dir":"Reference","previous_headings":"","what":"Usage","title":"Diseasy' immunity handler — DiseasyImmunity","text":"","code":"DiseasyImmunity$set_exponential_waning(time_scale = 20, target = \"infection\")"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyImmunity.html","id":"arguments-4","dir":"Reference","previous_headings":"","what":"Arguments","title":"Diseasy' immunity handler — DiseasyImmunity","text":"time_scale (numeric(1)) Sets time_scale waning (immunity) model. time_scale characteristic time scale, defines period immunity significantly waning target (character(1)) target waning model (e.g. \"infection\", \"hospitalisation\", \"death\").","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyImmunity.html","id":"returns-3","dir":"Reference","previous_headings":"","what":"Returns","title":"Diseasy' immunity handler — DiseasyImmunity","text":"Returns model (invisibly).","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyImmunity.html","id":"method-set-sigmoidal-waning-","dir":"Reference","previous_headings":"","what":"Method set_sigmoidal_waning()","title":"Diseasy' immunity handler — DiseasyImmunity","text":"Sets DiseasyImmunity module set sigmoidal model waning.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyImmunity.html","id":"usage-5","dir":"Reference","previous_headings":"","what":"Usage","title":"Diseasy' immunity handler — DiseasyImmunity","text":"","code":"DiseasyImmunity$set_sigmoidal_waning(   time_scale = 20,   shape = 6,   target = \"infection\" )"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyImmunity.html","id":"arguments-5","dir":"Reference","previous_headings":"","what":"Arguments","title":"Diseasy' immunity handler — DiseasyImmunity","text":"time_scale (numeric(1)) Sets time_scale waning (immunity) model. time_scale characteristic time scale, defines period immunity significantly waning shape (numeric(1)) Determines steepness waning curve sigmoidal waning model. Higher values shape result steeper curve, leading rapid decline immunity. target (character(1)) target waning model (e.g. \"infection\", \"hospitalisation\", \"death\").","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyImmunity.html","id":"returns-4","dir":"Reference","previous_headings":"","what":"Returns","title":"Diseasy' immunity handler — DiseasyImmunity","text":"Returns model (invisibly).","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyImmunity.html","id":"method-set-linear-waning-","dir":"Reference","previous_headings":"","what":"Method set_linear_waning()","title":"Diseasy' immunity handler — DiseasyImmunity","text":"Sets DiseasyImmunity module set linear model waning.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyImmunity.html","id":"usage-6","dir":"Reference","previous_headings":"","what":"Usage","title":"Diseasy' immunity handler — DiseasyImmunity","text":"","code":"DiseasyImmunity$set_linear_waning(time_scale = 20, target = \"infection\")"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyImmunity.html","id":"arguments-6","dir":"Reference","previous_headings":"","what":"Arguments","title":"Diseasy' immunity handler — DiseasyImmunity","text":"time_scale (numeric(1)) Sets time_scale waning (immunity) model. time_scale characteristic time scale, defines period immunity significantly waning target (character(1)) target waning model (e.g. \"infection\", \"hospitalisation\", \"death\").","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyImmunity.html","id":"returns-5","dir":"Reference","previous_headings":"","what":"Returns","title":"Diseasy' immunity handler — DiseasyImmunity","text":"Returns model (invisibly).","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyImmunity.html","id":"method-set-heaviside-waning-","dir":"Reference","previous_headings":"","what":"Method set_heaviside_waning()","title":"Diseasy' immunity handler — DiseasyImmunity","text":"Sets DiseasyImmunity module set Heaviside model waning.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyImmunity.html","id":"usage-7","dir":"Reference","previous_headings":"","what":"Usage","title":"Diseasy' immunity handler — DiseasyImmunity","text":"","code":"DiseasyImmunity$set_heaviside_waning(time_scale = 20, target = \"infection\")"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyImmunity.html","id":"arguments-7","dir":"Reference","previous_headings":"","what":"Arguments","title":"Diseasy' immunity handler — DiseasyImmunity","text":"time_scale (numeric(1)) Sets time_scale waning (immunity) model. time_scale characteristic time scale, defines period immunity significantly waning target (character(1)) target waning model (e.g. \"infection\", \"hospitalisation\", \"death\").","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyImmunity.html","id":"returns-6","dir":"Reference","previous_headings":"","what":"Returns","title":"Diseasy' immunity handler — DiseasyImmunity","text":"Returns model (invisibly).","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyImmunity.html","id":"method-set-custom-waning-","dir":"Reference","previous_headings":"","what":"Method set_custom_waning()","title":"Diseasy' immunity handler — DiseasyImmunity","text":"Sets DiseasyImmunity module set custom waning function.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyImmunity.html","id":"usage-8","dir":"Reference","previous_headings":"","what":"Usage","title":"Diseasy' immunity handler — DiseasyImmunity","text":"","code":"DiseasyImmunity$set_custom_waning(   custom_function = NULL,   time_scale = 20,   target = \"infection\",   name = \"custom_waning\" )"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyImmunity.html","id":"arguments-8","dir":"Reference","previous_headings":"","what":"Arguments","title":"Diseasy' immunity handler — DiseasyImmunity","text":"custom_function (function(1)) function single variable t returns immunity time t. function time scale, included function time_scale. time_scale (numeric(1)) Sets time_scale waning (immunity) model. time_scale characteristic time scale, defines period immunity significantly waning target (character(1)) target waning model (e.g. \"infection\", \"hospitalisation\", \"death\"). name (character(1)) Set name custom waning function.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyImmunity.html","id":"returns-7","dir":"Reference","previous_headings":"","what":"Returns","title":"Diseasy' immunity handler — DiseasyImmunity","text":"Returns model (invisibly).","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyImmunity.html","id":"method-approximate-compartmental-","dir":"Reference","previous_headings":"","what":"Method approximate_compartmental()","title":"Diseasy' immunity handler — DiseasyImmunity","text":"Assuming compartmental disease model M recovered compartments, function approximates transition rates associated risk infection compartment effective immunity best matches waning immunity curves set module.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyImmunity.html","id":"usage-9","dir":"Reference","previous_headings":"","what":"Usage","title":"Diseasy' immunity handler — DiseasyImmunity","text":"","code":"DiseasyImmunity$approximate_compartmental(   M,   method = c(\"free_gamma\", \"free_delta\", \"all_free\"),   strategy = NULL,   monotonous = TRUE,   individual_level = TRUE,   optim_control = NULL,   ... )"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyImmunity.html","id":"arguments-9","dir":"Reference","previous_headings":"","what":"Arguments","title":"Diseasy' immunity handler — DiseasyImmunity","text":"M (integer(1)) Number compartments used model. method (character(1)) Specifies parametrisation method used available methods. See details. strategy (character(1)) Specifies optimisation strategy (\"naive\", \"recursive\" \"combination\"). See details. monotonous (logical(1) numeric(1)) non-monotonous approximations penalised? numeric value supplied, used penalty factor. individual_level (logical(1) numeric(1)) approximation penalise rapid changes immunity levels? numeric value supplied, used penalty factor. optim_control (list()) Optional controls optimisers. method default controls optimiser. optim_method entry must supplied used infer optimiser. order, optim_method entry matched following optimisers remaining optim_control entries passed argument optimiser described . optim_method matches methods stats::optim: Additional optim_control arguments passed control stats::optim using chosen optim_method. optim_method \"nlm\": Additional optim_control arguments passed arguments stats::nlm. optim_method \"nlminb\": Additional optim_control arguments passed control stats::nlminb. optim_method matches algorithms nloptr: Additional optim_control arguments passed control nloptr::<method>. optim_method matches methods optimx::optimr: Additional optim_control arguments passed control stats::optimr using chosen method. ... Additional arguments passed optimiser.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyImmunity.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Diseasy' immunity handler — DiseasyImmunity","text":"Due M recovered compartments sequential, waiting time distribution compartments phase-type distribution (Erlang distribution special case transition rates equal). transition rates compartments risk associated compartment optimized approximate configured waning immunity scenario. function implements three methods parametrising waning immunity curves. \"free_gamma\": transition rates equal risks free vary (M + 1 free parameters). \"free_delta\": Transition rates free vary risks linearly distributed f(0) f(infinity) (M free parameters). \"all_free\": transition rates risks free vary (2M - 1 free parameters). addition, function implements three strategies optimising transition rates risks. strategies modify initial guess transition rates risks: \"naive\": Transitions rates initially set reciprocal median time scale. Risks initially set linearly distributed values f(0) f(infinity). \"recursive\": Initial transition rates risks linearly interpolated $M - 1$ solution. \"combination\" (\"all_free\" method): Initial transition rates risks set \"free_gamma\" solution $M$. optimisation minimises square root squared differences target waning approximated waning (analogous 2-norm). Additional penalties can added objective function approximation non-monotonous immunity levels transition rates change rapidly across compartments. minimisation performed using either stats::optim, stats::nlm, stats::nlminb, nloptr::<optimiser> optimx::optimr optimisers. default, optimisation algorithm determined per-method basis dependent. analysis show chosen algorithms general efficient performance may better specific case using different algorithm (see vignette(\"diseasy-immunity-optimisation\")). default configuration depends method used whether penalty imposed objective function (monotonous individual_level): Optimiser defaults can changed via optim_control argument. NOTE: \"combination\" strategy, changing optimiser controls influence starting point uses \"free_gamma\" default optimiser determine starting point.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyImmunity.html","id":"returns-8","dir":"Reference","previous_headings":"","what":"Returns","title":"Diseasy' immunity handler — DiseasyImmunity","text":"Returns results optimisation approximated rates execution time.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyImmunity.html","id":"method-plot-","dir":"Reference","previous_headings":"","what":"Method plot()","title":"Diseasy' immunity handler — DiseasyImmunity","text":"desired additionally plot approximations, supply method number compartments (M)","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyImmunity.html","id":"usage-10","dir":"Reference","previous_headings":"","what":"Usage","title":"Diseasy' immunity handler — DiseasyImmunity","text":"","code":"DiseasyImmunity$plot(   t_max = NULL,   method = c(\"free_gamma\", \"free_delta\", \"all_free\"),   M = NULL,   ... )"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyImmunity.html","id":"arguments-10","dir":"Reference","previous_headings":"","what":"Arguments","title":"Diseasy' immunity handler — DiseasyImmunity","text":"t_max (numeric) maximal time plot waning . t_max defined, default 3 times median accumulated time scales. method (str numeric) Specifies method used available methods. can provided string method name \"free_gamma\", \"free_delta\" \"all_free\". numeric value representing method index 1, 2, 3. M (numeric) Number compartments used model. ... Additional arguments passed $approximate_compartmental().","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyImmunity.html","id":"method-clone-","dir":"Reference","previous_headings":"","what":"Method clone()","title":"Diseasy' immunity handler — DiseasyImmunity","text":"objects class cloneable method.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyImmunity.html","id":"usage-11","dir":"Reference","previous_headings":"","what":"Usage","title":"Diseasy' immunity handler — DiseasyImmunity","text":"","code":"DiseasyImmunity$clone(deep = FALSE)"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyImmunity.html","id":"arguments-11","dir":"Reference","previous_headings":"","what":"Arguments","title":"Diseasy' immunity handler — DiseasyImmunity","text":"deep Whether make deep clone.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyImmunity.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Diseasy' immunity handler — DiseasyImmunity","text":"","code":"## ------------------------------------------------ ## Method `DiseasyImmunity$set_time_scales` ## ------------------------------------------------    im <- DiseasyImmunity$new()   im$set_exponential_waning() #> $infection #> function (t)  #> exp(-t/time_scale) #> <environment: 0x5585ed0e45e8> #> attr(,\"name\") #> [1] \"exponential_waning\" #> attr(,\"dots\") #> attr(,\"dots\")$time_scale #> [1] 20 #>  #>    im$set_time_scales(list(\"infection\" = 10)) #> $infection #> function (t)  #> exp(-t/time_scale) #> <environment: 0x5585ed0e45e8> #> attr(,\"name\") #> [1] \"exponential_waning\" #> attr(,\"dots\") #> attr(,\"dots\")$time_scale #> [1] 10 #>  #>     rm(im)"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModel.html","id":null,"dir":"Reference","previous_headings":"","what":"Base module for diseasy model templates — DiseasyModel","title":"Base module for diseasy model templates — DiseasyModel","text":"DiseasyModel module implements common functionality models available beyond provided DiseasyBaseModule. notably, model module facilitates: Module interfaces: module contains functional modules via active bindings: $activity: DiseasyActivity $observables: DiseasyObservables $season: DiseasySeason $variant : DiseasyVariant Configured instances modules can provided initialisation. Alternatively, default instances modules can optionally created. Model interface: module defines functions $get_results(), $get_data() $parameters binding. functions define \"API\" models ensure models can take part ensemble.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModel.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Base module for diseasy model templates — DiseasyModel","text":"new instance DiseasyModel R6 class.","code":""},{"path":[]},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModel.html","id":"super-class","dir":"Reference","previous_headings":"","what":"Super class","title":"Base module for diseasy model templates — DiseasyModel","text":"diseasy::DiseasyBaseModule -> DiseasyModel","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModel.html","id":"active-bindings","dir":"Reference","previous_headings":"","what":"Active bindings","title":"Base module for diseasy model templates — DiseasyModel","text":"activity (diseasy::DiseasyActivity) local copy DiseasyActivity module. Read-. immunity (diseasy::DiseasyImmunity) local copy DiseasyImmunity module. Read-. observables (diseasy::DiseasyObservables) local copy DiseasyObservables module. Read-. season (diseasy::DiseasySeason) local copy DiseasySeason module. Read-. variant (diseasy::.DiseasyVariant) local copy DiseasyVariant module. Read-. parameters (list()) parameters used model. Read-. training_period (list(Date)) start end dates training period. Read-. testing_period (list(Date)) start end dates testing period. Read-. validation_period (list(Date)) start end dates validation period. Read-.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModel.html","id":"methods","dir":"Reference","previous_headings":"","what":"Methods","title":"Base module for diseasy model templates — DiseasyModel","text":"diseasy::DiseasyBaseModule$load_module() diseasy::DiseasyBaseModule$set_moduleowner()","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModel.html","id":"public-methods","dir":"Reference","previous_headings":"","what":"Public methods","title":"Base module for diseasy model templates — DiseasyModel","text":"DiseasyModel$new() DiseasyModel$get_results() DiseasyModel$get_data() DiseasyModel$clone()","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModel.html","id":"method-new-","dir":"Reference","previous_headings":"","what":"Method new()","title":"Base module for diseasy model templates — DiseasyModel","text":"Creates new instance DiseasyModel R6 class. module typically constructed directly rather DiseasyModel* classes.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModel.html","id":"usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Base module for diseasy model templates — DiseasyModel","text":"","code":"DiseasyModel$new(   observables = FALSE,   activity = FALSE,   season = FALSE,   variant = FALSE,   immunity = FALSE,   parameters = NULL,   label = NULL,   ... )"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModel.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Base module for diseasy model templates — DiseasyModel","text":"observables, activity, season, variant, immunity (boolean R6::R6Class instance) boolean given, dictates whether load new instance module class. instance module provided instead, copy instance added DiseasyModel instance. copy \"clone\" instance time added subsequent changes instance reflect copy added DiseasyModel. parameters (named list()) List parameters set model initialization. model parameters. Common parameters : training_length (named numeric(3))   number days included training splits data model.   Allowed splits : \"training\", \"testing\", \"validation\". label (character) human readable label model instance. ... Parameters sent DiseasyBaseModule R6 constructor.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModel.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Base module for diseasy model templates — DiseasyModel","text":"DiseasyModel main template individual models inherit since defines set methods later framework expects model. addition, provides main interface modules framework.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModel.html","id":"returns","dir":"Reference","previous_headings":"","what":"Returns","title":"Base module for diseasy model templates — DiseasyModel","text":"new instance DiseasyModel R6 class.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModel.html","id":"method-get-results-","dir":"Reference","previous_headings":"","what":"Method get_results()","title":"Base module for diseasy model templates — DiseasyModel","text":"primary method used request model results given observable given stratification","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModel.html","id":"usage-1","dir":"Reference","previous_headings":"","what":"Usage","title":"Base module for diseasy model templates — DiseasyModel","text":"","code":"DiseasyModel$get_results(   observable,   prediction_length,   quantiles = NULL,   stratification = NULL )"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModel.html","id":"arguments-1","dir":"Reference","previous_headings":"","what":"Arguments","title":"Base module for diseasy model templates — DiseasyModel","text":"observable (character) observable provide data prediction . prediction_length (numeric) number days predict. prediction start defined last_queryable_date ?DiseasyObservables R6 class. quantiles (list(numeric)) given, results returned quantiles given. stratification (list(quosures) NULL) Use rlang::quos(...) specify stratification. given, expressions stratification evaluated give stratification level.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModel.html","id":"returns-1","dir":"Reference","previous_headings":"","what":"Returns","title":"Base module for diseasy model templates — DiseasyModel","text":"tibble tibble::tibble predictions level specified stratification level. addition stratification columns, output columns:  - date (Date) specifying date prediction.  - realisation_id (character) giving unique id realization ensemble.  - weight (numeric) giving weight realization ensemble.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModel.html","id":"method-get-data-","dir":"Reference","previous_headings":"","what":"Method get_data()","title":"Base module for diseasy model templates — DiseasyModel","text":"method returns training data models based model value training_length last_queryable_date DiseasyObservables module.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModel.html","id":"usage-2","dir":"Reference","previous_headings":"","what":"Usage","title":"Base module for diseasy model templates — DiseasyModel","text":"","code":"DiseasyModel$get_data(   observable,   stratification = NULL,   period = c(\"training\", \"testing\", \"validation\", \"plotting\"),   prediction_length = NULL )"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModel.html","id":"arguments-2","dir":"Reference","previous_headings":"","what":"Arguments","title":"Base module for diseasy model templates — DiseasyModel","text":"observable (character) observable provide data prediction . stratification (list(quosures) NULL) Use rlang::quos(...) specify stratification. given, expressions stratification evaluated give stratification level. period (character) period return data . , training, testing, validation plotting period. prediction_length (numeric) number days predict. prediction start defined last_queryable_date ?DiseasyObservables R6 class.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModel.html","id":"returns-2","dir":"Reference","previous_headings":"","what":"Returns","title":"Base module for diseasy model templates — DiseasyModel","text":"output DiseasyObservables$get_observation constrained training period.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModel.html","id":"method-clone-","dir":"Reference","previous_headings":"","what":"Method clone()","title":"Base module for diseasy model templates — DiseasyModel","text":"objects class cloneable method.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModel.html","id":"usage-3","dir":"Reference","previous_headings":"","what":"Usage","title":"Base module for diseasy model templates — DiseasyModel","text":"","code":"DiseasyModel$clone(deep = FALSE)"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModel.html","id":"arguments-3","dir":"Reference","previous_headings":"","what":"Arguments","title":"Base module for diseasy model templates — DiseasyModel","text":"deep Whether make deep clone.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModel.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Base module for diseasy model templates — DiseasyModel","text":"","code":"# Normally, one would not want to create this module directly, but it is possible.   m <- DiseasyModel$new()    rm(m)"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModelOde.html","id":null,"dir":"Reference","previous_headings":"","what":"Base module for the ODE class of models — DiseasyModelOde","title":"Base module for the ODE class of models — DiseasyModelOde","text":"DiseasyModelOde module implements common structure functionality regression class models beyond model structure provided ?DiseasyModel. notably, model module implements $get_results() method. implementation requires subclass implement $rhs() $initialise_state_vector() methods.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModelOde.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Base module for the ODE class of models — DiseasyModelOde","text":"new instance DiseasyModelOde R6 class.","code":""},{"path":[]},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModelOde.html","id":"super-classes","dir":"Reference","previous_headings":"","what":"Super classes","title":"Base module for the ODE class of models — DiseasyModelOde","text":"diseasy::DiseasyBaseModule -> diseasy::DiseasyModel -> DiseasyModelOde","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModelOde.html","id":"methods","dir":"Reference","previous_headings":"","what":"Methods","title":"Base module for the ODE class of models — DiseasyModelOde","text":"diseasy::DiseasyBaseModule$load_module() diseasy::DiseasyBaseModule$set_moduleowner() diseasy::DiseasyModel$get_data()","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModelOde.html","id":"public-methods","dir":"Reference","previous_headings":"","what":"Public methods","title":"Base module for the ODE class of models — DiseasyModelOde","text":"DiseasyModelOde$new() DiseasyModelOde$get_results() DiseasyModelOde$initialise_state_vector() DiseasyModelOde$plot() DiseasyModelOde$clone()","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModelOde.html","id":"method-new-","dir":"Reference","previous_headings":"","what":"Method new()","title":"Base module for the ODE class of models — DiseasyModelOde","text":"Merge user provided mappings default mappings initialisation.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModelOde.html","id":"usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Base module for the ODE class of models — DiseasyModelOde","text":"","code":"DiseasyModelOde$new(parameters = NULL, ...)"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModelOde.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Base module for the ODE class of models — DiseasyModelOde","text":"parameters (list()) List parameters given model. ... Parameters sent DiseasyModel R6 constructor.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModelOde.html","id":"method-get-results-","dir":"Reference","previous_headings":"","what":"Method get_results()","title":"Base module for the ODE class of models — DiseasyModelOde","text":"primary method used request model results given observable given stratification","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModelOde.html","id":"usage-1","dir":"Reference","previous_headings":"","what":"Usage","title":"Base module for the ODE class of models — DiseasyModelOde","text":"","code":"DiseasyModelOde$get_results(   observable,   prediction_length,   quantiles = NULL,   stratification = NULL )"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModelOde.html","id":"arguments-1","dir":"Reference","previous_headings":"","what":"Arguments","title":"Base module for the ODE class of models — DiseasyModelOde","text":"observable (character) observable provide data prediction . prediction_length (numeric) number days predict. prediction start defined last_queryable_date ?DiseasyObservables R6 class. quantiles (list(numeric)) given, results returned quantiles given. stratification (list(quosures) NULL) Use rlang::quos(...) specify stratification. given, expressions stratification evaluated give stratification level.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModelOde.html","id":"returns","dir":"Reference","previous_headings":"","what":"Returns","title":"Base module for the ODE class of models — DiseasyModelOde","text":"tibble tibble::tibble predictions level specified stratification level. addition stratification columns, output columns:  - date (Date) specifying date prediction.  - realisation_id (character) giving unique id realization ensemble.  - weight (numeric) giving weight realization ensemble.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModelOde.html","id":"method-initialise-state-vector-","dir":"Reference","previous_headings":"","what":"Method initialise_state_vector()","title":"Base module for the ODE class of models — DiseasyModelOde","text":"Infer state_vector incidence data","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModelOde.html","id":"usage-2","dir":"Reference","previous_headings":"","what":"Usage","title":"Base module for the ODE class of models — DiseasyModelOde","text":"","code":"DiseasyModelOde$initialise_state_vector(incidence_data)"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModelOde.html","id":"arguments-2","dir":"Reference","previous_headings":"","what":"Arguments","title":"Base module for the ODE class of models — DiseasyModelOde","text":"incidence_data incidence_data (data.frame) Incidence observations data.frame columns - date: date observations - age_group: age group incidence observation (following diseasystore::age_labels() format) - variant: variant incidence observation. - incidence: incidence age group given date","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModelOde.html","id":"method-plot-","dir":"Reference","previous_headings":"","what":"Method plot()","title":"Base module for the ODE class of models — DiseasyModelOde","text":"Plot predictions current model.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModelOde.html","id":"usage-3","dir":"Reference","previous_headings":"","what":"Usage","title":"Base module for the ODE class of models — DiseasyModelOde","text":"","code":"DiseasyModelOde$plot(observable, prediction_length, stratification = NULL)"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModelOde.html","id":"arguments-3","dir":"Reference","previous_headings":"","what":"Arguments","title":"Base module for the ODE class of models — DiseasyModelOde","text":"observable (character) observable provide data prediction . prediction_length (numeric) number days predict. prediction start defined last_queryable_date ?DiseasyObservables R6 class. stratification (list(quosures) NULL) Use rlang::quos(...) specify stratification. given, expressions stratification evaluated give stratification level.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModelOde.html","id":"method-clone-","dir":"Reference","previous_headings":"","what":"Method clone()","title":"Base module for the ODE class of models — DiseasyModelOde","text":"objects class cloneable method.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModelOde.html","id":"usage-4","dir":"Reference","previous_headings":"","what":"Usage","title":"Base module for the ODE class of models — DiseasyModelOde","text":"","code":"DiseasyModelOde$clone(deep = FALSE)"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModelOde.html","id":"arguments-4","dir":"Reference","previous_headings":"","what":"Arguments","title":"Base module for the ODE class of models — DiseasyModelOde","text":"deep Whether make deep clone.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModelOde.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Base module for the ODE class of models — DiseasyModelOde","text":"","code":"# This module should not be constructed directly but should instead be used to   # inherit from when creating a new model class."},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModelOdeSeir.html","id":null,"dir":"Reference","previous_headings":"","what":"A flexible SEIR model template — DiseasyModelOdeSeir","title":"A flexible SEIR model template — DiseasyModelOdeSeir","text":"class provides diseasy model-template compartmental SEIR ordinary differential equation model. number consecutive exposed, infectious, recovered compartments can flexibly specified generate number structurally different SEIR models. Similarly, number age groups model can also controlled create structurally different models. model implements following features: scaling infection risk based season (via DiseasySeason) Contact matrices activity scenarios (via DiseasyActivity) Waning immunity (via DiseasyImmunity) Asymmetric cross-immunity interactions variants (via DiseasyVariant) See vignette(diseasy-model-ode-seir) detailed examples use model.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModelOdeSeir.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"A flexible SEIR model template — DiseasyModelOdeSeir","text":"new instance DiseasyModelOdeSeir R6 class.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModelOdeSeir.html","id":"super-classes","dir":"Reference","previous_headings":"","what":"Super classes","title":"A flexible SEIR model template — DiseasyModelOdeSeir","text":"diseasy::DiseasyBaseModule -> diseasy::DiseasyModel -> diseasy::DiseasyModelOde -> DiseasyModelOdeSeir","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModelOdeSeir.html","id":"active-bindings","dir":"Reference","previous_headings":"","what":"Active bindings","title":"A flexible SEIR model template — DiseasyModelOdeSeir","text":"compartment_structure (named integer()) structure compartments model. names E, , R exposed, infectious, recovered compartments, respectively.  Read . disease_progression_rates (named numeric()) overall progression rates disease states. reciprocal rate average time spent corresponding compartments.  Read . malthusian_scaling_factor (numeric(1)) scaling factor apply contact matrices account structural differences model. Read .","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModelOdeSeir.html","id":"methods","dir":"Reference","previous_headings":"","what":"Methods","title":"A flexible SEIR model template — DiseasyModelOdeSeir","text":"diseasy::DiseasyBaseModule$load_module() diseasy::DiseasyBaseModule$set_moduleowner() diseasy::DiseasyModel$get_data() diseasy::DiseasyModelOde$get_results() diseasy::DiseasyModelOde$plot()","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModelOdeSeir.html","id":"public-methods","dir":"Reference","previous_headings":"","what":"Public methods","title":"A flexible SEIR model template — DiseasyModelOdeSeir","text":"DiseasyModelOdeSeir$new() DiseasyModelOdeSeir$set_forcing_functions() DiseasyModelOdeSeir$malthusian_growth_rate() DiseasyModelOdeSeir$initialise_state_vector() DiseasyModelOdeSeir$rhs() DiseasyModelOdeSeir$clone()","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModelOdeSeir.html","id":"method-new-","dir":"Reference","previous_headings":"","what":"Method new()","title":"A flexible SEIR model template — DiseasyModelOdeSeir","text":"Creates new instance DiseasyModelOdeSeir R6 class.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModelOdeSeir.html","id":"usage","dir":"Reference","previous_headings":"","what":"Usage","title":"A flexible SEIR model template — DiseasyModelOdeSeir","text":"","code":"DiseasyModelOdeSeir$new(   observables,   activity = TRUE,   season = TRUE,   variant = TRUE,   immunity = TRUE,   compartment_structure = c(E = 1L, I = 1L, R = 1L),   disease_progression_rates = c(E = 1, I = 1),   malthusian_matching = TRUE,   parameters = NULL,   ... )"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModelOdeSeir.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"A flexible SEIR model template — DiseasyModelOdeSeir","text":"observables, activity, season, variant, immunity (boolean R6::R6Class instance) boolean given, dictates whether load new instance module class. instance module provided instead, copy instance added DiseasyModel instance. copy \"clone\" instance time added subsequent changes instance reflect copy added DiseasyModel. compartment_structure (named integer()) structure compartments model. names E, , R exposed, infectious, recovered compartments, respectively. exposed compartments can optionally omitted. disease_progression_rates (named numeric()) overall progression rates disease states. reciprocal rate average time spent corresponding compartments. exposed compartments can optionally omitted. malthusian_matching (logical(1)) model scaled Malthusian growth rate matches corresponding SIR model? parameters (named list()) List parameters set model initialization. Parameters controlling structure model: age_cuts_lower (numeric()) Determines age groups model. Parameters controlling dynamics model: overall_infection_risk (numeric(1)) scalar scales contact rates infection rates. Parameters controlling initialisation routines incidence_polynomial_order (integer(1)) degree polynomial fit incidence curves. incidence_polynomial_training_length (integer(1)) number days include incidence polynomial fit. incidence_max_order_derivatives (integer(1)) highest (informed) derivative incidence data. Higher order derivatives set zero. Parameters controlling functional modules: activity.weights (numeric(4)) Passed ?DiseasyActivity$get_scenario_contacts(..., weights = activity.weights) immunity.approximate_compartmental_args (named list()) Arguments passed ?DiseasyImmunity$approximate_compartmental() Additional parameters : training_length (named numeric(3))   number days included training splits data model.   Allowed splits : \"training\", \"testing\", \"validation\". incidence_feature_name (character(1))   name observable contains incidence data initialise .  * model_rate_to_observable (named list(named list(function(2))))   named list functions maps model rates observable question (name).   observable needs map reduce function contained list (first nested list).   map function applied dplyr::group_map() call take two arguments:   - first argument contains model rate information group size: proportion population.   - second argument contains groups (stratification).   reduce function applied dplyr::summarise() call summarise across stratification levels.   default, sum function used work counting observables. ... Parameters sent DiseasyModel R6 constructor.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModelOdeSeir.html","id":"method-set-forcing-functions-","dir":"Reference","previous_headings":"","what":"Method set_forcing_functions()","title":"A flexible SEIR model template — DiseasyModelOdeSeir","text":"Set forcing functions model.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModelOdeSeir.html","id":"usage-1","dir":"Reference","previous_headings":"","what":"Usage","title":"A flexible SEIR model template — DiseasyModelOdeSeir","text":"","code":"DiseasyModelOdeSeir$set_forcing_functions(   infected_forcing = NULL,   state_vector_forcing = NULL )"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModelOdeSeir.html","id":"arguments-1","dir":"Reference","previous_headings":"","what":"Arguments","title":"A flexible SEIR model template — DiseasyModelOdeSeir","text":"infected_forcing (function) function takes arguments t infected modifies number infected time t. state_vector_forcing (function) function takes arguments t anddy_dt modifies flow compartments time t.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModelOdeSeir.html","id":"returns","dir":"Reference","previous_headings":"","what":"Returns","title":"A flexible SEIR model template — DiseasyModelOdeSeir","text":"NULL (called side effects)","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModelOdeSeir.html","id":"method-malthusian-growth-rate-","dir":"Reference","previous_headings":"","what":"Method malthusian_growth_rate()","title":"A flexible SEIR model template — DiseasyModelOdeSeir","text":"function computes Malthusian growth rate given model configuration.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModelOdeSeir.html","id":"usage-2","dir":"Reference","previous_headings":"","what":"Usage","title":"A flexible SEIR model template — DiseasyModelOdeSeir","text":"","code":"DiseasyModelOdeSeir$malthusian_growth_rate(...)"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModelOdeSeir.html","id":"arguments-2","dir":"Reference","previous_headings":"","what":"Arguments","title":"A flexible SEIR model template — DiseasyModelOdeSeir","text":"... Parameters passed $generator_matrix().","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModelOdeSeir.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"A flexible SEIR model template — DiseasyModelOdeSeir","text":"section follows method outlined doi: 10.1098/rsif.2009.0386 compute scaling, need compute Jacobian matrix linearised system. , linearise around S = 1. limit, interaction variants (since everyone susceptible). Malthusian growth rate therefore dependent factors cross-immunity.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModelOdeSeir.html","id":"returns-1","dir":"Reference","previous_headings":"","what":"Returns","title":"A flexible SEIR model template — DiseasyModelOdeSeir","text":"(numeric(1)) Malthusian growth rate model.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModelOdeSeir.html","id":"method-initialise-state-vector-","dir":"Reference","previous_headings":"","what":"Method initialise_state_vector()","title":"A flexible SEIR model template — DiseasyModelOdeSeir","text":"Infer state_vector incidence data","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModelOdeSeir.html","id":"usage-3","dir":"Reference","previous_headings":"","what":"Usage","title":"A flexible SEIR model template — DiseasyModelOdeSeir","text":"","code":"DiseasyModelOdeSeir$initialise_state_vector(   incidence_data,   overall_infection_risk = self %.% parameters %.% overall_infection_risk,   ei_rs_balance = 1,   method = c(\"derivative\", \"eigen-value\") )"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModelOdeSeir.html","id":"arguments-3","dir":"Reference","previous_headings":"","what":"Arguments","title":"A flexible SEIR model template — DiseasyModelOdeSeir","text":"incidence_data incidence_data (data.frame) Incidence observations data.frame columns - date: date observations - age_group: age group incidence observation (following diseasystore::age_labels() format) - variant: variant incidence observation. - incidence: incidence age group given date overall_infection_risk (numeric) overall multiplier infection risk model. ei_rs_balance (numeric(1)) estimate priorities normalising? See details. method (character(1)) method use initialising state vector. derivative: Directly infers EI compartments derivatives incidence signal. eigen-value: Uses eigenvalues generator matrix infer state vector. See article SEIR-initialisation online documentation information.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModelOdeSeir.html","id":"details-1","dir":"Reference","previous_headings":"","what":"Details","title":"A flexible SEIR model template — DiseasyModelOdeSeir","text":"inference state_vector incidence data two-fold: EI states inferred one method RS states inferred another. methods described detail initialisation article vignette(\"SEIR-initialisation\"). estimates combined, degree freedom weight estimates normalising state vector. controlled ei_rs_balance parameter. ei_rs_balance = 1, estimate EI states prioritised, RS states modified. ei_rs_balance = 0, estimate RS states prioritised.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModelOdeSeir.html","id":"returns-2","dir":"Reference","previous_headings":"","what":"Returns","title":"A flexible SEIR model template — DiseasyModelOdeSeir","text":"(numeric()) initial state vector model (invisibly).","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModelOdeSeir.html","id":"method-rhs-","dir":"Reference","previous_headings":"","what":"Method rhs()","title":"A flexible SEIR model template — DiseasyModelOdeSeir","text":"vectorised right hand side (RHS) function system differential equations","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModelOdeSeir.html","id":"usage-4","dir":"Reference","previous_headings":"","what":"Usage","title":"A flexible SEIR model template — DiseasyModelOdeSeir","text":"","code":"DiseasyModelOdeSeir$rhs(   t,   state_vector,   parms = NULL,   overall_infection_risk = self %.% parameters %.% overall_infection_risk )"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModelOdeSeir.html","id":"arguments-4","dir":"Reference","previous_headings":"","what":"Arguments","title":"A flexible SEIR model template — DiseasyModelOdeSeir","text":"t (numeric(1)) time solve . state_vector (numeric()) state vector compute RHS . parms (list) Argument comply deSolve::ode format. used. overall_infection_risk (numeric) overall multiplier infection risk model.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModelOdeSeir.html","id":"returns-3","dir":"Reference","previous_headings":"","what":"Returns","title":"A flexible SEIR model template — DiseasyModelOdeSeir","text":"(numeric()) rate change differential equations.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModelOdeSeir.html","id":"method-clone-","dir":"Reference","previous_headings":"","what":"Method clone()","title":"A flexible SEIR model template — DiseasyModelOdeSeir","text":"objects class cloneable method.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModelOdeSeir.html","id":"usage-5","dir":"Reference","previous_headings":"","what":"Usage","title":"A flexible SEIR model template — DiseasyModelOdeSeir","text":"","code":"DiseasyModelOdeSeir$clone(deep = FALSE)"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModelOdeSeir.html","id":"arguments-5","dir":"Reference","previous_headings":"","what":"Arguments","title":"A flexible SEIR model template — DiseasyModelOdeSeir","text":"deep Whether make deep clone.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModelOdeSeir.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"A flexible SEIR model template — DiseasyModelOdeSeir","text":"","code":"# The model can be instantiated almost without arguments, but   # to illustrate its use, we configure a simple model:    # First, we add a observables modules with example data bundled   # with the package.   obs <- DiseasyObservables$new(     diseasystore = DiseasystoreSeirExample,     conn = DBI::dbConnect(duckdb::duckdb())   )    # The observables module also defines the time if interest via   # the `last_queryable_date` field. Data before this date are   # used to train the models, and predictions start on this date.   obs$set_last_queryable_date(as.Date(\"2020-02-29\"))    # Define the incidence data to initialise the model   obs$define_synthetic_observable(     name = \"incidence\",     mapping = \\(n_positive, n_population) n_positive / (n_population * 0.65)   )    # The example data uses a simple activity scenario for Denmark,   # which we replicate here   act <- DiseasyActivity$new(contact_basis = contact_basis$DK)   act$set_activity_units(dk_activity_units)   act$change_activity(date = as.Date(\"2020-01-01\"), opening = \"baseline\")    # We create a simple model instance   m <- DiseasyModelOdeSeir$new(     observables = obs,     activity = act,     disease_progression_rates = c(\"E\" = 1 / 2, \"I\" = 1 / 4),     parameters = list(       \"overall_infection_risk\" = 0.025,       \"age_cuts_lower\" = c(0, 30, 60)     )   )    # Run the model to predict incidence   prediction <- m$get_results(\"incidence\", prediction_length = 30)   print(head(prediction, 5)) #> # A tibble: 5 × 2 #>   date       incidence #>   <date>         <dbl> #> 1 2020-03-01   0.00530 #> 2 2020-03-02   0.00549 #> 3 2020-03-03   0.00568 #> 4 2020-03-04   0.00586 #> 5 2020-03-05   0.00603    # Plot the results   plot(m, observable = \"incidence\", prediction_length = 30)     rm(m, act, obs)"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModelRegression.html","id":null,"dir":"Reference","previous_headings":"","what":"Base module for the regression class of models — DiseasyModelRegression","title":"Base module for the regression class of models — DiseasyModelRegression","text":"DiseasyModelRegression module implements common structure functionality regression class models beyond model structure provided ?DiseasyModel. notably, model module implements $get_results() method. implementation requires subclass implement $fit_regression(), $get_prediction() $update_formula() methods. $fit_regression() method fit regression model training data. case GLM model, call stats::glm. $get_prediction() method predict future values observable. case GLM model, call stats::predict. $update_formula() method update formula based stratifications. model flexibly adapt different stratifications, method implemented. See ?DiseasyModelGLM ?DiseasyModelBRM examples can done.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModelRegression.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Base module for the regression class of models — DiseasyModelRegression","text":"new instance DiseasyModelRegression R6 class.","code":""},{"path":[]},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModelRegression.html","id":"super-classes","dir":"Reference","previous_headings":"","what":"Super classes","title":"Base module for the regression class of models — DiseasyModelRegression","text":"diseasy::DiseasyBaseModule -> diseasy::DiseasyModel -> DiseasyModelRegression","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModelRegression.html","id":"active-bindings","dir":"Reference","previous_headings":"","what":"Active bindings","title":"Base module for the regression class of models — DiseasyModelRegression","text":"formula (formula) base formula module. Stratification features extend base formula. Read-. family (family) family used regression fit (see glm brms). Read-.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModelRegression.html","id":"methods","dir":"Reference","previous_headings":"","what":"Methods","title":"Base module for the regression class of models — DiseasyModelRegression","text":"diseasy::DiseasyBaseModule$load_module() diseasy::DiseasyBaseModule$set_moduleowner() diseasy::DiseasyModel$get_data()","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModelRegression.html","id":"public-methods","dir":"Reference","previous_headings":"","what":"Public methods","title":"Base module for the regression class of models — DiseasyModelRegression","text":"DiseasyModelRegression$new() DiseasyModelRegression$get_results() DiseasyModelRegression$plot() DiseasyModelRegression$clone()","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModelRegression.html","id":"method-new-","dir":"Reference","previous_headings":"","what":"Method new()","title":"Base module for the regression class of models — DiseasyModelRegression","text":"Creates new instance DiseasyModelRegression R6 class. module typically constructed directly rather DiseasyModel* classes, DiseasyModelG0.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModelRegression.html","id":"usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Base module for the regression class of models — DiseasyModelRegression","text":"","code":"DiseasyModelRegression$new(formula, family, ...)"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModelRegression.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Base module for the regression class of models — DiseasyModelRegression","text":"formula (character) character string passed stats::.formula via glue (see details). family (family)stats::family object passed regression call. ... parameters sent DiseasyModel R6 constructor. parameters (named list()) training_length (named numeric(3))   number days included training splits data model.   Allowed splits : \"training\", \"testing\", \"validation\".","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModelRegression.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Base module for the regression class of models — DiseasyModelRegression","text":"observable change run time therefore define static formula. can use \"{observable}\" formula translated run time. example, requested observable \"n_hospital\" formula \"{observable} ~ 1\", run time, formula translate \"n_hospital ~ 1\". Furthermore stratification can also change run time, model incorporate update_formula(stratification) function accounts changes stratification.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModelRegression.html","id":"method-get-results-","dir":"Reference","previous_headings":"","what":"Method get_results()","title":"Base module for the regression class of models — DiseasyModelRegression","text":"primary method used request model results given observable given stratification","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModelRegression.html","id":"usage-1","dir":"Reference","previous_headings":"","what":"Usage","title":"Base module for the regression class of models — DiseasyModelRegression","text":"","code":"DiseasyModelRegression$get_results(   observable,   prediction_length,   quantiles = NULL,   stratification = NULL )"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModelRegression.html","id":"arguments-1","dir":"Reference","previous_headings":"","what":"Arguments","title":"Base module for the regression class of models — DiseasyModelRegression","text":"observable (character) observable provide data prediction . prediction_length (numeric) number days predict. prediction start defined last_queryable_date ?DiseasyObservables R6 class. quantiles (list(numeric)) given, results returned quantiles given. stratification (list(quosures) NULL) Use rlang::quos(...) specify stratification. given, expressions stratification evaluated give stratification level.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModelRegression.html","id":"returns","dir":"Reference","previous_headings":"","what":"Returns","title":"Base module for the regression class of models — DiseasyModelRegression","text":"tibble tibble::tibble predictions level specified stratification level. addition stratification columns, output columns:  - date (Date) specifying date prediction.  - realisation_id (character) giving unique id realization ensemble.  - weight (numeric) giving weight realization ensemble.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModelRegression.html","id":"method-plot-","dir":"Reference","previous_headings":"","what":"Method plot()","title":"Base module for the regression class of models — DiseasyModelRegression","text":"Plot predictions current model","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModelRegression.html","id":"usage-2","dir":"Reference","previous_headings":"","what":"Usage","title":"Base module for the regression class of models — DiseasyModelRegression","text":"","code":"DiseasyModelRegression$plot(   observable,   prediction_length,   stratification = NULL )"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModelRegression.html","id":"arguments-2","dir":"Reference","previous_headings":"","what":"Arguments","title":"Base module for the regression class of models — DiseasyModelRegression","text":"observable (character) observable provide data prediction . prediction_length (numeric) number days predict. prediction start defined last_queryable_date ?DiseasyObservables R6 class. stratification (list(quosures) NULL) Use rlang::quos(...) specify stratification. given, expressions stratification evaluated give stratification level.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModelRegression.html","id":"method-clone-","dir":"Reference","previous_headings":"","what":"Method clone()","title":"Base module for the regression class of models — DiseasyModelRegression","text":"objects class cloneable method.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModelRegression.html","id":"usage-3","dir":"Reference","previous_headings":"","what":"Usage","title":"Base module for the regression class of models — DiseasyModelRegression","text":"","code":"DiseasyModelRegression$clone(deep = FALSE)"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModelRegression.html","id":"arguments-3","dir":"Reference","previous_headings":"","what":"Arguments","title":"Base module for the regression class of models — DiseasyModelRegression","text":"deep Whether make deep clone.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyModelRegression.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Base module for the regression class of models — DiseasyModelRegression","text":"","code":"# This module cannot be constructed directly but should instead be used to   # inherit from when creating a new model class."},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyObservables.html","id":null,"dir":"Reference","previous_headings":"","what":"Diseasy' observables handler — DiseasyObservables","title":"Diseasy' observables handler — DiseasyObservables","text":"DiseasyObservables module responsible interfacing available diseasystores provide disease data models. module primarily acts convenience wrapper around diseasystores. observables stratifications therefore depend data made available diseasystores. See vignette(\"diseasy-observables\")","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyObservables.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Diseasy' observables handler — DiseasyObservables","text":"new instance DiseasyBaseModule R6 class.","code":""},{"path":[]},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyObservables.html","id":"super-class","dir":"Reference","previous_headings":"","what":"Super class","title":"Diseasy' observables handler — DiseasyObservables","text":"diseasy::DiseasyBaseModule -> DiseasyObservables","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyObservables.html","id":"active-bindings","dir":"Reference","previous_headings":"","what":"Active bindings","title":"Diseasy' observables handler — DiseasyObservables","text":"diseasystore (character) set diseasystore get DiseasyObservables . Read-. start_date (Date) Study period start. Read . end_date (Date) Study period end. Read . last_queryable_date (Date) latest date can queried. Read-. ds (Diseasystore*) currently loaded diseasystore provides features. Read-. available_observables (character) currently available observables loaded diseasystore. Read-. available_stratifications (character) currently available stratifications loaded diseasystore. Read-. synthetic_observables (character) synthetic features defined module. Read-. slice_ts (Date character) Date timestamp (parsable .POSIXct) slice (time-versioned) data . Read . conn (DBIConnection function) database connection function opens database connection. Read .","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyObservables.html","id":"methods","dir":"Reference","previous_headings":"","what":"Methods","title":"Diseasy' observables handler — DiseasyObservables","text":"diseasy::DiseasyBaseModule$load_module() diseasy::DiseasyBaseModule$set_moduleowner()","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyObservables.html","id":"public-methods","dir":"Reference","previous_headings":"","what":"Public methods","title":"Diseasy' observables handler — DiseasyObservables","text":"DiseasyObservables$new() DiseasyObservables$set_diseasystore() DiseasyObservables$set_last_queryable_date() DiseasyObservables$set_study_period() DiseasyObservables$set_slice_ts() DiseasyObservables$define_synthetic_observable() DiseasyObservables$get_observation() DiseasyObservables$stratification_names() DiseasyObservables$describe() DiseasyObservables$clone()","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyObservables.html","id":"method-new-","dir":"Reference","previous_headings":"","what":"Method new()","title":"Diseasy' observables handler — DiseasyObservables","text":"Creates new instance DiseasyObservables R6 class.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyObservables.html","id":"usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Diseasy' observables handler — DiseasyObservables","text":"","code":"DiseasyObservables$new(   diseasystore = NULL,   start_date = NULL,   end_date = NULL,   last_queryable_date = NULL,   conn = diseasyoption(\"conn\", class = \"DiseasyObservables\"),   slice_ts = NULL,   ... )"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyObservables.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Diseasy' observables handler — DiseasyObservables","text":"diseasystore (character diseasystore) Either name instance feature store get data . start_date (Date) Study period start. Used default values $get_observation(). end_date (Date) Study period end. Used default values $get_observation(). last_queryable_date (Date) Enforce limit data can pulled (date). conn (DBIConnection function) database connection function opens database connection. slice_ts (Date character) Date timestamp (parsable .POSIXct) slice (time-versioned) data . ... Parameters sent DiseasyBaseModule R6 constructor.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyObservables.html","id":"returns","dir":"Reference","previous_headings":"","what":"Returns","title":"Diseasy' observables handler — DiseasyObservables","text":"new instance DiseasyObservables R6 class.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyObservables.html","id":"method-set-diseasystore-","dir":"Reference","previous_headings":"","what":"Method set_diseasystore()","title":"Diseasy' observables handler — DiseasyObservables","text":"Set case definition get DiseasyObservables .","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyObservables.html","id":"usage-1","dir":"Reference","previous_headings":"","what":"Usage","title":"Diseasy' observables handler — DiseasyObservables","text":"","code":"DiseasyObservables$set_diseasystore(diseasystore, verbose = NULL)"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyObservables.html","id":"arguments-1","dir":"Reference","previous_headings":"","what":"Arguments","title":"Diseasy' observables handler — DiseasyObservables","text":"diseasystore (character) Text label disease get DiseasyObservables . Must match case definition implemented diseasystore package. verbose (logical) diseasystore use verbose outputs?","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyObservables.html","id":"method-set-last-queryable-date-","dir":"Reference","previous_headings":"","what":"Method set_last_queryable_date()","title":"Diseasy' observables handler — DiseasyObservables","text":"Enforce limit data can pulled.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyObservables.html","id":"usage-2","dir":"Reference","previous_headings":"","what":"Usage","title":"Diseasy' observables handler — DiseasyObservables","text":"","code":"DiseasyObservables$set_last_queryable_date(last_queryable_date)"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyObservables.html","id":"arguments-2","dir":"Reference","previous_headings":"","what":"Arguments","title":"Diseasy' observables handler — DiseasyObservables","text":"last_queryable_date (Date) DiseasyObservables module return data date.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyObservables.html","id":"method-set-study-period-","dir":"Reference","previous_headings":"","what":"Method set_study_period()","title":"Diseasy' observables handler — DiseasyObservables","text":"Set (default) time period get observations .","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyObservables.html","id":"usage-3","dir":"Reference","previous_headings":"","what":"Usage","title":"Diseasy' observables handler — DiseasyObservables","text":"","code":"DiseasyObservables$set_study_period(start_date, end_date)"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyObservables.html","id":"arguments-3","dir":"Reference","previous_headings":"","what":"Arguments","title":"Diseasy' observables handler — DiseasyObservables","text":"start_date (Date) Study period start. end_date (Date) Study period end.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyObservables.html","id":"method-set-slice-ts-","dir":"Reference","previous_headings":"","what":"Method set_slice_ts()","title":"Diseasy' observables handler — DiseasyObservables","text":"Set slice_ts get data ","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyObservables.html","id":"usage-4","dir":"Reference","previous_headings":"","what":"Usage","title":"Diseasy' observables handler — DiseasyObservables","text":"","code":"DiseasyObservables$set_slice_ts(slice_ts)"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyObservables.html","id":"arguments-4","dir":"Reference","previous_headings":"","what":"Arguments","title":"Diseasy' observables handler — DiseasyObservables","text":"slice_ts (Date character) Date timestamp (parsable .POSIXct) slice (time-versioned) data .","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyObservables.html","id":"method-define-synthetic-observable-","dir":"Reference","previous_headings":"","what":"Method define_synthetic_observable()","title":"Diseasy' observables handler — DiseasyObservables","text":"Adds synthetic feature computed existing features.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyObservables.html","id":"usage-5","dir":"Reference","previous_headings":"","what":"Usage","title":"Diseasy' observables handler — DiseasyObservables","text":"","code":"DiseasyObservables$define_synthetic_observable(name, mapping)"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyObservables.html","id":"arguments-5","dir":"Reference","previous_headings":"","what":"Arguments","title":"Diseasy' observables handler — DiseasyObservables","text":"name (character) name new feature. mapping (function) mapping compute new feature existing features. Existing features included formal arguments function.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyObservables.html","id":"method-get-observation-","dir":"Reference","previous_headings":"","what":"Method get_observation()","title":"Diseasy' observables handler — DiseasyObservables","text":"Retrieve \"observable\" data set corresponding set diseasystore. default, internal values start_date end_date used return data, can overwritten. results cached faster retrieval subsequent calls.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyObservables.html","id":"usage-6","dir":"Reference","previous_headings":"","what":"Usage","title":"Diseasy' observables handler — DiseasyObservables","text":"","code":"DiseasyObservables$get_observation(   observable,   stratification = NULL,   start_date = self %.% start_date,   end_date = self %.% end_date,   respect_last_queryable_date = TRUE )"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyObservables.html","id":"arguments-6","dir":"Reference","previous_headings":"","what":"Arguments","title":"Diseasy' observables handler — DiseasyObservables","text":"observable (character) observable provide data prediction . stratification (list(quosures) NULL) Use rlang::quos(...) specify stratification. given, expressions stratification evaluated give stratification level. start_date (Date) Study period start. end_date (Date) Study period end. respect_last_queryable_date (logical) module able return data past $last_queryable_date?","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyObservables.html","id":"returns-1","dir":"Reference","previous_headings":"","what":"Returns","title":"Diseasy' observables handler — DiseasyObservables","text":"observable found, function returns corresponding data stratification level. Otherwise, function fails lists available DiseasyObservables diseasystore.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyObservables.html","id":"method-stratification-names-","dir":"Reference","previous_headings":"","what":"Method stratification_names()","title":"Diseasy' observables handler — DiseasyObservables","text":"Get names stratifications.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyObservables.html","id":"usage-7","dir":"Reference","previous_headings":"","what":"Usage","title":"Diseasy' observables handler — DiseasyObservables","text":"","code":"DiseasyObservables$stratification_names(stratification)"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyObservables.html","id":"arguments-7","dir":"Reference","previous_headings":"","what":"Arguments","title":"Diseasy' observables handler — DiseasyObservables","text":"stratification (list(quosures) NULL) Use rlang::quos(...) specify stratification. given, expressions stratification evaluated give stratification level.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyObservables.html","id":"returns-2","dir":"Reference","previous_headings":"","what":"Returns","title":"Diseasy' observables handler — DiseasyObservables","text":"names stratifications.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyObservables.html","id":"method-describe-","dir":"Reference","previous_headings":"","what":"Method describe()","title":"Diseasy' observables handler — DiseasyObservables","text":"Prints human readable report internal state module.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyObservables.html","id":"usage-8","dir":"Reference","previous_headings":"","what":"Usage","title":"Diseasy' observables handler — DiseasyObservables","text":"","code":"DiseasyObservables$describe()"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyObservables.html","id":"method-clone-","dir":"Reference","previous_headings":"","what":"Method clone()","title":"Diseasy' observables handler — DiseasyObservables","text":"objects class cloneable method.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyObservables.html","id":"usage-9","dir":"Reference","previous_headings":"","what":"Usage","title":"Diseasy' observables handler — DiseasyObservables","text":"","code":"DiseasyObservables$clone(deep = FALSE)"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyObservables.html","id":"arguments-8","dir":"Reference","previous_headings":"","what":"Arguments","title":"Diseasy' observables handler — DiseasyObservables","text":"deep Whether make deep clone.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyObservables.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Diseasy' observables handler — DiseasyObservables","text":"","code":"# Create observables module using the Simulist data   obs <- DiseasyObservables$new(     diseasystore = \"Simulist\",     conn = DBI::dbConnect(duckdb::duckdb())   )    # See available observables   print(obs$available_observables) #> [1] \"n_positive\"  \"n_admission\" \"n_hospital\"    print(obs$available_stratifications) #> [1] \"birth\" \"age\"   \"sex\"      # Get data for one observable   obs$get_observation(     \"n_hospital\",     start_date = as.Date(\"2020-03-01\"),     end_date = as.Date(\"2020-03-05\")   ) #> # A tibble: 5 × 2 #>   date       n_hospital #>   <date>          <dbl> #> 1 2020-03-01        317 #> 2 2020-03-02        306 #> 3 2020-03-03        298 #> 4 2020-03-04        290 #> 5 2020-03-05        275    rm(obs)"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasySeason.html","id":null,"dir":"Reference","previous_headings":"","what":"Diseasy' season handler — DiseasySeason","title":"Diseasy' season handler — DiseasySeason","text":"DiseasySeason module responsible implementing various models seasonal dependency diseases. module implements number season models different functional forms. Models season either extracted module get_* functions module configured use models internally use_* functions whereafter model can accessed $model_t() $model_date(). season model varying number parameters. See documentation details. See vignette(\"diseasy-season\") examples use.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasySeason.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Diseasy' season handler — DiseasySeason","text":"new instance DiseasySeason R6 class.","code":""},{"path":[]},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasySeason.html","id":"super-class","dir":"Reference","previous_headings":"","what":"Super class","title":"Diseasy' season handler — DiseasySeason","text":"diseasy::DiseasyBaseModule -> DiseasySeason","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasySeason.html","id":"active-bindings","dir":"Reference","previous_headings":"","what":"Active bindings","title":"Diseasy' season handler — DiseasySeason","text":"reference_date (Date) reference date season models. Read-. model_t (function) model currently used module (days past reference date). Read-. model_date (function) model currently used module (date interest). Read-. available_season_models (character) list available season models observables (diseasy::DiseasyObservables) local copy DiseasyObservables module. Read-.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasySeason.html","id":"methods","dir":"Reference","previous_headings":"","what":"Methods","title":"Diseasy' season handler — DiseasySeason","text":"diseasy::DiseasyBaseModule$load_module() diseasy::DiseasyBaseModule$set_moduleowner()","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasySeason.html","id":"public-methods","dir":"Reference","previous_headings":"","what":"Public methods","title":"Diseasy' season handler — DiseasySeason","text":"DiseasySeason$new() DiseasySeason$set_reference_date() DiseasySeason$set_scale() DiseasySeason$get_season_model() DiseasySeason$use_season_model() DiseasySeason$get_constant_season() DiseasySeason$use_constant_season() DiseasySeason$get_cosine_season() DiseasySeason$use_cosine_season() DiseasySeason$get_covid_season_v1() DiseasySeason$use_covid_season_v1() DiseasySeason$get_covid_season_v2() DiseasySeason$use_covid_season_v2() DiseasySeason$describe() DiseasySeason$clone()","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasySeason.html","id":"method-new-","dir":"Reference","previous_headings":"","what":"Method new()","title":"Diseasy' season handler — DiseasySeason","text":"Creates new instance DiseasySeason R6 class.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasySeason.html","id":"usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Diseasy' season handler — DiseasySeason","text":"","code":"DiseasySeason$new(reference_date = NULL, observables = NULL, ...)"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasySeason.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Diseasy' season handler — DiseasySeason","text":"reference_date (Date) Date season modifier computed relatively . observables (R6::R6Class instance) instance DiseasyObservables needed season models. ... parameters sent DiseasyBaseModule R6 constructor.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasySeason.html","id":"method-set-reference-date-","dir":"Reference","previous_headings":"","what":"Method set_reference_date()","title":"Diseasy' season handler — DiseasySeason","text":"Sets reference_date DiseasySeason module.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasySeason.html","id":"usage-1","dir":"Reference","previous_headings":"","what":"Usage","title":"Diseasy' season handler — DiseasySeason","text":"","code":"DiseasySeason$set_reference_date(reference_date)"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasySeason.html","id":"arguments-1","dir":"Reference","previous_headings":"","what":"Arguments","title":"Diseasy' season handler — DiseasySeason","text":"reference_date (Date) Date season modifier computed relatively .","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasySeason.html","id":"method-set-scale-","dir":"Reference","previous_headings":"","what":"Method set_scale()","title":"Diseasy' season handler — DiseasySeason","text":"Sets scale active season model.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasySeason.html","id":"usage-2","dir":"Reference","previous_headings":"","what":"Usage","title":"Diseasy' season handler — DiseasySeason","text":"","code":"DiseasySeason$set_scale(scale)"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasySeason.html","id":"arguments-2","dir":"Reference","previous_headings":"","what":"Arguments","title":"Diseasy' season handler — DiseasySeason","text":"scale (numeric) Sets scale season model. scale percent wise difference active least active period. Read .","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasySeason.html","id":"method-get-season-model-","dir":"Reference","previous_headings":"","what":"Method get_season_model()","title":"Diseasy' season handler — DiseasySeason","text":"Retrieves specified season model.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasySeason.html","id":"usage-3","dir":"Reference","previous_headings":"","what":"Usage","title":"Diseasy' season handler — DiseasySeason","text":"","code":"DiseasySeason$get_season_model(model_name, dots = NULL)"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasySeason.html","id":"arguments-3","dir":"Reference","previous_headings":"","what":"Arguments","title":"Diseasy' season handler — DiseasySeason","text":"model_name (character) Name season_model use (calls equivalent $get_<model_name>()). dots (list) Named list arguments passed dot-ellipsis season model.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasySeason.html","id":"method-use-season-model-","dir":"Reference","previous_headings":"","what":"Method use_season_model()","title":"Diseasy' season handler — DiseasySeason","text":"Sets DiseasySeason module use specified season model.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasySeason.html","id":"usage-4","dir":"Reference","previous_headings":"","what":"Usage","title":"Diseasy' season handler — DiseasySeason","text":"","code":"DiseasySeason$use_season_model(model_name, dots = NULL)"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasySeason.html","id":"arguments-4","dir":"Reference","previous_headings":"","what":"Arguments","title":"Diseasy' season handler — DiseasySeason","text":"model_name (character) Name season_model use (calls equivalent $use_<model_name>()). dots (list) Named list arguments passed dot-ellipsis season model.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasySeason.html","id":"method-get-constant-season-","dir":"Reference","previous_headings":"","what":"Method get_constant_season()","title":"Diseasy' season handler — DiseasySeason","text":"Retrieves season model constant value (1).","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasySeason.html","id":"usage-5","dir":"Reference","previous_headings":"","what":"Usage","title":"Diseasy' season handler — DiseasySeason","text":"","code":"DiseasySeason$get_constant_season()"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasySeason.html","id":"method-use-constant-season-","dir":"Reference","previous_headings":"","what":"Method use_constant_season()","title":"Diseasy' season handler — DiseasySeason","text":"Sets season module use constant value (1).","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasySeason.html","id":"usage-6","dir":"Reference","previous_headings":"","what":"Usage","title":"Diseasy' season handler — DiseasySeason","text":"","code":"DiseasySeason$use_constant_season()"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasySeason.html","id":"method-get-cosine-season-","dir":"Reference","previous_headings":"","what":"Method get_cosine_season()","title":"Diseasy' season handler — DiseasySeason","text":"Retrieves season model cosine relationship.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasySeason.html","id":"usage-7","dir":"Reference","previous_headings":"","what":"Usage","title":"Diseasy' season handler — DiseasySeason","text":"","code":"DiseasySeason$get_cosine_season(peak = 20.09946, scale = 0.5726693)"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasySeason.html","id":"arguments-5","dir":"Reference","previous_headings":"","what":"Arguments","title":"Diseasy' season handler — DiseasySeason","text":"peak (numeric) Sets period maximal activity (days past new-year). default, risk infection antiphase DMI climate normal maximum daily temperature. scale (numeric) Sets scale season model. scale percent wise difference active least active period.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasySeason.html","id":"method-use-cosine-season-","dir":"Reference","previous_headings":"","what":"Method use_cosine_season()","title":"Diseasy' season handler — DiseasySeason","text":"Sets DiseasySeason module use cosine model season.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasySeason.html","id":"usage-8","dir":"Reference","previous_headings":"","what":"Usage","title":"Diseasy' season handler — DiseasySeason","text":"","code":"DiseasySeason$use_cosine_season(peak = 20.09946, scale = 0.5726693)"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasySeason.html","id":"arguments-6","dir":"Reference","previous_headings":"","what":"Arguments","title":"Diseasy' season handler — DiseasySeason","text":"peak (numeric) Sets period maximal activity (days past new-year). default, risk infection antiphase DMI climate normal maximum daily temperature. scale (numeric) Sets scale season model. scale percent wise difference active least active period.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasySeason.html","id":"method-get-covid-season-v-","dir":"Reference","previous_headings":"","what":"Method get_covid_season_v1()","title":"Diseasy' season handler — DiseasySeason","text":"Retrieves first version COVID-19 season model.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasySeason.html","id":"usage-9","dir":"Reference","previous_headings":"","what":"Usage","title":"Diseasy' season handler — DiseasySeason","text":"","code":"DiseasySeason$get_covid_season_v1(scale = 0.4825524)"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasySeason.html","id":"arguments-7","dir":"Reference","previous_headings":"","what":"Arguments","title":"Diseasy' season handler — DiseasySeason","text":"scale (numeric) Sets scale season model. scale percent wise difference active least active period.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasySeason.html","id":"method-use-covid-season-v-","dir":"Reference","previous_headings":"","what":"Method use_covid_season_v1()","title":"Diseasy' season handler — DiseasySeason","text":"Sets DiseasySeason module use first version covid 19 season model","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasySeason.html","id":"usage-10","dir":"Reference","previous_headings":"","what":"Usage","title":"Diseasy' season handler — DiseasySeason","text":"","code":"DiseasySeason$use_covid_season_v1(scale = 0.4825524)"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasySeason.html","id":"arguments-8","dir":"Reference","previous_headings":"","what":"Arguments","title":"Diseasy' season handler — DiseasySeason","text":"scale (numeric) Sets scale season model. scale percent wise difference active least active period.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasySeason.html","id":"method-get-covid-season-v--1","dir":"Reference","previous_headings":"","what":"Method get_covid_season_v2()","title":"Diseasy' season handler — DiseasySeason","text":"Retrieves second version COVID-19 season model.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasySeason.html","id":"usage-11","dir":"Reference","previous_headings":"","what":"Usage","title":"Diseasy' season handler — DiseasySeason","text":"","code":"DiseasySeason$get_covid_season_v2(scale = 0.5042782)"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasySeason.html","id":"arguments-9","dir":"Reference","previous_headings":"","what":"Arguments","title":"Diseasy' season handler — DiseasySeason","text":"scale (numeric) Sets scale season model. scale percent wise difference active least active period.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasySeason.html","id":"method-use-covid-season-v--1","dir":"Reference","previous_headings":"","what":"Method use_covid_season_v2()","title":"Diseasy' season handler — DiseasySeason","text":"Sets DiseasySeason module use second version COVID-19 season model","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasySeason.html","id":"usage-12","dir":"Reference","previous_headings":"","what":"Usage","title":"Diseasy' season handler — DiseasySeason","text":"","code":"DiseasySeason$use_covid_season_v2(scale = 0.5042782)"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasySeason.html","id":"arguments-10","dir":"Reference","previous_headings":"","what":"Arguments","title":"Diseasy' season handler — DiseasySeason","text":"scale (numeric) Sets scale season model. scale percent wise difference active least active period.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasySeason.html","id":"method-describe-","dir":"Reference","previous_headings":"","what":"Method describe()","title":"Diseasy' season handler — DiseasySeason","text":"Prints human readable report internal state module.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasySeason.html","id":"usage-13","dir":"Reference","previous_headings":"","what":"Usage","title":"Diseasy' season handler — DiseasySeason","text":"","code":"DiseasySeason$describe()"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasySeason.html","id":"method-clone-","dir":"Reference","previous_headings":"","what":"Method clone()","title":"Diseasy' season handler — DiseasySeason","text":"objects class cloneable method.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasySeason.html","id":"usage-14","dir":"Reference","previous_headings":"","what":"Usage","title":"Diseasy' season handler — DiseasySeason","text":"","code":"DiseasySeason$clone(deep = FALSE)"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasySeason.html","id":"arguments-11","dir":"Reference","previous_headings":"","what":"Arguments","title":"Diseasy' season handler — DiseasySeason","text":"deep Whether make deep clone.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasySeason.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Diseasy' season handler — DiseasySeason","text":"","code":"# Season module with an constant season   s1 <- DiseasySeason$new()    t <- 0:365   plot(t, purrr::map_dbl(t, s1$model_t), ylab = \"Effect\")     # Season module with an cosine season   s2 <- DiseasySeason$new(reference_date = Sys.Date())   s2$use_cosine_season()   plot(t, purrr::map_dbl(t, s2$model_t), ylab = \"Effect\")     rm(s1, s2)"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyVariant.html","id":null,"dir":"Reference","previous_headings":"","what":"Diseasy' variant handler — DiseasyVariant","title":"Diseasy' variant handler — DiseasyVariant","text":"DiseasyVariant module responsible defining scenarios disease variants models See vignette(\"diseasy-variant\")","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyVariant.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Diseasy' variant handler — DiseasyVariant","text":"new instance DiseasyVariant R6 class.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyVariant.html","id":"super-class","dir":"Reference","previous_headings":"","what":"Super class","title":"Diseasy' variant handler — DiseasyVariant","text":"diseasy::DiseasyBaseModule -> DiseasyVariant","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyVariant.html","id":"active-bindings","dir":"Reference","previous_headings":"","what":"Active bindings","title":"Diseasy' variant handler — DiseasyVariant","text":"variants (list) variants currently module. Read-. cross_immunity (matrix) matrix indicating cross immunity interactions variants. Index ij indicates overlap immunity variant j infects variant . Thus, overlap 1 means immunisation variant protects infection variant j. Read-.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyVariant.html","id":"methods","dir":"Reference","previous_headings":"","what":"Methods","title":"Diseasy' variant handler — DiseasyVariant","text":"diseasy::DiseasyBaseModule$initialize() diseasy::DiseasyBaseModule$load_module() diseasy::DiseasyBaseModule$set_moduleowner()","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyVariant.html","id":"public-methods","dir":"Reference","previous_headings":"","what":"Public methods","title":"Diseasy' variant handler — DiseasyVariant","text":"DiseasyVariant$add_variant() DiseasyVariant$describe() DiseasyVariant$clone()","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyVariant.html","id":"method-add-variant-","dir":"Reference","previous_headings":"","what":"Method add_variant()","title":"Diseasy' variant handler — DiseasyVariant","text":"Add variant scenario.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyVariant.html","id":"usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Diseasy' variant handler — DiseasyVariant","text":"","code":"DiseasyVariant$add_variant(name, characteristics = list())"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyVariant.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Diseasy' variant handler — DiseasyVariant","text":"name (character(1)) name variant. characteristics (list) named list characteristics variant. Characteristics can :","code":"- `relative_infection_risk` (`numeric(1)`): The relative infection risk of the variant. - `cross_immunity` (`named vector`): The overlap in immunity of when the named variant attempts to infect   a host previously infected by the current variant. If not specified, the default is 1. - `introduction_date` (`Date(1)`): The date the variant was introduced into the population."},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyVariant.html","id":"method-describe-","dir":"Reference","previous_headings":"","what":"Method describe()","title":"Diseasy' variant handler — DiseasyVariant","text":"Prints human readable report internal state module.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyVariant.html","id":"usage-1","dir":"Reference","previous_headings":"","what":"Usage","title":"Diseasy' variant handler — DiseasyVariant","text":"","code":"DiseasyVariant$describe()"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyVariant.html","id":"method-clone-","dir":"Reference","previous_headings":"","what":"Method clone()","title":"Diseasy' variant handler — DiseasyVariant","text":"objects class cloneable method.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyVariant.html","id":"usage-2","dir":"Reference","previous_headings":"","what":"Usage","title":"Diseasy' variant handler — DiseasyVariant","text":"","code":"DiseasyVariant$clone(deep = FALSE)"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyVariant.html","id":"arguments-1","dir":"Reference","previous_headings":"","what":"Arguments","title":"Diseasy' variant handler — DiseasyVariant","text":"deep Whether make deep clone.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasyVariant.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Diseasy' variant handler — DiseasyVariant","text":"","code":"# Create variant module   var <- DiseasyVariant$new()    # By default, a no variants are included   var$variants #> NULL    # Add variants via the `$add_variant()` method    var$add_variant(name = \"WT\")   var$add_variant(name = \"Mutant\", characteristics = list(\"relative_infection_risk\" = 1.2))   var$variants #> $Mutant #> $Mutant$relative_infection_risk #> [1] 1.2 #>  #>  #> $WT #> list() #>     rm(var)"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasystoreSeirExample.html","id":null,"dir":"Reference","previous_headings":"","what":"feature store handler for SEIR example data — DiseasystoreSeirExample","title":"feature store handler for SEIR example data — DiseasystoreSeirExample","text":"DiseasystoreSeirExample R6 brings support SEIR example data bundled diseasy.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasystoreSeirExample.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"feature store handler for SEIR example data — DiseasystoreSeirExample","text":"new instance DiseasystoreSeirExample R6 class.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasystoreSeirExample.html","id":"super-class","dir":"Reference","previous_headings":"","what":"Super class","title":"feature store handler for SEIR example data — DiseasystoreSeirExample","text":"diseasystore::DiseasystoreBase -> DiseasystoreSeirExample","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasystoreSeirExample.html","id":"methods","dir":"Reference","previous_headings":"","what":"Methods","title":"feature store handler for SEIR example data — DiseasystoreSeirExample","text":"diseasystore::DiseasystoreBase$get_feature() diseasystore::DiseasystoreBase$key_join_features()","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasystoreSeirExample.html","id":"public-methods","dir":"Reference","previous_headings":"","what":"Public methods","title":"feature store handler for SEIR example data — DiseasystoreSeirExample","text":"DiseasystoreSeirExample$new() DiseasystoreSeirExample$clone()","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasystoreSeirExample.html","id":"method-new-","dir":"Reference","previous_headings":"","what":"Method new()","title":"feature store handler for SEIR example data — DiseasystoreSeirExample","text":"Creates new instance DiseasystoreSeirExample R6 class. module typically constructed directly rather DiseasyModel* classes.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasystoreSeirExample.html","id":"usage","dir":"Reference","previous_headings":"","what":"Usage","title":"feature store handler for SEIR example data — DiseasystoreSeirExample","text":"","code":"DiseasystoreSeirExample$new(...)"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasystoreSeirExample.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"feature store handler for SEIR example data — DiseasystoreSeirExample","text":"... Parameters sent ?diseasystore::DiseasystoreBase R6 constructor.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasystoreSeirExample.html","id":"returns","dir":"Reference","previous_headings":"","what":"Returns","title":"feature store handler for SEIR example data — DiseasystoreSeirExample","text":"new instance DiseasystoreSeirExample R6 class.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasystoreSeirExample.html","id":"method-clone-","dir":"Reference","previous_headings":"","what":"Method clone()","title":"feature store handler for SEIR example data — DiseasystoreSeirExample","text":"objects class cloneable method.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasystoreSeirExample.html","id":"usage-1","dir":"Reference","previous_headings":"","what":"Usage","title":"feature store handler for SEIR example data — DiseasystoreSeirExample","text":"","code":"DiseasystoreSeirExample$clone(deep = FALSE)"},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasystoreSeirExample.html","id":"arguments-1","dir":"Reference","previous_headings":"","what":"Arguments","title":"feature store handler for SEIR example data — DiseasystoreSeirExample","text":"deep Whether make deep clone.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/DiseasystoreSeirExample.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"feature store handler for SEIR example data — DiseasystoreSeirExample","text":"","code":"ds <- DiseasystoreSeirExample$new(     source_conn = \".\",     target_conn = DBI::dbConnect(RSQLite::SQLite())   )    rm(ds)"},{"path":"https://ssi-dk.github.io/diseasy/reference/combineasy.html","id":null,"dir":"Reference","previous_headings":"","what":"Easily combine modules and parameters to form a model ensemble — combineasy","title":"Easily combine modules and parameters to form a model ensemble — combineasy","text":"Easily combine modules parameters form model ensemble","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/combineasy.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Easily combine modules and parameters to form a model ensemble — combineasy","text":"","code":"combineasy(model_templates, modules = NULL, parameters = NULL)"},{"path":"https://ssi-dk.github.io/diseasy/reference/combineasy.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Easily combine modules and parameters to form a model ensemble — combineasy","text":"model_templates (list(DiseasyModel)) Provide list model templates initialized (functional) modules parameters. modules (tibble) combination modules load model instances (generated tidyr::expand_grid). parameters (tibble) combination parameters set model instances (generated tidyr::expand_grid).","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/combineasy.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Easily combine modules and parameters to form a model ensemble — combineasy","text":"list model instances class DiseasyEnsemble.","code":""},{"path":[]},{"path":"https://ssi-dk.github.io/diseasy/reference/combineasy.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Easily combine modules and parameters to form a model ensemble — combineasy","text":"","code":"# Create a small ensemble with the `DiseasyModelG1` model template   observables <- DiseasyObservables$new(     diseasystore = DiseasystoreSeirExample,     conn = DBI::dbConnect(duckdb::duckdb())   )    ensemble <- combineasy(     model_templates = list(DiseasyModelG1),     modules = tidyr::expand_grid(       observables = list(observables)     )   )    print(ensemble) #> DiseasyEnsemble: DiseasyModelG1 (hash: 35c7d)     summary(ensemble) #> DiseasyEnsemble consisting of: #> DiseasyModelG1: 1     rm(observables)"},{"path":"https://ssi-dk.github.io/diseasy/reference/contact_basis.html","id":null,"dir":"Reference","previous_headings":"","what":"Contact basis — contact_basis","title":"Contact basis — contact_basis","text":"data set contains contact matrices population data 176 geographical regions. contact matrices uses data provided contactdata package population data provided US Census Bureau.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/contact_basis.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Contact basis — contact_basis","text":"U.S. Census Bureau. (n.d.). International Database: World Population Estimates Projections. U.S. Department Commerce. Retrieved October 03, 2024, https://data.census.gov/ Gruson H (2023). \"contactdata: Social Contact Matrices 152 Countries.\" R package version 1.0.0, https://CRAN.R-project.org/package=contactdata. Prem K, Cook AR, Jit M (2017). \"Projecting social contact matrices 152 countries using contact surveys demographic data.\" PLoS Computational Biology, 13(9), e1005697. doi:10.1371/journal.pcbi.1005697 https://doi.org/10.1371/journal.pcbi.1005697. Prem K, van Zandvoort K, Klepac P, Eggo RM, Davies NG, Group CCW, Cook AR, Jit M (2021). \"Projecting contact matrices 177 geographical regions: update comparison empirical data COVID-19 era.\" PLoS Computational Biology, 17(7), e1009098. doi:10.1371/journal.pcbi.1009098 https://doi.org/10.1371/journal.pcbi.1009098.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/contact_basis.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Contact basis — contact_basis","text":"contact matrices provided four arenas: \"Work\", \"Home\", \"School\", \"\" 5-year age groups. diseasy SEIR models configured use specific transformation contact matrices. make definition \"contact\" matrix clear, lets start definitions paper: https://www.medrxiv.org/content/10.1101/2020.02.16.20023754v2.full.pdf m_ij raw contact matrix elements age group age group j c_ij reciprocal contact matrix elements w_i  proportion population fall age group diseasy SEIR models configured use symmetric, weighted set contacts matrices elements 0.5 * (c_ij * w_j + c_ji * w_i) Since contactdata package gives number contacts directly (framework, denoted X_ij), transform elements intermediaries:  m_ij = X_ij / w_j c_ij = m_ij * w_i = X_ij * w_i / w_j population data includes proportion population 5-year age groups well information 1-year age-groups allow transformation contact matrices age cuts. product uses Census Bureau Data API endorsed certified Census Bureau.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/contact_basis.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Contact basis — contact_basis","text":"Rasmus Skytte Randl\\u00F8v rske@ssi.dk Lasse Engbo Christiansen lsec@ssi.dk","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/diseasy-package.html","id":null,"dir":"Reference","previous_headings":"","what":"diseasy: Disease Ensemble Modelling Made Easy — diseasy-package","title":"diseasy: Disease Ensemble Modelling Made Easy — diseasy-package","text":"package facilitates creation ensemble models modular construction combinatorics.","code":""},{"path":[]},{"path":"https://ssi-dk.github.io/diseasy/reference/diseasy-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"diseasy: Disease Ensemble Modelling Made Easy — diseasy-package","text":"Maintainer: Rasmus Skytte Randløv rske@ssi.dk (ORCID) Authors: Marcus Munch Grünewald mmgr@ssi.dk (ORCID) Lasse Engbo Christiansen lsec@ssi.dk (ORCID) Kaare Græsbøll kagr@ssi.dk (ORCID) Sofia Myrup Otero smot@ssi.dk contributors: Statens Serum Institut, SSI [copyright holder, funder]","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/diseasy_immunity_optimiser_results.html","id":null,"dir":"Reference","previous_headings":"","what":"diseasy_immunity_optimiser_results — diseasy_immunity_optimiser_results","title":"diseasy_immunity_optimiser_results — diseasy_immunity_optimiser_results","text":"data set contains summery tested optimiser ?DiseasyImmunity$approximate_compartmental() method.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/diseasy_immunity_optimiser_results.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"diseasy_immunity_optimiser_results — diseasy_immunity_optimiser_results","text":"data set consists tibble columns: target: name target function approximated. variation: Indicating variation target function. One : \"Base\": using time scale 20. \"Non-zero asymptote\": asymptotically approaching 0.2 instead 0. \"Twice time scale\": using time scale 40. method: method parametrising approximation. One : \"free_delta\", \"free_gamma\" \"all_free\". strategy: strategy employed optimisation. One : \"naive\", \"recursive\" \"combination\". penalty: unit penalties (monotonous individual_level) added objective function? M: number compartments. value: smallest determined value objective function optimiser. execution_time: time spent optimiser. optim_method: human-readable label optimiser configuration. target_label: short-hand combination target variation.","code":""},{"path":[]},{"path":"https://ssi-dk.github.io/diseasy/reference/diseasy_immunity_optimiser_results.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"diseasy_immunity_optimiser_results — diseasy_immunity_optimiser_results","text":"Rasmus Skytte Randl\\u00F8v rske@ssi.dk","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/diseasyoption.html","id":null,"dir":"Reference","previous_headings":"","what":"Helper function to get options related to diseasy — diseasyoption","title":"Helper function to get options related to diseasy — diseasyoption","text":"Helper function get options related diseasy","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/diseasyoption.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Helper function to get options related to diseasy — diseasyoption","text":"","code":"diseasyoption(option, class = NULL, namespace = NULL, .default = NULL)"},{"path":"https://ssi-dk.github.io/diseasy/reference/diseasyoption.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Helper function to get options related to diseasy — diseasyoption","text":"option (character(1)) Name option get. class (character(1) R6::R6class Diseasy* instance) Either classname object option applies . namespace (character(1)) namespace option (e.g. \"diseasy\" \"diseasystore\"). .default () default value return option set.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/diseasyoption.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Helper function to get options related to diseasy — diseasyoption","text":"option given, specific option within diseasy framework given option class. option missing, options related diseasy packages.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/diseasyoption.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Helper function to get options related to diseasy — diseasyoption","text":"","code":"# Retrieve default option for source conn   diseasyoption(\"source_conn\") #> NULL    # Retrieve DiseasystoreGoogleCovid19 specific option for source conn   diseasyoption(\"source_conn\", \"DiseasystoreGoogleCovid19\") #> [1] \"https://storage.googleapis.com/covid19-open-data/v3/\"    # Try to retrieve specific option for source conn for a non existent / un-configured diseasystore   diseasyoption(\"source_conn\", \"DiseasystoreNonExistent\") # Returns default source_conn #> NULL    # Try to retrieve specific non-existent option   diseasyoption(\"non_existent\", \"DiseasystoreGoogleCovid19\", .default = \"Use this\") #> [1] \"Use this\""},{"path":"https://ssi-dk.github.io/diseasy/reference/dk_activity_units.html","id":null,"dir":"Reference","previous_headings":"","what":"dk_activity_units — dk_activity_units","title":"dk_activity_units — dk_activity_units","text":"data set contains \"units\" activity developed Danish COVID-19 modelling efforts. \"activity unit\" specifies amount activity four arenas: Home, Work, School, . combining units activity, complete, granular picture societal activity formed (see dk_reference_scenario details).","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/dk_activity_units.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"dk_activity_units — dk_activity_units","text":"units developed cover proposed realized scenarios societal restrictions COVID-19 pandemic Denmark. scenarios tested, new \"activity units\" (likely) developed. supply script generates units package (see data-raw/dk-activity-units.R details).","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/dk_activity_units.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"dk_activity_units — dk_activity_units","text":"Lasse Engbo Christiansen lsec@ssi.dk Carsten Kirkeby ckir@sund.ku.dk Frederik Plesner Lyngse frederik.lyngse@sund.ku.dk Adam Mielke admi@dtu.dk Rasmus Skytte Randl\\u00F8v rske@dtu.dk","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/dk_reference_scenario.html","id":null,"dir":"Reference","previous_headings":"","what":"dk_reference_scenario — dk_reference_scenario","title":"dk_reference_scenario — dk_reference_scenario","text":"data set contains combination \"activity units\" (see dk_activity_units details) form description societal activity Denmark COVID-19 pandemic.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/dk_reference_scenario.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"dk_reference_scenario — dk_reference_scenario","text":"data set consists tibble four columns: date opening closing social_distance_work date indicates date activity change opening indicates \"activity unit\" added scenario given date closing indicates \"activity unit\" removed scenario given date social_distance_work indicates reduction transmission risk \"Work\" arena due social distancing","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/dk_reference_scenario.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"dk_reference_scenario — dk_reference_scenario","text":"Lasse Engbo Christiansen lsec@ssi.dk","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/hash_environment.html","id":null,"dir":"Reference","previous_headings":"","what":"Holistic hashing of an environment — hash_environment","title":"Holistic hashing of an environment — hash_environment","text":"Function hashes values environment, handling special cases functions formulae.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/hash_environment.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Holistic hashing of an environment — hash_environment","text":"","code":"hash_environment(environment)"},{"path":"https://ssi-dk.github.io/diseasy/reference/hash_environment.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Holistic hashing of an environment — hash_environment","text":"environment (environment list) environment hash.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/hash_environment.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Holistic hashing of an environment — hash_environment","text":"(list(character)) list hashes environment","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/hash_environment.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Holistic hashing of an environment — hash_environment","text":"","code":"hash_environment(list(DiseasyActivity)) #> [1] \"d28b559f8c792738f004cf33432df965\"   hash_environment(list(mtcars, iris)) #> [1] \"d0487363db4e6cc64fdb740cb6617fc0\" \"34844aba7bde36f5a34f6d8e39803508\""},{"path":"https://ssi-dk.github.io/diseasy/reference/hypoexponential.html","id":null,"dir":"Reference","previous_headings":"","what":"The hypoexponential distribution — hypoexponential","title":"The hypoexponential distribution — hypoexponential","text":"Density, distribution, quantile random generation functions hypoexponential distribution parameters shape rate.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/hypoexponential.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"The hypoexponential distribution — hypoexponential","text":"","code":"dhypo(x, shape = 1, rate = rep(1, shape))  phypo(q, shape = 1, rate = rep(1, shape), lower.tail = TRUE)  qhypo(p, shape = 1, rate = rep(1, shape), lower.tail = TRUE)  rhypo(x, shape = 1, rate = rep(1, shape))"},{"path":"https://ssi-dk.github.io/diseasy/reference/hypoexponential.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"The hypoexponential distribution — hypoexponential","text":"x, q vector quantiles. shape (numeric(1)) shape parameter rate alternative way specify scale. lower.tail logical; TRUE (default), probabilities     \\(P[X \\le x]\\), otherwise, \\(P[X > x]\\). p vector probabilities.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/hypoexponential.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"The hypoexponential distribution — hypoexponential","text":"dhypo gives density. phypo gives distribution function. qhypo gives quantile function. rhypo gives random generation.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/hypoexponential.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"The hypoexponential distribution — hypoexponential","text":"","code":"dhypo(1:10, shape = 2) #>  [1] 0.3678794412 0.2706705665 0.1493612051 0.0732625556 0.0336897350 #>  [6] 0.0148725131 0.0063831738 0.0026837010 0.0011106882 0.0004539993   dhypo(1:10, shape = 2, rate = c(1, 2)) #>  [1] 4.650883e-01 2.340393e-01 9.461663e-02 3.596035e-02 1.338509e-02 #>  [6] 4.945216e-03 1.822101e-03 6.707002e-04 2.467891e-04 9.079574e-05    phypo(0.75, shape = 2) #> [1] 0.1733585   phypo(0.75, shape = 2, rate = c(1, 2)) #> [1] 0.2783971   phypo(0.75, shape = 2, rate = c(1, 2), lower.tail = FALSE) #> [1] 0.7216029    qhypo(0.75, shape = 2) #> [1] 2.692635   qhypo(0.75, shape = 2, rate = c(1, 2)) #> [1] 2.010105   qhypo(0.75, shape = 2, rate = c(1, 2), lower.tail = FALSE) #> [1] 0.6931472    rhypo(10, shape = 2) #>  [1] 2.1812169 3.9397690 2.8237091 0.8529690 1.4535131 1.0153253 1.2296765 #>  [8] 0.8973487 0.4012368 0.8040166   rhypo(10, shape = 2, rate = c(1, 2)) #>  [1] 0.2407699 0.9002322 2.2934792 0.7759241 3.2544443 0.6053885 0.8748801 #>  [8] 0.6253471 2.5165786 1.1710231"},{"path":"https://ssi-dk.github.io/diseasy/reference/plot.html","id":null,"dir":"Reference","previous_headings":"","what":"Plotting method for diseasy modules — plot","title":"Plotting method for diseasy modules — plot","text":"Visualise diseasy modules.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/plot.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plotting method for diseasy modules — plot","text":"","code":"# S3 method for class 'DiseasyBaseModule' plot(x, ...)"},{"path":"https://ssi-dk.github.io/diseasy/reference/plot.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plotting method for diseasy modules — plot","text":"x (Diseasy*) module generate visualisation . ... Parameters sent specific plotting methods. See $plot() method module","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/plot.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plotting method for diseasy modules — plot","text":"NULL (called side effects)","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/plot.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plotting method for diseasy modules — plot","text":"","code":"immunity <- DiseasyImmunity$new()   plot(immunity)     immunity$set_exponential_waning(target = \"hospitalisation\") #> $hospitalisation #> function (t)  #> exp(-t/time_scale) #> <environment: 0x5585ea58ab98> #> attr(,\"name\") #> [1] \"exponential_waning\" #> attr(,\"dots\") #> attr(,\"dots\")$time_scale #> [1] 20 #>  #>    plot(immunity)     rm(immunity)"},{"path":"https://ssi-dk.github.io/diseasy/reference/print.html","id":null,"dir":"Reference","previous_headings":"","what":"Printing method for diseasy modules — print","title":"Printing method for diseasy modules — print","text":"Summarise diseasy modules.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/print.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Printing method for diseasy modules — print","text":"","code":"# S3 method for class 'DiseasyBaseModule' print(x, verbose = FALSE, ...)"},{"path":"https://ssi-dk.github.io/diseasy/reference/print.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Printing method for diseasy modules — print","text":"x (Diseasy*) module get information . verbose (logical(1)) full information module printed? ... Parameters sent specific printing methods. See $print() method module","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/print.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Printing method for diseasy modules — print","text":"NULL (called side effects)","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/print.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Printing method for diseasy modules — print","text":"","code":"# Create a season module with an constant season season <- DiseasySeason$new() print(season) #> # DiseasySeason ############################################## #> Season model: constant_season #> Constant (no) seasonality model. #> Risk of infection constant through year #> Reference date not yet set  # Create an activity module with Danish reference scenario activity <- DiseasyActivity$new(   base_scenario = \"dk_reference\",   contact_basis = contact_basis$DK ) print(activity) #> # DiseasyActivity ############################################ #> Scenario: Overview #>                                                     2020-01-01 2020-03-11 #> baseline                                                     1          0 #> lockdown_2020                                                0          1 #> daycares_and_schools_phase_1_2020                            0          0 #> private_companies_phase_1_2020                               0          0 #> secondary_education_phase_1_2020                             0          0 #> courts_2020                                                  0          0 #> liberal_professions_2020                                     0          0 #> practices_2020                                               0          0 #> retail_2020                                                  0          0 #> efterskoler_2020                                             0          0 #> misc_education_2020                                          0          0 #> misc_phase_2_2020                                            0          0 #> private_companies_phase_2_2020                               0          0 #> restaurants_and_cafes_2020                                   0          0 #> schools_6_10_grade_2020                                      0          0 #> sports_2020                                                  0          0 #> adult_education_2020                                         0          0 #> culture_2020                                                 0          0 #> dr_tv2_2020                                                  0          0 #> education_2020                                               0          0 #> exams_2020                                                   0          0 #> hojskoler_2020                                               0          0 #> public_research_2020                                         0          0 #> public_sector_2020                                           0          0 #> public_sector_f3p_2020                                       0          0 #> public_sector_f3p_2020B_closing_sep_2020                     0          0 #> public_sector_f3p_2020C_closing_oct_2020                     0          0 #> fitness_2020                                                 0          0 #> indoor_sports_2020                                           0          0 #> indoor_sports_and_association_lockdown                       0          0 #> restaurants_and_cafes_lockdown                               0          0 #> retail_stores_over_1000_sqm_under_5000_sqm_open              0          0 #> retail_stores_under_1000_sqm_open                            0          0 #> churches_lockdown                                            0          0 #> courts                                                       0          0 #> daycares_jan_2021                                            0          0 #> grocery_stores                                               0          0 #> health_sector                                                0          0 #> high_school_non_senior_year_critical                         0          0 #> high_school_senior_year_critical                             0          0 #> higher_education_non_seniors_critical_mar_2021_R0_5          0          0 #> higher_education_seniors_critical_mar_2021_R0_5              0          0 #> home_35pp                                                    0          0 #> outdoor_sports_all_lockdown                                  0          0 #> remaining_private_companies_lockdown                         0          0 #> remaining_public_sector_lockdown                             0          0 #> retail_stores_over_1000_sqm_under_5000_sqm_lockdown          0          0 #> retail_stores_over_5000_sqm_lockdown_mar_2021                0          0 #> retail_stores_under_1000_sqm_lockdown                        0          0 #> schools_0_4_grade_critical                                   0          0 #> schools_5_8_grade_critical_jan_2021                          0          0 #> schools_9_10_grade_critical_jan_2021                         0          0 #> shopping_malls_lockdown                                      0          0 #> daycares_feb_2021                                            0          0 #> remaining_private_companies_phase_1                          0          0 #> retail_stores_over_5000_sqm_lockdown_jan_2021                0          0 #> schools_0_4_grade_open_R0_75                                 0          0 #> schools_9_10_grade_critical_mar_2021                         0          0 #> culture_outdoor_phase_2                                      0          0 #> daycares_open                                                0          0 #> outdoor_sports_all_mar_2021                                  0          0 #> remaining_private_companies_phase_2                          0          0 #> schools_5_8_grade_critical_mar_2021                          0          0 #> efterskoler_R1                                               0          0 #> high_school_senior_year_50pp_R1                              0          0 #> hojskoler_long_stays                                         0          0 #> retail_stores_over_5000_sqm_open                             0          0 #> schools_9_10_grade_50pp_R1                                   0          0 #> outdoor_sports_all_max_50_people_apr_2021                    0          0 #> high_school_non_senior_year_50pp_R1                          0          0 #> higher_education_non_seniors_20pp_R0_5                       0          0 #> higher_education_seniors_20pp_R0_5                           0          0 #> liberal_professions                                          0          0 #> schools_5_8_grade_biweekly_R1                                0          0 #> high_school_senior_year_open_R1                              0          0 #> restaurants_and_cafes_semi_lockdown                          0          0 #> schools_9_10_grade_open_R1                                   0          0 #> shopping_malls_no_loitering                                  0          0 #> outdoor_sports_all_max_50_people_may_2021                    0          0 #> churches_open                                                0          0 #> culture                                                      0          0 #> efterskoler_R0_75                                            0          0 #> high_school_non_senior_year_open_R0_75                       0          0 #> high_school_senior_year_open_R0_75                           0          0 #> indoor_sports_and_association                                0          0 #> remaining_private_companies_phase_4                          0          0 #> schools_5_8_grade_open_R0_75                                 0          0 #> schools_9_10_grade_open_R0_75                                0          0 #> higher_education_non_seniors_50pp_R0_5                       0          0 #> higher_education_seniors_50pp_R0_5                           0          0 #> remaining_private_companies_phase_5                          0          0 #> remaining_public_sector_phase_5                              0          0 #> high_school_non_senior_year_50pp_R0_75                       0          0 #> high_school_senior_year_50pp_R0_75                           0          0 #> schools_9_10_grade_50pp_R0_75                                0          0 #> remaining_private_companies_phase_6                          0          0 #> remaining_public_sector_phase_6                              0          0 #> daycares_summer                                              0          0 #> efterskoler_summer_R1                                        0          0 #> high_school_non_senior_year_summer_R1                        0          0 #> high_school_senior_year_summer_R1                            0          0 #> higher_education_summer                                      0          0 #> remaining_private_companies_summer                           0          0 #> schools_0_4_grade_summer_R1                                  0          0 #> schools_5_8_grade_summer_R1                                  0          0 #> schools_9_10_grade_summer_R1                                 0          0 #> high_school_non_senior_year_open_R1                          0          0 #> remaining_private_companies_open                             0          0 #> schools_5_8_grade_open_R1                                    0          0 #> higher_education_open_R0_5                                   0          0 #> outdoor_sports_all_open                                      0          0 #> schools_0_4_grade_open_R1                                    0          0 #> higher_education_open                                        0          0 #> home_15pp                                                    0          0 #> other_10pp                                                   0          0 #> restaurants_and_cafes_open                                   0          0 #>                                                     2020-04-15 2020-04-20 #> baseline                                                     0          0 #> lockdown_2020                                                1          1 #> daycares_and_schools_phase_1_2020                            1          1 #> private_companies_phase_1_2020                               1          1 #> secondary_education_phase_1_2020                             1          1 #> courts_2020                                                  0          1 #> liberal_professions_2020                                     0          1 #> practices_2020                                               0          1 #> retail_2020                                                  0          0 #> efterskoler_2020                                             0          0 #> misc_education_2020                                          0          0 #> misc_phase_2_2020                                            0          0 #> private_companies_phase_2_2020                               0          0 #> restaurants_and_cafes_2020                                   0          0 #> schools_6_10_grade_2020                                      0          0 #> sports_2020                                                  0          0 #> adult_education_2020                                         0          0 #> culture_2020                                                 0          0 #> dr_tv2_2020                                                  0          0 #> education_2020                                               0          0 #> exams_2020                                                   0          0 #> hojskoler_2020                                               0          0 #> public_research_2020                                         0          0 #> public_sector_2020                                           0          0 #> public_sector_f3p_2020                                       0          0 #> public_sector_f3p_2020B_closing_sep_2020                     0          0 #> public_sector_f3p_2020C_closing_oct_2020                     0          0 #> fitness_2020                                                 0          0 #> indoor_sports_2020                                           0          0 #> indoor_sports_and_association_lockdown                       0          0 #> restaurants_and_cafes_lockdown                               0          0 #> retail_stores_over_1000_sqm_under_5000_sqm_open              0          0 #> retail_stores_under_1000_sqm_open                            0          0 #> churches_lockdown                                            0          0 #> courts                                                       0          0 #> daycares_jan_2021                                            0          0 #> grocery_stores                                               0          0 #> health_sector                                                0          0 #> high_school_non_senior_year_critical                         0          0 #> high_school_senior_year_critical                             0          0 #> higher_education_non_seniors_critical_mar_2021_R0_5          0          0 #> higher_education_seniors_critical_mar_2021_R0_5              0          0 #> home_35pp                                                    0          0 #> outdoor_sports_all_lockdown                                  0          0 #> remaining_private_companies_lockdown                         0          0 #> remaining_public_sector_lockdown                             0          0 #> retail_stores_over_1000_sqm_under_5000_sqm_lockdown          0          0 #> retail_stores_over_5000_sqm_lockdown_mar_2021                0          0 #> retail_stores_under_1000_sqm_lockdown                        0          0 #> schools_0_4_grade_critical                                   0          0 #> schools_5_8_grade_critical_jan_2021                          0          0 #> schools_9_10_grade_critical_jan_2021                         0          0 #> shopping_malls_lockdown                                      0          0 #> daycares_feb_2021                                            0          0 #> remaining_private_companies_phase_1                          0          0 #> retail_stores_over_5000_sqm_lockdown_jan_2021                0          0 #> schools_0_4_grade_open_R0_75                                 0          0 #> schools_9_10_grade_critical_mar_2021                         0          0 #> culture_outdoor_phase_2                                      0          0 #> daycares_open                                                0          0 #> outdoor_sports_all_mar_2021                                  0          0 #> remaining_private_companies_phase_2                          0          0 #> schools_5_8_grade_critical_mar_2021                          0          0 #> efterskoler_R1                                               0          0 #> high_school_senior_year_50pp_R1                              0          0 #> hojskoler_long_stays                                         0          0 #> retail_stores_over_5000_sqm_open                             0          0 #> schools_9_10_grade_50pp_R1                                   0          0 #> outdoor_sports_all_max_50_people_apr_2021                    0          0 #> high_school_non_senior_year_50pp_R1                          0          0 #> higher_education_non_seniors_20pp_R0_5                       0          0 #> higher_education_seniors_20pp_R0_5                           0          0 #> liberal_professions                                          0          0 #> schools_5_8_grade_biweekly_R1                                0          0 #> high_school_senior_year_open_R1                              0          0 #> restaurants_and_cafes_semi_lockdown                          0          0 #> schools_9_10_grade_open_R1                                   0          0 #> shopping_malls_no_loitering                                  0          0 #> outdoor_sports_all_max_50_people_may_2021                    0          0 #> churches_open                                                0          0 #> culture                                                      0          0 #> efterskoler_R0_75                                            0          0 #> high_school_non_senior_year_open_R0_75                       0          0 #> high_school_senior_year_open_R0_75                           0          0 #> indoor_sports_and_association                                0          0 #> remaining_private_companies_phase_4                          0          0 #> schools_5_8_grade_open_R0_75                                 0          0 #> schools_9_10_grade_open_R0_75                                0          0 #> higher_education_non_seniors_50pp_R0_5                       0          0 #> higher_education_seniors_50pp_R0_5                           0          0 #> remaining_private_companies_phase_5                          0          0 #> remaining_public_sector_phase_5                              0          0 #> high_school_non_senior_year_50pp_R0_75                       0          0 #> high_school_senior_year_50pp_R0_75                           0          0 #> schools_9_10_grade_50pp_R0_75                                0          0 #> remaining_private_companies_phase_6                          0          0 #> remaining_public_sector_phase_6                              0          0 #> daycares_summer                                              0          0 #> efterskoler_summer_R1                                        0          0 #> high_school_non_senior_year_summer_R1                        0          0 #> high_school_senior_year_summer_R1                            0          0 #> higher_education_summer                                      0          0 #> remaining_private_companies_summer                           0          0 #> schools_0_4_grade_summer_R1                                  0          0 #> schools_5_8_grade_summer_R1                                  0          0 #> schools_9_10_grade_summer_R1                                 0          0 #> high_school_non_senior_year_open_R1                          0          0 #> remaining_private_companies_open                             0          0 #> schools_5_8_grade_open_R1                                    0          0 #> higher_education_open_R0_5                                   0          0 #> outdoor_sports_all_open                                      0          0 #> schools_0_4_grade_open_R1                                    0          0 #> higher_education_open                                        0          0 #> home_15pp                                                    0          0 #> other_10pp                                                   0          0 #> restaurants_and_cafes_open                                   0          0 #>                                                     2020-05-11 2020-05-18 #> baseline                                                     0          0 #> lockdown_2020                                                1          1 #> daycares_and_schools_phase_1_2020                            1          1 #> private_companies_phase_1_2020                               1          1 #> secondary_education_phase_1_2020                             1          1 #> courts_2020                                                  1          1 #> liberal_professions_2020                                     1          1 #> practices_2020                                               1          1 #> retail_2020                                                  1          1 #> efterskoler_2020                                             0          1 #> misc_education_2020                                          0          1 #> misc_phase_2_2020                                            0          1 #> private_companies_phase_2_2020                               0          1 #> restaurants_and_cafes_2020                                   0          1 #> schools_6_10_grade_2020                                      0          1 #> sports_2020                                                  0          1 #> adult_education_2020                                         0          0 #> culture_2020                                                 0          0 #> dr_tv2_2020                                                  0          0 #> education_2020                                               0          0 #> exams_2020                                                   0          0 #> hojskoler_2020                                               0          0 #> public_research_2020                                         0          0 #> public_sector_2020                                           0          0 #> public_sector_f3p_2020                                       0          0 #> public_sector_f3p_2020B_closing_sep_2020                     0          0 #> public_sector_f3p_2020C_closing_oct_2020                     0          0 #> fitness_2020                                                 0          0 #> indoor_sports_2020                                           0          0 #> indoor_sports_and_association_lockdown                       0          0 #> restaurants_and_cafes_lockdown                               0          0 #> retail_stores_over_1000_sqm_under_5000_sqm_open              0          0 #> retail_stores_under_1000_sqm_open                            0          0 #> churches_lockdown                                            0          0 #> courts                                                       0          0 #> daycares_jan_2021                                            0          0 #> grocery_stores                                               0          0 #> health_sector                                                0          0 #> high_school_non_senior_year_critical                         0          0 #> high_school_senior_year_critical                             0          0 #> higher_education_non_seniors_critical_mar_2021_R0_5          0          0 #> higher_education_seniors_critical_mar_2021_R0_5              0          0 #> home_35pp                                                    0          0 #> outdoor_sports_all_lockdown                                  0          0 #> remaining_private_companies_lockdown                         0          0 #> remaining_public_sector_lockdown                             0          0 #> retail_stores_over_1000_sqm_under_5000_sqm_lockdown          0          0 #> retail_stores_over_5000_sqm_lockdown_mar_2021                0          0 #> retail_stores_under_1000_sqm_lockdown                        0          0 #> schools_0_4_grade_critical                                   0          0 #> schools_5_8_grade_critical_jan_2021                          0          0 #> schools_9_10_grade_critical_jan_2021                         0          0 #> shopping_malls_lockdown                                      0          0 #> daycares_feb_2021                                            0          0 #> remaining_private_companies_phase_1                          0          0 #> retail_stores_over_5000_sqm_lockdown_jan_2021                0          0 #> schools_0_4_grade_open_R0_75                                 0          0 #> schools_9_10_grade_critical_mar_2021                         0          0 #> culture_outdoor_phase_2                                      0          0 #> daycares_open                                                0          0 #> outdoor_sports_all_mar_2021                                  0          0 #> remaining_private_companies_phase_2                          0          0 #> schools_5_8_grade_critical_mar_2021                          0          0 #> efterskoler_R1                                               0          0 #> high_school_senior_year_50pp_R1                              0          0 #> hojskoler_long_stays                                         0          0 #> retail_stores_over_5000_sqm_open                             0          0 #> schools_9_10_grade_50pp_R1                                   0          0 #> outdoor_sports_all_max_50_people_apr_2021                    0          0 #> high_school_non_senior_year_50pp_R1                          0          0 #> higher_education_non_seniors_20pp_R0_5                       0          0 #> higher_education_seniors_20pp_R0_5                           0          0 #> liberal_professions                                          0          0 #> schools_5_8_grade_biweekly_R1                                0          0 #> high_school_senior_year_open_R1                              0          0 #> restaurants_and_cafes_semi_lockdown                          0          0 #> schools_9_10_grade_open_R1                                   0          0 #> shopping_malls_no_loitering                                  0          0 #> outdoor_sports_all_max_50_people_may_2021                    0          0 #> churches_open                                                0          0 #> culture                                                      0          0 #> efterskoler_R0_75                                            0          0 #> high_school_non_senior_year_open_R0_75                       0          0 #> high_school_senior_year_open_R0_75                           0          0 #> indoor_sports_and_association                                0          0 #> remaining_private_companies_phase_4                          0          0 #> schools_5_8_grade_open_R0_75                                 0          0 #> schools_9_10_grade_open_R0_75                                0          0 #> higher_education_non_seniors_50pp_R0_5                       0          0 #> higher_education_seniors_50pp_R0_5                           0          0 #> remaining_private_companies_phase_5                          0          0 #> remaining_public_sector_phase_5                              0          0 #> high_school_non_senior_year_50pp_R0_75                       0          0 #> high_school_senior_year_50pp_R0_75                           0          0 #> schools_9_10_grade_50pp_R0_75                                0          0 #> remaining_private_companies_phase_6                          0          0 #> remaining_public_sector_phase_6                              0          0 #> daycares_summer                                              0          0 #> efterskoler_summer_R1                                        0          0 #> high_school_non_senior_year_summer_R1                        0          0 #> high_school_senior_year_summer_R1                            0          0 #> higher_education_summer                                      0          0 #> remaining_private_companies_summer                           0          0 #> schools_0_4_grade_summer_R1                                  0          0 #> schools_5_8_grade_summer_R1                                  0          0 #> schools_9_10_grade_summer_R1                                 0          0 #> high_school_non_senior_year_open_R1                          0          0 #> remaining_private_companies_open                             0          0 #> schools_5_8_grade_open_R1                                    0          0 #> higher_education_open_R0_5                                   0          0 #> outdoor_sports_all_open                                      0          0 #> schools_0_4_grade_open_R1                                    0          0 #> higher_education_open                                        0          0 #> home_15pp                                                    0          0 #> other_10pp                                                   0          0 #> restaurants_and_cafes_open                                   0          0 #>                                                     2020-05-27 2020-06-08 #> baseline                                                     0          0 #> lockdown_2020                                                1          1 #> daycares_and_schools_phase_1_2020                            1          1 #> private_companies_phase_1_2020                               1          1 #> secondary_education_phase_1_2020                             1          1 #> courts_2020                                                  1          1 #> liberal_professions_2020                                     1          1 #> practices_2020                                               1          1 #> retail_2020                                                  1          1 #> efterskoler_2020                                             1          1 #> misc_education_2020                                          1          1 #> misc_phase_2_2020                                            1          1 #> private_companies_phase_2_2020                               1          1 #> restaurants_and_cafes_2020                                   1          1 #> schools_6_10_grade_2020                                      1          1 #> sports_2020                                                  1          1 #> adult_education_2020                                         1          1 #> culture_2020                                                 1          1 #> dr_tv2_2020                                                  1          1 #> education_2020                                               1          1 #> exams_2020                                                   1          1 #> hojskoler_2020                                               1          1 #> public_research_2020                                         1          1 #> public_sector_2020                                           1          1 #> public_sector_f3p_2020                                       1          1 #> public_sector_f3p_2020B_closing_sep_2020                     1          1 #> public_sector_f3p_2020C_closing_oct_2020                     1          1 #> fitness_2020                                                 0          1 #> indoor_sports_2020                                           0          1 #> indoor_sports_and_association_lockdown                       0          0 #> restaurants_and_cafes_lockdown                               0          0 #> retail_stores_over_1000_sqm_under_5000_sqm_open              0          0 #> retail_stores_under_1000_sqm_open                            0          0 #> churches_lockdown                                            0          0 #> courts                                                       0          0 #> daycares_jan_2021                                            0          0 #> grocery_stores                                               0          0 #> health_sector                                                0          0 #> high_school_non_senior_year_critical                         0          0 #> high_school_senior_year_critical                             0          0 #> higher_education_non_seniors_critical_mar_2021_R0_5          0          0 #> higher_education_seniors_critical_mar_2021_R0_5              0          0 #> home_35pp                                                    0          0 #> outdoor_sports_all_lockdown                                  0          0 #> remaining_private_companies_lockdown                         0          0 #> remaining_public_sector_lockdown                             0          0 #> retail_stores_over_1000_sqm_under_5000_sqm_lockdown          0          0 #> retail_stores_over_5000_sqm_lockdown_mar_2021                0          0 #> retail_stores_under_1000_sqm_lockdown                        0          0 #> schools_0_4_grade_critical                                   0          0 #> schools_5_8_grade_critical_jan_2021                          0          0 #> schools_9_10_grade_critical_jan_2021                         0          0 #> shopping_malls_lockdown                                      0          0 #> daycares_feb_2021                                            0          0 #> remaining_private_companies_phase_1                          0          0 #> retail_stores_over_5000_sqm_lockdown_jan_2021                0          0 #> schools_0_4_grade_open_R0_75                                 0          0 #> schools_9_10_grade_critical_mar_2021                         0          0 #> culture_outdoor_phase_2                                      0          0 #> daycares_open                                                0          0 #> outdoor_sports_all_mar_2021                                  0          0 #> remaining_private_companies_phase_2                          0          0 #> schools_5_8_grade_critical_mar_2021                          0          0 #> efterskoler_R1                                               0          0 #> high_school_senior_year_50pp_R1                              0          0 #> hojskoler_long_stays                                         0          0 #> retail_stores_over_5000_sqm_open                             0          0 #> schools_9_10_grade_50pp_R1                                   0          0 #> outdoor_sports_all_max_50_people_apr_2021                    0          0 #> high_school_non_senior_year_50pp_R1                          0          0 #> higher_education_non_seniors_20pp_R0_5                       0          0 #> higher_education_seniors_20pp_R0_5                           0          0 #> liberal_professions                                          0          0 #> schools_5_8_grade_biweekly_R1                                0          0 #> high_school_senior_year_open_R1                              0          0 #> restaurants_and_cafes_semi_lockdown                          0          0 #> schools_9_10_grade_open_R1                                   0          0 #> shopping_malls_no_loitering                                  0          0 #> outdoor_sports_all_max_50_people_may_2021                    0          0 #> churches_open                                                0          0 #> culture                                                      0          0 #> efterskoler_R0_75                                            0          0 #> high_school_non_senior_year_open_R0_75                       0          0 #> high_school_senior_year_open_R0_75                           0          0 #> indoor_sports_and_association                                0          0 #> remaining_private_companies_phase_4                          0          0 #> schools_5_8_grade_open_R0_75                                 0          0 #> schools_9_10_grade_open_R0_75                                0          0 #> higher_education_non_seniors_50pp_R0_5                       0          0 #> higher_education_seniors_50pp_R0_5                           0          0 #> remaining_private_companies_phase_5                          0          0 #> remaining_public_sector_phase_5                              0          0 #> high_school_non_senior_year_50pp_R0_75                       0          0 #> high_school_senior_year_50pp_R0_75                           0          0 #> schools_9_10_grade_50pp_R0_75                                0          0 #> remaining_private_companies_phase_6                          0          0 #> remaining_public_sector_phase_6                              0          0 #> daycares_summer                                              0          0 #> efterskoler_summer_R1                                        0          0 #> high_school_non_senior_year_summer_R1                        0          0 #> high_school_senior_year_summer_R1                            0          0 #> higher_education_summer                                      0          0 #> remaining_private_companies_summer                           0          0 #> schools_0_4_grade_summer_R1                                  0          0 #> schools_5_8_grade_summer_R1                                  0          0 #> schools_9_10_grade_summer_R1                                 0          0 #> high_school_non_senior_year_open_R1                          0          0 #> remaining_private_companies_open                             0          0 #> schools_5_8_grade_open_R1                                    0          0 #> higher_education_open_R0_5                                   0          0 #> outdoor_sports_all_open                                      0          0 #> schools_0_4_grade_open_R1                                    0          0 #> higher_education_open                                        0          0 #> home_15pp                                                    0          0 #> other_10pp                                                   0          0 #> restaurants_and_cafes_open                                   0          0 #>                                                     2020-09-19 2020-10-26 #> baseline                                                     0          0 #> lockdown_2020                                                1          1 #> daycares_and_schools_phase_1_2020                            1          1 #> private_companies_phase_1_2020                               1          1 #> secondary_education_phase_1_2020                             1          1 #> courts_2020                                                  1          1 #> liberal_professions_2020                                     1          1 #> practices_2020                                               1          1 #> retail_2020                                                  1          1 #> efterskoler_2020                                             1          1 #> misc_education_2020                                          1          1 #> misc_phase_2_2020                                            1          1 #> private_companies_phase_2_2020                               1          1 #> restaurants_and_cafes_2020                                   1          1 #> schools_6_10_grade_2020                                      1          1 #> sports_2020                                                  1          1 #> adult_education_2020                                         1          1 #> culture_2020                                                 1          1 #> dr_tv2_2020                                                  1          1 #> education_2020                                               1          1 #> exams_2020                                                   1          1 #> hojskoler_2020                                               1          1 #> public_research_2020                                         1          1 #> public_sector_2020                                           1          1 #> public_sector_f3p_2020                                       1          1 #> public_sector_f3p_2020B_closing_sep_2020                     0          0 #> public_sector_f3p_2020C_closing_oct_2020                     1          0 #> fitness_2020                                                 1          1 #> indoor_sports_2020                                           1          1 #> indoor_sports_and_association_lockdown                       0          0 #> restaurants_and_cafes_lockdown                               0          0 #> retail_stores_over_1000_sqm_under_5000_sqm_open              0          0 #> retail_stores_under_1000_sqm_open                            0          0 #> churches_lockdown                                            0          0 #> courts                                                       0          0 #> daycares_jan_2021                                            0          0 #> grocery_stores                                               0          0 #> health_sector                                                0          0 #> high_school_non_senior_year_critical                         0          0 #> high_school_senior_year_critical                             0          0 #> higher_education_non_seniors_critical_mar_2021_R0_5          0          0 #> higher_education_seniors_critical_mar_2021_R0_5              0          0 #> home_35pp                                                    0          0 #> outdoor_sports_all_lockdown                                  0          0 #> remaining_private_companies_lockdown                         0          0 #> remaining_public_sector_lockdown                             0          0 #> retail_stores_over_1000_sqm_under_5000_sqm_lockdown          0          0 #> retail_stores_over_5000_sqm_lockdown_mar_2021                0          0 #> retail_stores_under_1000_sqm_lockdown                        0          0 #> schools_0_4_grade_critical                                   0          0 #> schools_5_8_grade_critical_jan_2021                          0          0 #> schools_9_10_grade_critical_jan_2021                         0          0 #> shopping_malls_lockdown                                      0          0 #> daycares_feb_2021                                            0          0 #> remaining_private_companies_phase_1                          0          0 #> retail_stores_over_5000_sqm_lockdown_jan_2021                0          0 #> schools_0_4_grade_open_R0_75                                 0          0 #> schools_9_10_grade_critical_mar_2021                         0          0 #> culture_outdoor_phase_2                                      0          0 #> daycares_open                                                0          0 #> outdoor_sports_all_mar_2021                                  0          0 #> remaining_private_companies_phase_2                          0          0 #> schools_5_8_grade_critical_mar_2021                          0          0 #> efterskoler_R1                                               0          0 #> high_school_senior_year_50pp_R1                              0          0 #> hojskoler_long_stays                                         0          0 #> retail_stores_over_5000_sqm_open                             0          0 #> schools_9_10_grade_50pp_R1                                   0          0 #> outdoor_sports_all_max_50_people_apr_2021                    0          0 #> high_school_non_senior_year_50pp_R1                          0          0 #> higher_education_non_seniors_20pp_R0_5                       0          0 #> higher_education_seniors_20pp_R0_5                           0          0 #> liberal_professions                                          0          0 #> schools_5_8_grade_biweekly_R1                                0          0 #> high_school_senior_year_open_R1                              0          0 #> restaurants_and_cafes_semi_lockdown                          0          0 #> schools_9_10_grade_open_R1                                   0          0 #> shopping_malls_no_loitering                                  0          0 #> outdoor_sports_all_max_50_people_may_2021                    0          0 #> churches_open                                                0          0 #> culture                                                      0          0 #> efterskoler_R0_75                                            0          0 #> high_school_non_senior_year_open_R0_75                       0          0 #> high_school_senior_year_open_R0_75                           0          0 #> indoor_sports_and_association                                0          0 #> remaining_private_companies_phase_4                          0          0 #> schools_5_8_grade_open_R0_75                                 0          0 #> schools_9_10_grade_open_R0_75                                0          0 #> higher_education_non_seniors_50pp_R0_5                       0          0 #> higher_education_seniors_50pp_R0_5                           0          0 #> remaining_private_companies_phase_5                          0          0 #> remaining_public_sector_phase_5                              0          0 #> high_school_non_senior_year_50pp_R0_75                       0          0 #> high_school_senior_year_50pp_R0_75                           0          0 #> schools_9_10_grade_50pp_R0_75                                0          0 #> remaining_private_companies_phase_6                          0          0 #> remaining_public_sector_phase_6                              0          0 #> daycares_summer                                              0          0 #> efterskoler_summer_R1                                        0          0 #> high_school_non_senior_year_summer_R1                        0          0 #> high_school_senior_year_summer_R1                            0          0 #> higher_education_summer                                      0          0 #> remaining_private_companies_summer                           0          0 #> schools_0_4_grade_summer_R1                                  0          0 #> schools_5_8_grade_summer_R1                                  0          0 #> schools_9_10_grade_summer_R1                                 0          0 #> high_school_non_senior_year_open_R1                          0          0 #> remaining_private_companies_open                             0          0 #> schools_5_8_grade_open_R1                                    0          0 #> higher_education_open_R0_5                                   0          0 #> outdoor_sports_all_open                                      0          0 #> schools_0_4_grade_open_R1                                    0          0 #> higher_education_open                                        0          0 #> home_15pp                                                    0          0 #> other_10pp                                                   0          0 #> restaurants_and_cafes_open                                   0          0 #>                                                     2020-12-11 2020-12-17 #> baseline                                                     0          0 #> lockdown_2020                                                1          1 #> daycares_and_schools_phase_1_2020                            1          1 #> private_companies_phase_1_2020                               0          0 #> secondary_education_phase_1_2020                             0          0 #> courts_2020                                                  1          1 #> liberal_professions_2020                                     1          1 #> practices_2020                                               1          1 #> retail_2020                                                  1          0 #> efterskoler_2020                                             1          1 #> misc_education_2020                                          0          0 #> misc_phase_2_2020                                            1          1 #> private_companies_phase_2_2020                               1          1 #> restaurants_and_cafes_2020                                   0          0 #> schools_6_10_grade_2020                                      0          0 #> sports_2020                                                  1          1 #> adult_education_2020                                         0          0 #> culture_2020                                                 0          0 #> dr_tv2_2020                                                  1          1 #> education_2020                                               0          0 #> exams_2020                                                   0          0 #> hojskoler_2020                                               1          1 #> public_research_2020                                         1          1 #> public_sector_2020                                           1          1 #> public_sector_f3p_2020                                       0          0 #> public_sector_f3p_2020B_closing_sep_2020                     0          0 #> public_sector_f3p_2020C_closing_oct_2020                     0          0 #> fitness_2020                                                 0          0 #> indoor_sports_2020                                           0          0 #> indoor_sports_and_association_lockdown                       1          1 #> restaurants_and_cafes_lockdown                               1          1 #> retail_stores_over_1000_sqm_under_5000_sqm_open              0          1 #> retail_stores_under_1000_sqm_open                            0          1 #> churches_lockdown                                            0          0 #> courts                                                       0          0 #> daycares_jan_2021                                            0          0 #> grocery_stores                                               0          0 #> health_sector                                                0          0 #> high_school_non_senior_year_critical                         0          0 #> high_school_senior_year_critical                             0          0 #> higher_education_non_seniors_critical_mar_2021_R0_5          0          0 #> higher_education_seniors_critical_mar_2021_R0_5              0          0 #> home_35pp                                                    0          0 #> outdoor_sports_all_lockdown                                  0          0 #> remaining_private_companies_lockdown                         0          0 #> remaining_public_sector_lockdown                             0          0 #> retail_stores_over_1000_sqm_under_5000_sqm_lockdown          0          0 #> retail_stores_over_5000_sqm_lockdown_mar_2021                0          0 #> retail_stores_under_1000_sqm_lockdown                        0          0 #> schools_0_4_grade_critical                                   0          0 #> schools_5_8_grade_critical_jan_2021                          0          0 #> schools_9_10_grade_critical_jan_2021                         0          0 #> shopping_malls_lockdown                                      0          0 #> daycares_feb_2021                                            0          0 #> remaining_private_companies_phase_1                          0          0 #> retail_stores_over_5000_sqm_lockdown_jan_2021                0          0 #> schools_0_4_grade_open_R0_75                                 0          0 #> schools_9_10_grade_critical_mar_2021                         0          0 #> culture_outdoor_phase_2                                      0          0 #> daycares_open                                                0          0 #> outdoor_sports_all_mar_2021                                  0          0 #> remaining_private_companies_phase_2                          0          0 #> schools_5_8_grade_critical_mar_2021                          0          0 #> efterskoler_R1                                               0          0 #> high_school_senior_year_50pp_R1                              0          0 #> hojskoler_long_stays                                         0          0 #> retail_stores_over_5000_sqm_open                             0          0 #> schools_9_10_grade_50pp_R1                                   0          0 #> outdoor_sports_all_max_50_people_apr_2021                    0          0 #> high_school_non_senior_year_50pp_R1                          0          0 #> higher_education_non_seniors_20pp_R0_5                       0          0 #> higher_education_seniors_20pp_R0_5                           0          0 #> liberal_professions                                          0          0 #> schools_5_8_grade_biweekly_R1                                0          0 #> high_school_senior_year_open_R1                              0          0 #> restaurants_and_cafes_semi_lockdown                          0          0 #> schools_9_10_grade_open_R1                                   0          0 #> shopping_malls_no_loitering                                  0          0 #> outdoor_sports_all_max_50_people_may_2021                    0          0 #> churches_open                                                0          0 #> culture                                                      0          0 #> efterskoler_R0_75                                            0          0 #> high_school_non_senior_year_open_R0_75                       0          0 #> high_school_senior_year_open_R0_75                           0          0 #> indoor_sports_and_association                                0          0 #> remaining_private_companies_phase_4                          0          0 #> schools_5_8_grade_open_R0_75                                 0          0 #> schools_9_10_grade_open_R0_75                                0          0 #> higher_education_non_seniors_50pp_R0_5                       0          0 #> higher_education_seniors_50pp_R0_5                           0          0 #> remaining_private_companies_phase_5                          0          0 #> remaining_public_sector_phase_5                              0          0 #> high_school_non_senior_year_50pp_R0_75                       0          0 #> high_school_senior_year_50pp_R0_75                           0          0 #> schools_9_10_grade_50pp_R0_75                                0          0 #> remaining_private_companies_phase_6                          0          0 #> remaining_public_sector_phase_6                              0          0 #> daycares_summer                                              0          0 #> efterskoler_summer_R1                                        0          0 #> high_school_non_senior_year_summer_R1                        0          0 #> high_school_senior_year_summer_R1                            0          0 #> higher_education_summer                                      0          0 #> remaining_private_companies_summer                           0          0 #> schools_0_4_grade_summer_R1                                  0          0 #> schools_5_8_grade_summer_R1                                  0          0 #> schools_9_10_grade_summer_R1                                 0          0 #> high_school_non_senior_year_open_R1                          0          0 #> remaining_private_companies_open                             0          0 #> schools_5_8_grade_open_R1                                    0          0 #> higher_education_open_R0_5                                   0          0 #> outdoor_sports_all_open                                      0          0 #> schools_0_4_grade_open_R1                                    0          0 #> higher_education_open                                        0          0 #> home_15pp                                                    0          0 #> other_10pp                                                   0          0 #> restaurants_and_cafes_open                                   0          0 #>                                                     2020-12-21 2020-12-25 #> baseline                                                     0          0 #> lockdown_2020                                                1          1 #> daycares_and_schools_phase_1_2020                            0          0 #> private_companies_phase_1_2020                               0          0 #> secondary_education_phase_1_2020                             0          0 #> courts_2020                                                  1          1 #> liberal_professions_2020                                     0          0 #> practices_2020                                               1          1 #> retail_2020                                                  0          0 #> efterskoler_2020                                             0          0 #> misc_education_2020                                          0          0 #> misc_phase_2_2020                                            1          1 #> private_companies_phase_2_2020                               1          1 #> restaurants_and_cafes_2020                                   0          0 #> schools_6_10_grade_2020                                      0          0 #> sports_2020                                                  1          1 #> adult_education_2020                                         0          0 #> culture_2020                                                 0          0 #> dr_tv2_2020                                                  1          1 #> education_2020                                               0          0 #> exams_2020                                                   0          0 #> hojskoler_2020                                               0          0 #> public_research_2020                                         1          1 #> public_sector_2020                                           1          1 #> public_sector_f3p_2020                                       0          0 #> public_sector_f3p_2020B_closing_sep_2020                     0          0 #> public_sector_f3p_2020C_closing_oct_2020                     0          0 #> fitness_2020                                                 0          0 #> indoor_sports_2020                                           0          0 #> indoor_sports_and_association_lockdown                       1          1 #> restaurants_and_cafes_lockdown                               1          1 #> retail_stores_over_1000_sqm_under_5000_sqm_open              1          0 #> retail_stores_under_1000_sqm_open                            1          0 #> churches_lockdown                                            0          0 #> courts                                                       0          0 #> daycares_jan_2021                                            0          0 #> grocery_stores                                               0          0 #> health_sector                                                0          0 #> high_school_non_senior_year_critical                         0          0 #> high_school_senior_year_critical                             0          0 #> higher_education_non_seniors_critical_mar_2021_R0_5          0          0 #> higher_education_seniors_critical_mar_2021_R0_5              0          0 #> home_35pp                                                    0          0 #> outdoor_sports_all_lockdown                                  0          0 #> remaining_private_companies_lockdown                         0          0 #> remaining_public_sector_lockdown                             0          0 #> retail_stores_over_1000_sqm_under_5000_sqm_lockdown          0          0 #> retail_stores_over_5000_sqm_lockdown_mar_2021                0          0 #> retail_stores_under_1000_sqm_lockdown                        0          0 #> schools_0_4_grade_critical                                   0          0 #> schools_5_8_grade_critical_jan_2021                          0          0 #> schools_9_10_grade_critical_jan_2021                         0          0 #> shopping_malls_lockdown                                      0          0 #> daycares_feb_2021                                            0          0 #> remaining_private_companies_phase_1                          0          0 #> retail_stores_over_5000_sqm_lockdown_jan_2021                0          0 #> schools_0_4_grade_open_R0_75                                 0          0 #> schools_9_10_grade_critical_mar_2021                         0          0 #> culture_outdoor_phase_2                                      0          0 #> daycares_open                                                0          0 #> outdoor_sports_all_mar_2021                                  0          0 #> remaining_private_companies_phase_2                          0          0 #> schools_5_8_grade_critical_mar_2021                          0          0 #> efterskoler_R1                                               0          0 #> high_school_senior_year_50pp_R1                              0          0 #> hojskoler_long_stays                                         0          0 #> retail_stores_over_5000_sqm_open                             0          0 #> schools_9_10_grade_50pp_R1                                   0          0 #> outdoor_sports_all_max_50_people_apr_2021                    0          0 #> high_school_non_senior_year_50pp_R1                          0          0 #> higher_education_non_seniors_20pp_R0_5                       0          0 #> higher_education_seniors_20pp_R0_5                           0          0 #> liberal_professions                                          0          0 #> schools_5_8_grade_biweekly_R1                                0          0 #> high_school_senior_year_open_R1                              0          0 #> restaurants_and_cafes_semi_lockdown                          0          0 #> schools_9_10_grade_open_R1                                   0          0 #> shopping_malls_no_loitering                                  0          0 #> outdoor_sports_all_max_50_people_may_2021                    0          0 #> churches_open                                                0          0 #> culture                                                      0          0 #> efterskoler_R0_75                                            0          0 #> high_school_non_senior_year_open_R0_75                       0          0 #> high_school_senior_year_open_R0_75                           0          0 #> indoor_sports_and_association                                0          0 #> remaining_private_companies_phase_4                          0          0 #> schools_5_8_grade_open_R0_75                                 0          0 #> schools_9_10_grade_open_R0_75                                0          0 #> higher_education_non_seniors_50pp_R0_5                       0          0 #> higher_education_seniors_50pp_R0_5                           0          0 #> remaining_private_companies_phase_5                          0          0 #> remaining_public_sector_phase_5                              0          0 #> high_school_non_senior_year_50pp_R0_75                       0          0 #> high_school_senior_year_50pp_R0_75                           0          0 #> schools_9_10_grade_50pp_R0_75                                0          0 #> remaining_private_companies_phase_6                          0          0 #> remaining_public_sector_phase_6                              0          0 #> daycares_summer                                              0          0 #> efterskoler_summer_R1                                        0          0 #> high_school_non_senior_year_summer_R1                        0          0 #> high_school_senior_year_summer_R1                            0          0 #> higher_education_summer                                      0          0 #> remaining_private_companies_summer                           0          0 #> schools_0_4_grade_summer_R1                                  0          0 #> schools_5_8_grade_summer_R1                                  0          0 #> schools_9_10_grade_summer_R1                                 0          0 #> high_school_non_senior_year_open_R1                          0          0 #> remaining_private_companies_open                             0          0 #> schools_5_8_grade_open_R1                                    0          0 #> higher_education_open_R0_5                                   0          0 #> outdoor_sports_all_open                                      0          0 #> schools_0_4_grade_open_R1                                    0          0 #> higher_education_open                                        0          0 #> home_15pp                                                    0          0 #> other_10pp                                                   0          0 #> restaurants_and_cafes_open                                   0          0 #>                                                     2021-01-06 2021-02-08 #> baseline                                                     0          0 #> lockdown_2020                                                0          0 #> daycares_and_schools_phase_1_2020                            0          0 #> private_companies_phase_1_2020                               0          0 #> secondary_education_phase_1_2020                             0          0 #> courts_2020                                                  0          0 #> liberal_professions_2020                                     0          0 #> practices_2020                                               0          0 #> retail_2020                                                  0          0 #> efterskoler_2020                                             0          0 #> misc_education_2020                                          0          0 #> misc_phase_2_2020                                            0          0 #> private_companies_phase_2_2020                               0          0 #> restaurants_and_cafes_2020                                   0          0 #> schools_6_10_grade_2020                                      0          0 #> sports_2020                                                  0          0 #> adult_education_2020                                         0          0 #> culture_2020                                                 0          0 #> dr_tv2_2020                                                  0          0 #> education_2020                                               0          0 #> exams_2020                                                   0          0 #> hojskoler_2020                                               0          0 #> public_research_2020                                         0          0 #> public_sector_2020                                           0          0 #> public_sector_f3p_2020                                       0          0 #> public_sector_f3p_2020B_closing_sep_2020                     0          0 #> public_sector_f3p_2020C_closing_oct_2020                     0          0 #> fitness_2020                                                 0          0 #> indoor_sports_2020                                           0          0 #> indoor_sports_and_association_lockdown                       1          1 #> restaurants_and_cafes_lockdown                               1          1 #> retail_stores_over_1000_sqm_under_5000_sqm_open              0          0 #> retail_stores_under_1000_sqm_open                            0          0 #> churches_lockdown                                            1          1 #> courts                                                       1          1 #> daycares_jan_2021                                            1          0 #> grocery_stores                                               1          1 #> health_sector                                                1          1 #> high_school_non_senior_year_critical                         1          1 #> high_school_senior_year_critical                             1          1 #> higher_education_non_seniors_critical_mar_2021_R0_5          1          1 #> higher_education_seniors_critical_mar_2021_R0_5              1          1 #> home_35pp                                                    1          1 #> outdoor_sports_all_lockdown                                  1          1 #> remaining_private_companies_lockdown                         1          0 #> remaining_public_sector_lockdown                             1          1 #> retail_stores_over_1000_sqm_under_5000_sqm_lockdown          1          1 #> retail_stores_over_5000_sqm_lockdown_mar_2021                1          0 #> retail_stores_under_1000_sqm_lockdown                        1          1 #> schools_0_4_grade_critical                                   1          0 #> schools_5_8_grade_critical_jan_2021                          1          1 #> schools_9_10_grade_critical_jan_2021                         1          0 #> shopping_malls_lockdown                                      1          1 #> daycares_feb_2021                                            0          1 #> remaining_private_companies_phase_1                          0          1 #> retail_stores_over_5000_sqm_lockdown_jan_2021                0          1 #> schools_0_4_grade_open_R0_75                                 0          1 #> schools_9_10_grade_critical_mar_2021                         0          1 #> culture_outdoor_phase_2                                      0          0 #> daycares_open                                                0          0 #> outdoor_sports_all_mar_2021                                  0          0 #> remaining_private_companies_phase_2                          0          0 #> schools_5_8_grade_critical_mar_2021                          0          0 #> efterskoler_R1                                               0          0 #> high_school_senior_year_50pp_R1                              0          0 #> hojskoler_long_stays                                         0          0 #> retail_stores_over_5000_sqm_open                             0          0 #> schools_9_10_grade_50pp_R1                                   0          0 #> outdoor_sports_all_max_50_people_apr_2021                    0          0 #> high_school_non_senior_year_50pp_R1                          0          0 #> higher_education_non_seniors_20pp_R0_5                       0          0 #> higher_education_seniors_20pp_R0_5                           0          0 #> liberal_professions                                          0          0 #> schools_5_8_grade_biweekly_R1                                0          0 #> high_school_senior_year_open_R1                              0          0 #> restaurants_and_cafes_semi_lockdown                          0          0 #> schools_9_10_grade_open_R1                                   0          0 #> shopping_malls_no_loitering                                  0          0 #> outdoor_sports_all_max_50_people_may_2021                    0          0 #> churches_open                                                0          0 #> culture                                                      0          0 #> efterskoler_R0_75                                            0          0 #> high_school_non_senior_year_open_R0_75                       0          0 #> high_school_senior_year_open_R0_75                           0          0 #> indoor_sports_and_association                                0          0 #> remaining_private_companies_phase_4                          0          0 #> schools_5_8_grade_open_R0_75                                 0          0 #> schools_9_10_grade_open_R0_75                                0          0 #> higher_education_non_seniors_50pp_R0_5                       0          0 #> higher_education_seniors_50pp_R0_5                           0          0 #> remaining_private_companies_phase_5                          0          0 #> remaining_public_sector_phase_5                              0          0 #> high_school_non_senior_year_50pp_R0_75                       0          0 #> high_school_senior_year_50pp_R0_75                           0          0 #> schools_9_10_grade_50pp_R0_75                                0          0 #> remaining_private_companies_phase_6                          0          0 #> remaining_public_sector_phase_6                              0          0 #> daycares_summer                                              0          0 #> efterskoler_summer_R1                                        0          0 #> high_school_non_senior_year_summer_R1                        0          0 #> high_school_senior_year_summer_R1                            0          0 #> higher_education_summer                                      0          0 #> remaining_private_companies_summer                           0          0 #> schools_0_4_grade_summer_R1                                  0          0 #> schools_5_8_grade_summer_R1                                  0          0 #> schools_9_10_grade_summer_R1                                 0          0 #> high_school_non_senior_year_open_R1                          0          0 #> remaining_private_companies_open                             0          0 #> schools_5_8_grade_open_R1                                    0          0 #> higher_education_open_R0_5                                   0          0 #> outdoor_sports_all_open                                      0          0 #> schools_0_4_grade_open_R1                                    0          0 #> higher_education_open                                        0          0 #> home_15pp                                                    0          0 #> other_10pp                                                   0          0 #> restaurants_and_cafes_open                                   0          0 #>                                                     2021-03-01 2021-03-15 #> baseline                                                     0          0 #> lockdown_2020                                                0          0 #> daycares_and_schools_phase_1_2020                            0          0 #> private_companies_phase_1_2020                               0          0 #> secondary_education_phase_1_2020                             0          0 #> courts_2020                                                  0          0 #> liberal_professions_2020                                     0          0 #> practices_2020                                               0          0 #> retail_2020                                                  0          0 #> efterskoler_2020                                             0          0 #> misc_education_2020                                          0          0 #> misc_phase_2_2020                                            0          0 #> private_companies_phase_2_2020                               0          0 #> restaurants_and_cafes_2020                                   0          0 #> schools_6_10_grade_2020                                      0          0 #> sports_2020                                                  0          0 #> adult_education_2020                                         0          0 #> culture_2020                                                 0          0 #> dr_tv2_2020                                                  0          0 #> education_2020                                               0          0 #> exams_2020                                                   0          0 #> hojskoler_2020                                               0          0 #> public_research_2020                                         0          0 #> public_sector_2020                                           0          0 #> public_sector_f3p_2020                                       0          0 #> public_sector_f3p_2020B_closing_sep_2020                     0          0 #> public_sector_f3p_2020C_closing_oct_2020                     0          0 #> fitness_2020                                                 0          0 #> indoor_sports_2020                                           0          0 #> indoor_sports_and_association_lockdown                       1          1 #> restaurants_and_cafes_lockdown                               1          1 #> retail_stores_over_1000_sqm_under_5000_sqm_open              1          1 #> retail_stores_under_1000_sqm_open                            1          1 #> churches_lockdown                                            1          1 #> courts                                                       1          1 #> daycares_jan_2021                                            0          0 #> grocery_stores                                               1          1 #> health_sector                                                1          1 #> high_school_non_senior_year_critical                         1          1 #> high_school_senior_year_critical                             1          0 #> higher_education_non_seniors_critical_mar_2021_R0_5          1          1 #> higher_education_seniors_critical_mar_2021_R0_5              1          1 #> home_35pp                                                    1          1 #> outdoor_sports_all_lockdown                                  0          0 #> remaining_private_companies_lockdown                         0          0 #> remaining_public_sector_lockdown                             1          1 #> retail_stores_over_1000_sqm_under_5000_sqm_lockdown          0          0 #> retail_stores_over_5000_sqm_lockdown_mar_2021                1          0 #> retail_stores_under_1000_sqm_lockdown                        0          0 #> schools_0_4_grade_critical                                   0          0 #> schools_5_8_grade_critical_jan_2021                          0          0 #> schools_9_10_grade_critical_jan_2021                         0          0 #> shopping_malls_lockdown                                      1          1 #> daycares_feb_2021                                            0          0 #> remaining_private_companies_phase_1                          0          0 #> retail_stores_over_5000_sqm_lockdown_jan_2021                0          0 #> schools_0_4_grade_open_R0_75                                 1          1 #> schools_9_10_grade_critical_mar_2021                         1          0 #> culture_outdoor_phase_2                                      1          1 #> daycares_open                                                1          1 #> outdoor_sports_all_mar_2021                                  1          1 #> remaining_private_companies_phase_2                          1          1 #> schools_5_8_grade_critical_mar_2021                          1          1 #> efterskoler_R1                                               0          1 #> high_school_senior_year_50pp_R1                              0          1 #> hojskoler_long_stays                                         0          1 #> retail_stores_over_5000_sqm_open                             0          1 #> schools_9_10_grade_50pp_R1                                   0          1 #> outdoor_sports_all_max_50_people_apr_2021                    0          0 #> high_school_non_senior_year_50pp_R1                          0          0 #> higher_education_non_seniors_20pp_R0_5                       0          0 #> higher_education_seniors_20pp_R0_5                           0          0 #> liberal_professions                                          0          0 #> schools_5_8_grade_biweekly_R1                                0          0 #> high_school_senior_year_open_R1                              0          0 #> restaurants_and_cafes_semi_lockdown                          0          0 #> schools_9_10_grade_open_R1                                   0          0 #> shopping_malls_no_loitering                                  0          0 #> outdoor_sports_all_max_50_people_may_2021                    0          0 #> churches_open                                                0          0 #> culture                                                      0          0 #> efterskoler_R0_75                                            0          0 #> high_school_non_senior_year_open_R0_75                       0          0 #> high_school_senior_year_open_R0_75                           0          0 #> indoor_sports_and_association                                0          0 #> remaining_private_companies_phase_4                          0          0 #> schools_5_8_grade_open_R0_75                                 0          0 #> schools_9_10_grade_open_R0_75                                0          0 #> higher_education_non_seniors_50pp_R0_5                       0          0 #> higher_education_seniors_50pp_R0_5                           0          0 #> remaining_private_companies_phase_5                          0          0 #> remaining_public_sector_phase_5                              0          0 #> high_school_non_senior_year_50pp_R0_75                       0          0 #> high_school_senior_year_50pp_R0_75                           0          0 #> schools_9_10_grade_50pp_R0_75                                0          0 #> remaining_private_companies_phase_6                          0          0 #> remaining_public_sector_phase_6                              0          0 #> daycares_summer                                              0          0 #> efterskoler_summer_R1                                        0          0 #> high_school_non_senior_year_summer_R1                        0          0 #> high_school_senior_year_summer_R1                            0          0 #> higher_education_summer                                      0          0 #> remaining_private_companies_summer                           0          0 #> schools_0_4_grade_summer_R1                                  0          0 #> schools_5_8_grade_summer_R1                                  0          0 #> schools_9_10_grade_summer_R1                                 0          0 #> high_school_non_senior_year_open_R1                          0          0 #> remaining_private_companies_open                             0          0 #> schools_5_8_grade_open_R1                                    0          0 #> higher_education_open_R0_5                                   0          0 #> outdoor_sports_all_open                                      0          0 #> schools_0_4_grade_open_R1                                    0          0 #> higher_education_open                                        0          0 #> home_15pp                                                    0          0 #> other_10pp                                                   0          0 #> restaurants_and_cafes_open                                   0          0 #>                                                     2021-04-01 2021-04-06 #> baseline                                                     0          0 #> lockdown_2020                                                0          0 #> daycares_and_schools_phase_1_2020                            0          0 #> private_companies_phase_1_2020                               0          0 #> secondary_education_phase_1_2020                             0          0 #> courts_2020                                                  0          0 #> liberal_professions_2020                                     0          0 #> practices_2020                                               0          0 #> retail_2020                                                  0          0 #> efterskoler_2020                                             0          0 #> misc_education_2020                                          0          0 #> misc_phase_2_2020                                            0          0 #> private_companies_phase_2_2020                               0          0 #> restaurants_and_cafes_2020                                   0          0 #> schools_6_10_grade_2020                                      0          0 #> sports_2020                                                  0          0 #> adult_education_2020                                         0          0 #> culture_2020                                                 0          0 #> dr_tv2_2020                                                  0          0 #> education_2020                                               0          0 #> exams_2020                                                   0          0 #> hojskoler_2020                                               0          0 #> public_research_2020                                         0          0 #> public_sector_2020                                           0          0 #> public_sector_f3p_2020                                       0          0 #> public_sector_f3p_2020B_closing_sep_2020                     0          0 #> public_sector_f3p_2020C_closing_oct_2020                     0          0 #> fitness_2020                                                 0          0 #> indoor_sports_2020                                           0          0 #> indoor_sports_and_association_lockdown                       1          1 #> restaurants_and_cafes_lockdown                               1          1 #> retail_stores_over_1000_sqm_under_5000_sqm_open              1          1 #> retail_stores_under_1000_sqm_open                            1          1 #> churches_lockdown                                            1          1 #> courts                                                       1          1 #> daycares_jan_2021                                            0          0 #> grocery_stores                                               1          1 #> health_sector                                                1          1 #> high_school_non_senior_year_critical                         1          0 #> high_school_senior_year_critical                             0          0 #> higher_education_non_seniors_critical_mar_2021_R0_5          1          0 #> higher_education_seniors_critical_mar_2021_R0_5              1          0 #> home_35pp                                                    1          1 #> outdoor_sports_all_lockdown                                  0          0 #> remaining_private_companies_lockdown                         0          0 #> remaining_public_sector_lockdown                             1          1 #> retail_stores_over_1000_sqm_under_5000_sqm_lockdown          0          0 #> retail_stores_over_5000_sqm_lockdown_mar_2021                0          0 #> retail_stores_under_1000_sqm_lockdown                        0          0 #> schools_0_4_grade_critical                                   0          0 #> schools_5_8_grade_critical_jan_2021                          0          0 #> schools_9_10_grade_critical_jan_2021                         0          0 #> shopping_malls_lockdown                                      1          1 #> daycares_feb_2021                                            0          0 #> remaining_private_companies_phase_1                          0          0 #> retail_stores_over_5000_sqm_lockdown_jan_2021                0          0 #> schools_0_4_grade_open_R0_75                                 1          1 #> schools_9_10_grade_critical_mar_2021                         0          0 #> culture_outdoor_phase_2                                      1          1 #> daycares_open                                                1          1 #> outdoor_sports_all_mar_2021                                  0          0 #> remaining_private_companies_phase_2                          1          1 #> schools_5_8_grade_critical_mar_2021                          1          0 #> efterskoler_R1                                               1          1 #> high_school_senior_year_50pp_R1                              1          1 #> hojskoler_long_stays                                         1          1 #> retail_stores_over_5000_sqm_open                             1          1 #> schools_9_10_grade_50pp_R1                                   1          1 #> outdoor_sports_all_max_50_people_apr_2021                    1          1 #> high_school_non_senior_year_50pp_R1                          0          1 #> higher_education_non_seniors_20pp_R0_5                       0          1 #> higher_education_seniors_20pp_R0_5                           0          1 #> liberal_professions                                          0          1 #> schools_5_8_grade_biweekly_R1                                0          1 #> high_school_senior_year_open_R1                              0          0 #> restaurants_and_cafes_semi_lockdown                          0          0 #> schools_9_10_grade_open_R1                                   0          0 #> shopping_malls_no_loitering                                  0          0 #> outdoor_sports_all_max_50_people_may_2021                    0          0 #> churches_open                                                0          0 #> culture                                                      0          0 #> efterskoler_R0_75                                            0          0 #> high_school_non_senior_year_open_R0_75                       0          0 #> high_school_senior_year_open_R0_75                           0          0 #> indoor_sports_and_association                                0          0 #> remaining_private_companies_phase_4                          0          0 #> schools_5_8_grade_open_R0_75                                 0          0 #> schools_9_10_grade_open_R0_75                                0          0 #> higher_education_non_seniors_50pp_R0_5                       0          0 #> higher_education_seniors_50pp_R0_5                           0          0 #> remaining_private_companies_phase_5                          0          0 #> remaining_public_sector_phase_5                              0          0 #> high_school_non_senior_year_50pp_R0_75                       0          0 #> high_school_senior_year_50pp_R0_75                           0          0 #> schools_9_10_grade_50pp_R0_75                                0          0 #> remaining_private_companies_phase_6                          0          0 #> remaining_public_sector_phase_6                              0          0 #> daycares_summer                                              0          0 #> efterskoler_summer_R1                                        0          0 #> high_school_non_senior_year_summer_R1                        0          0 #> high_school_senior_year_summer_R1                            0          0 #> higher_education_summer                                      0          0 #> remaining_private_companies_summer                           0          0 #> schools_0_4_grade_summer_R1                                  0          0 #> schools_5_8_grade_summer_R1                                  0          0 #> schools_9_10_grade_summer_R1                                 0          0 #> high_school_non_senior_year_open_R1                          0          0 #> remaining_private_companies_open                             0          0 #> schools_5_8_grade_open_R1                                    0          0 #> higher_education_open_R0_5                                   0          0 #> outdoor_sports_all_open                                      0          0 #> schools_0_4_grade_open_R1                                    0          0 #> higher_education_open                                        0          0 #> home_15pp                                                    0          0 #> other_10pp                                                   0          0 #> restaurants_and_cafes_open                                   0          0 #>                                                     2021-04-21 2021-05-01 #> baseline                                                     0          0 #> lockdown_2020                                                0          0 #> daycares_and_schools_phase_1_2020                            0          0 #> private_companies_phase_1_2020                               0          0 #> secondary_education_phase_1_2020                             0          0 #> courts_2020                                                  0          0 #> liberal_professions_2020                                     0          0 #> practices_2020                                               0          0 #> retail_2020                                                  0          0 #> efterskoler_2020                                             0          0 #> misc_education_2020                                          0          0 #> misc_phase_2_2020                                            0          0 #> private_companies_phase_2_2020                               0          0 #> restaurants_and_cafes_2020                                   0          0 #> schools_6_10_grade_2020                                      0          0 #> sports_2020                                                  0          0 #> adult_education_2020                                         0          0 #> culture_2020                                                 0          0 #> dr_tv2_2020                                                  0          0 #> education_2020                                               0          0 #> exams_2020                                                   0          0 #> hojskoler_2020                                               0          0 #> public_research_2020                                         0          0 #> public_sector_2020                                           0          0 #> public_sector_f3p_2020                                       0          0 #> public_sector_f3p_2020B_closing_sep_2020                     0          0 #> public_sector_f3p_2020C_closing_oct_2020                     0          0 #> fitness_2020                                                 0          0 #> indoor_sports_2020                                           0          0 #> indoor_sports_and_association_lockdown                       1          1 #> restaurants_and_cafes_lockdown                               0          0 #> retail_stores_over_1000_sqm_under_5000_sqm_open              1          1 #> retail_stores_under_1000_sqm_open                            1          1 #> churches_lockdown                                            1          1 #> courts                                                       1          1 #> daycares_jan_2021                                            0          0 #> grocery_stores                                               1          1 #> health_sector                                                1          1 #> high_school_non_senior_year_critical                         0          0 #> high_school_senior_year_critical                             0          0 #> higher_education_non_seniors_critical_mar_2021_R0_5          0          0 #> higher_education_seniors_critical_mar_2021_R0_5              0          0 #> home_35pp                                                    1          1 #> outdoor_sports_all_lockdown                                  0          0 #> remaining_private_companies_lockdown                         0          0 #> remaining_public_sector_lockdown                             1          1 #> retail_stores_over_1000_sqm_under_5000_sqm_lockdown          0          0 #> retail_stores_over_5000_sqm_lockdown_mar_2021                0          0 #> retail_stores_under_1000_sqm_lockdown                        0          0 #> schools_0_4_grade_critical                                   0          0 #> schools_5_8_grade_critical_jan_2021                          0          0 #> schools_9_10_grade_critical_jan_2021                         0          0 #> shopping_malls_lockdown                                      1          1 #> daycares_feb_2021                                            0          0 #> remaining_private_companies_phase_1                          0          0 #> retail_stores_over_5000_sqm_lockdown_jan_2021                0          0 #> schools_0_4_grade_open_R0_75                                 1          1 #> schools_9_10_grade_critical_mar_2021                         0          0 #> culture_outdoor_phase_2                                      1          1 #> daycares_open                                                1          1 #> outdoor_sports_all_mar_2021                                  0          0 #> remaining_private_companies_phase_2                          1          1 #> schools_5_8_grade_critical_mar_2021                          0          0 #> efterskoler_R1                                               1          1 #> high_school_senior_year_50pp_R1                              0          0 #> hojskoler_long_stays                                         1          1 #> retail_stores_over_5000_sqm_open                             1          1 #> schools_9_10_grade_50pp_R1                                   0          0 #> outdoor_sports_all_max_50_people_apr_2021                    1          0 #> high_school_non_senior_year_50pp_R1                          1          1 #> higher_education_non_seniors_20pp_R0_5                       1          1 #> higher_education_seniors_20pp_R0_5                           1          1 #> liberal_professions                                          1          1 #> schools_5_8_grade_biweekly_R1                                1          1 #> high_school_senior_year_open_R1                              1          1 #> restaurants_and_cafes_semi_lockdown                          1          1 #> schools_9_10_grade_open_R1                                   1          1 #> shopping_malls_no_loitering                                  1          1 #> outdoor_sports_all_max_50_people_may_2021                    0          1 #> churches_open                                                0          0 #> culture                                                      0          0 #> efterskoler_R0_75                                            0          0 #> high_school_non_senior_year_open_R0_75                       0          0 #> high_school_senior_year_open_R0_75                           0          0 #> indoor_sports_and_association                                0          0 #> remaining_private_companies_phase_4                          0          0 #> schools_5_8_grade_open_R0_75                                 0          0 #> schools_9_10_grade_open_R0_75                                0          0 #> higher_education_non_seniors_50pp_R0_5                       0          0 #> higher_education_seniors_50pp_R0_5                           0          0 #> remaining_private_companies_phase_5                          0          0 #> remaining_public_sector_phase_5                              0          0 #> high_school_non_senior_year_50pp_R0_75                       0          0 #> high_school_senior_year_50pp_R0_75                           0          0 #> schools_9_10_grade_50pp_R0_75                                0          0 #> remaining_private_companies_phase_6                          0          0 #> remaining_public_sector_phase_6                              0          0 #> daycares_summer                                              0          0 #> efterskoler_summer_R1                                        0          0 #> high_school_non_senior_year_summer_R1                        0          0 #> high_school_senior_year_summer_R1                            0          0 #> higher_education_summer                                      0          0 #> remaining_private_companies_summer                           0          0 #> schools_0_4_grade_summer_R1                                  0          0 #> schools_5_8_grade_summer_R1                                  0          0 #> schools_9_10_grade_summer_R1                                 0          0 #> high_school_non_senior_year_open_R1                          0          0 #> remaining_private_companies_open                             0          0 #> schools_5_8_grade_open_R1                                    0          0 #> higher_education_open_R0_5                                   0          0 #> outdoor_sports_all_open                                      0          0 #> schools_0_4_grade_open_R1                                    0          0 #> higher_education_open                                        0          0 #> home_15pp                                                    0          0 #> other_10pp                                                   0          0 #> restaurants_and_cafes_open                                   0          0 #>                                                     2021-05-06 2021-05-21 #> baseline                                                     0          0 #> lockdown_2020                                                0          0 #> daycares_and_schools_phase_1_2020                            0          0 #> private_companies_phase_1_2020                               0          0 #> secondary_education_phase_1_2020                             0          0 #> courts_2020                                                  0          0 #> liberal_professions_2020                                     0          0 #> practices_2020                                               0          0 #> retail_2020                                                  0          0 #> efterskoler_2020                                             0          0 #> misc_education_2020                                          0          0 #> misc_phase_2_2020                                            0          0 #> private_companies_phase_2_2020                               0          0 #> restaurants_and_cafes_2020                                   0          0 #> schools_6_10_grade_2020                                      0          0 #> sports_2020                                                  0          0 #> adult_education_2020                                         0          0 #> culture_2020                                                 0          0 #> dr_tv2_2020                                                  0          0 #> education_2020                                               0          0 #> exams_2020                                                   0          0 #> hojskoler_2020                                               0          0 #> public_research_2020                                         0          0 #> public_sector_2020                                           0          0 #> public_sector_f3p_2020                                       0          0 #> public_sector_f3p_2020B_closing_sep_2020                     0          0 #> public_sector_f3p_2020C_closing_oct_2020                     0          0 #> fitness_2020                                                 0          0 #> indoor_sports_2020                                           0          0 #> indoor_sports_and_association_lockdown                       0          0 #> restaurants_and_cafes_lockdown                               0          0 #> retail_stores_over_1000_sqm_under_5000_sqm_open              1          1 #> retail_stores_under_1000_sqm_open                            1          1 #> churches_lockdown                                            0          0 #> courts                                                       1          1 #> daycares_jan_2021                                            0          0 #> grocery_stores                                               1          1 #> health_sector                                                1          1 #> high_school_non_senior_year_critical                         0          0 #> high_school_senior_year_critical                             0          0 #> higher_education_non_seniors_critical_mar_2021_R0_5          0          0 #> higher_education_seniors_critical_mar_2021_R0_5              0          0 #> home_35pp                                                    1          1 #> outdoor_sports_all_lockdown                                  0          0 #> remaining_private_companies_lockdown                         0          0 #> remaining_public_sector_lockdown                             1          0 #> retail_stores_over_1000_sqm_under_5000_sqm_lockdown          0          0 #> retail_stores_over_5000_sqm_lockdown_mar_2021                0          0 #> retail_stores_under_1000_sqm_lockdown                        0          0 #> schools_0_4_grade_critical                                   0          0 #> schools_5_8_grade_critical_jan_2021                          0          0 #> schools_9_10_grade_critical_jan_2021                         0          0 #> shopping_malls_lockdown                                      1          1 #> daycares_feb_2021                                            0          0 #> remaining_private_companies_phase_1                          0          0 #> retail_stores_over_5000_sqm_lockdown_jan_2021                0          0 #> schools_0_4_grade_open_R0_75                                 1          1 #> schools_9_10_grade_critical_mar_2021                         0          0 #> culture_outdoor_phase_2                                      1          1 #> daycares_open                                                1          1 #> outdoor_sports_all_mar_2021                                  0          0 #> remaining_private_companies_phase_2                          0          0 #> schools_5_8_grade_critical_mar_2021                          0          0 #> efterskoler_R1                                               0          0 #> high_school_senior_year_50pp_R1                              0          0 #> hojskoler_long_stays                                         1          1 #> retail_stores_over_5000_sqm_open                             1          1 #> schools_9_10_grade_50pp_R1                                   0          0 #> outdoor_sports_all_max_50_people_apr_2021                    0          0 #> high_school_non_senior_year_50pp_R1                          0          0 #> higher_education_non_seniors_20pp_R0_5                       1          0 #> higher_education_seniors_20pp_R0_5                           1          0 #> liberal_professions                                          1          1 #> schools_5_8_grade_biweekly_R1                                0          0 #> high_school_senior_year_open_R1                              0          0 #> restaurants_and_cafes_semi_lockdown                          1          1 #> schools_9_10_grade_open_R1                                   0          0 #> shopping_malls_no_loitering                                  1          1 #> outdoor_sports_all_max_50_people_may_2021                    1          1 #> churches_open                                                1          1 #> culture                                                      1          1 #> efterskoler_R0_75                                            1          1 #> high_school_non_senior_year_open_R0_75                       1          1 #> high_school_senior_year_open_R0_75                           1          1 #> indoor_sports_and_association                                1          1 #> remaining_private_companies_phase_4                          1          0 #> schools_5_8_grade_open_R0_75                                 1          1 #> schools_9_10_grade_open_R0_75                                1          1 #> higher_education_non_seniors_50pp_R0_5                       0          1 #> higher_education_seniors_50pp_R0_5                           0          1 #> remaining_private_companies_phase_5                          0          1 #> remaining_public_sector_phase_5                              0          1 #> high_school_non_senior_year_50pp_R0_75                       0          0 #> high_school_senior_year_50pp_R0_75                           0          0 #> schools_9_10_grade_50pp_R0_75                                0          0 #> remaining_private_companies_phase_6                          0          0 #> remaining_public_sector_phase_6                              0          0 #> daycares_summer                                              0          0 #> efterskoler_summer_R1                                        0          0 #> high_school_non_senior_year_summer_R1                        0          0 #> high_school_senior_year_summer_R1                            0          0 #> higher_education_summer                                      0          0 #> remaining_private_companies_summer                           0          0 #> schools_0_4_grade_summer_R1                                  0          0 #> schools_5_8_grade_summer_R1                                  0          0 #> schools_9_10_grade_summer_R1                                 0          0 #> high_school_non_senior_year_open_R1                          0          0 #> remaining_private_companies_open                             0          0 #> schools_5_8_grade_open_R1                                    0          0 #> higher_education_open_R0_5                                   0          0 #> outdoor_sports_all_open                                      0          0 #> schools_0_4_grade_open_R1                                    0          0 #> higher_education_open                                        0          0 #> home_15pp                                                    0          0 #> other_10pp                                                   0          0 #> restaurants_and_cafes_open                                   0          0 #>                                                     2021-05-25 2021-06-14 #> baseline                                                     0          0 #> lockdown_2020                                                0          0 #> daycares_and_schools_phase_1_2020                            0          0 #> private_companies_phase_1_2020                               0          0 #> secondary_education_phase_1_2020                             0          0 #> courts_2020                                                  0          0 #> liberal_professions_2020                                     0          0 #> practices_2020                                               0          0 #> retail_2020                                                  0          0 #> efterskoler_2020                                             0          0 #> misc_education_2020                                          0          0 #> misc_phase_2_2020                                            0          0 #> private_companies_phase_2_2020                               0          0 #> restaurants_and_cafes_2020                                   0          0 #> schools_6_10_grade_2020                                      0          0 #> sports_2020                                                  0          0 #> adult_education_2020                                         0          0 #> culture_2020                                                 0          0 #> dr_tv2_2020                                                  0          0 #> education_2020                                               0          0 #> exams_2020                                                   0          0 #> hojskoler_2020                                               0          0 #> public_research_2020                                         0          0 #> public_sector_2020                                           0          0 #> public_sector_f3p_2020                                       0          0 #> public_sector_f3p_2020B_closing_sep_2020                     0          0 #> public_sector_f3p_2020C_closing_oct_2020                     0          0 #> fitness_2020                                                 0          0 #> indoor_sports_2020                                           0          0 #> indoor_sports_and_association_lockdown                       0          0 #> restaurants_and_cafes_lockdown                               0          0 #> retail_stores_over_1000_sqm_under_5000_sqm_open              1          1 #> retail_stores_under_1000_sqm_open                            1          1 #> churches_lockdown                                            0          0 #> courts                                                       1          1 #> daycares_jan_2021                                            0          0 #> grocery_stores                                               1          1 #> health_sector                                                1          1 #> high_school_non_senior_year_critical                         0          0 #> high_school_senior_year_critical                             0          0 #> higher_education_non_seniors_critical_mar_2021_R0_5          0          0 #> higher_education_seniors_critical_mar_2021_R0_5              0          0 #> home_35pp                                                    1          1 #> outdoor_sports_all_lockdown                                  0          0 #> remaining_private_companies_lockdown                         0          0 #> remaining_public_sector_lockdown                             0          0 #> retail_stores_over_1000_sqm_under_5000_sqm_lockdown          0          0 #> retail_stores_over_5000_sqm_lockdown_mar_2021                0          0 #> retail_stores_under_1000_sqm_lockdown                        0          0 #> schools_0_4_grade_critical                                   0          0 #> schools_5_8_grade_critical_jan_2021                          0          0 #> schools_9_10_grade_critical_jan_2021                         0          0 #> shopping_malls_lockdown                                      1          1 #> daycares_feb_2021                                            0          0 #> remaining_private_companies_phase_1                          0          0 #> retail_stores_over_5000_sqm_lockdown_jan_2021                0          0 #> schools_0_4_grade_open_R0_75                                 1          1 #> schools_9_10_grade_critical_mar_2021                         0          0 #> culture_outdoor_phase_2                                      1          1 #> daycares_open                                                1          1 #> outdoor_sports_all_mar_2021                                  0          0 #> remaining_private_companies_phase_2                          0          0 #> schools_5_8_grade_critical_mar_2021                          0          0 #> efterskoler_R1                                               0          0 #> high_school_senior_year_50pp_R1                              0          0 #> hojskoler_long_stays                                         1          1 #> retail_stores_over_5000_sqm_open                             1          1 #> schools_9_10_grade_50pp_R1                                   0          0 #> outdoor_sports_all_max_50_people_apr_2021                    0          0 #> high_school_non_senior_year_50pp_R1                          0          0 #> higher_education_non_seniors_20pp_R0_5                       0          0 #> higher_education_seniors_20pp_R0_5                           0          0 #> liberal_professions                                          1          1 #> schools_5_8_grade_biweekly_R1                                0          0 #> high_school_senior_year_open_R1                              0          0 #> restaurants_and_cafes_semi_lockdown                          1          1 #> schools_9_10_grade_open_R1                                   0          0 #> shopping_malls_no_loitering                                  1          1 #> outdoor_sports_all_max_50_people_may_2021                    1          1 #> churches_open                                                1          1 #> culture                                                      1          1 #> efterskoler_R0_75                                            1          1 #> high_school_non_senior_year_open_R0_75                       0          0 #> high_school_senior_year_open_R0_75                           0          0 #> indoor_sports_and_association                                1          1 #> remaining_private_companies_phase_4                          0          0 #> schools_5_8_grade_open_R0_75                                 1          1 #> schools_9_10_grade_open_R0_75                                0          0 #> higher_education_non_seniors_50pp_R0_5                       1          1 #> higher_education_seniors_50pp_R0_5                           1          1 #> remaining_private_companies_phase_5                          1          0 #> remaining_public_sector_phase_5                              1          0 #> high_school_non_senior_year_50pp_R0_75                       1          1 #> high_school_senior_year_50pp_R0_75                           1          1 #> schools_9_10_grade_50pp_R0_75                                1          1 #> remaining_private_companies_phase_6                          0          1 #> remaining_public_sector_phase_6                              0          1 #> daycares_summer                                              0          0 #> efterskoler_summer_R1                                        0          0 #> high_school_non_senior_year_summer_R1                        0          0 #> high_school_senior_year_summer_R1                            0          0 #> higher_education_summer                                      0          0 #> remaining_private_companies_summer                           0          0 #> schools_0_4_grade_summer_R1                                  0          0 #> schools_5_8_grade_summer_R1                                  0          0 #> schools_9_10_grade_summer_R1                                 0          0 #> high_school_non_senior_year_open_R1                          0          0 #> remaining_private_companies_open                             0          0 #> schools_5_8_grade_open_R1                                    0          0 #> higher_education_open_R0_5                                   0          0 #> outdoor_sports_all_open                                      0          0 #> schools_0_4_grade_open_R1                                    0          0 #> higher_education_open                                        0          0 #> home_15pp                                                    0          0 #> other_10pp                                                   0          0 #> restaurants_and_cafes_open                                   0          0 #>                                                     2021-06-20 2021-06-26 #> baseline                                                     0          0 #> lockdown_2020                                                0          0 #> daycares_and_schools_phase_1_2020                            0          0 #> private_companies_phase_1_2020                               0          0 #> secondary_education_phase_1_2020                             0          0 #> courts_2020                                                  0          0 #> liberal_professions_2020                                     0          0 #> practices_2020                                               0          0 #> retail_2020                                                  0          0 #> efterskoler_2020                                             0          0 #> misc_education_2020                                          0          0 #> misc_phase_2_2020                                            0          0 #> private_companies_phase_2_2020                               0          0 #> restaurants_and_cafes_2020                                   0          0 #> schools_6_10_grade_2020                                      0          0 #> sports_2020                                                  0          0 #> adult_education_2020                                         0          0 #> culture_2020                                                 0          0 #> dr_tv2_2020                                                  0          0 #> education_2020                                               0          0 #> exams_2020                                                   0          0 #> hojskoler_2020                                               0          0 #> public_research_2020                                         0          0 #> public_sector_2020                                           0          0 #> public_sector_f3p_2020                                       0          0 #> public_sector_f3p_2020B_closing_sep_2020                     0          0 #> public_sector_f3p_2020C_closing_oct_2020                     0          0 #> fitness_2020                                                 0          0 #> indoor_sports_2020                                           0          0 #> indoor_sports_and_association_lockdown                       0          0 #> restaurants_and_cafes_lockdown                               0          0 #> retail_stores_over_1000_sqm_under_5000_sqm_open              1          1 #> retail_stores_under_1000_sqm_open                            1          1 #> churches_lockdown                                            0          0 #> courts                                                       1          1 #> daycares_jan_2021                                            0          0 #> grocery_stores                                               1          1 #> health_sector                                                1          1 #> high_school_non_senior_year_critical                         0          0 #> high_school_senior_year_critical                             0          0 #> higher_education_non_seniors_critical_mar_2021_R0_5          0          0 #> higher_education_seniors_critical_mar_2021_R0_5              0          0 #> home_35pp                                                    1          1 #> outdoor_sports_all_lockdown                                  0          0 #> remaining_private_companies_lockdown                         0          0 #> remaining_public_sector_lockdown                             0          0 #> retail_stores_over_1000_sqm_under_5000_sqm_lockdown          0          0 #> retail_stores_over_5000_sqm_lockdown_mar_2021                0          0 #> retail_stores_under_1000_sqm_lockdown                        0          0 #> schools_0_4_grade_critical                                   0          0 #> schools_5_8_grade_critical_jan_2021                          0          0 #> schools_9_10_grade_critical_jan_2021                         0          0 #> shopping_malls_lockdown                                      1          1 #> daycares_feb_2021                                            0          0 #> remaining_private_companies_phase_1                          0          0 #> retail_stores_over_5000_sqm_lockdown_jan_2021                0          0 #> schools_0_4_grade_open_R0_75                                 1          0 #> schools_9_10_grade_critical_mar_2021                         0          0 #> culture_outdoor_phase_2                                      1          1 #> daycares_open                                                1          0 #> outdoor_sports_all_mar_2021                                  0          0 #> remaining_private_companies_phase_2                          0          0 #> schools_5_8_grade_critical_mar_2021                          0          0 #> efterskoler_R1                                               0          0 #> high_school_senior_year_50pp_R1                              0          0 #> hojskoler_long_stays                                         1          1 #> retail_stores_over_5000_sqm_open                             1          1 #> schools_9_10_grade_50pp_R1                                   0          0 #> outdoor_sports_all_max_50_people_apr_2021                    0          0 #> high_school_non_senior_year_50pp_R1                          0          0 #> higher_education_non_seniors_20pp_R0_5                       0          0 #> higher_education_seniors_20pp_R0_5                           0          0 #> liberal_professions                                          1          1 #> schools_5_8_grade_biweekly_R1                                0          0 #> high_school_senior_year_open_R1                              0          0 #> restaurants_and_cafes_semi_lockdown                          1          1 #> schools_9_10_grade_open_R1                                   0          0 #> shopping_malls_no_loitering                                  1          1 #> outdoor_sports_all_max_50_people_may_2021                    1          1 #> churches_open                                                1          1 #> culture                                                      1          1 #> efterskoler_R0_75                                            1          0 #> high_school_non_senior_year_open_R0_75                       1          0 #> high_school_senior_year_open_R0_75                           1          0 #> indoor_sports_and_association                                1          1 #> remaining_private_companies_phase_4                          0          0 #> schools_5_8_grade_open_R0_75                                 1          0 #> schools_9_10_grade_open_R0_75                                1          0 #> higher_education_non_seniors_50pp_R0_5                       1          0 #> higher_education_seniors_50pp_R0_5                           1          0 #> remaining_private_companies_phase_5                          0          0 #> remaining_public_sector_phase_5                              0          0 #> high_school_non_senior_year_50pp_R0_75                       0          0 #> high_school_senior_year_50pp_R0_75                           0          0 #> schools_9_10_grade_50pp_R0_75                                0          0 #> remaining_private_companies_phase_6                          1          0 #> remaining_public_sector_phase_6                              1          1 #> daycares_summer                                              0          1 #> efterskoler_summer_R1                                        0          1 #> high_school_non_senior_year_summer_R1                        0          1 #> high_school_senior_year_summer_R1                            0          1 #> higher_education_summer                                      0          1 #> remaining_private_companies_summer                           0          1 #> schools_0_4_grade_summer_R1                                  0          1 #> schools_5_8_grade_summer_R1                                  0          1 #> schools_9_10_grade_summer_R1                                 0          1 #> high_school_non_senior_year_open_R1                          0          0 #> remaining_private_companies_open                             0          0 #> schools_5_8_grade_open_R1                                    0          0 #> higher_education_open_R0_5                                   0          0 #> outdoor_sports_all_open                                      0          0 #> schools_0_4_grade_open_R1                                    0          0 #> higher_education_open                                        0          0 #> home_15pp                                                    0          0 #> other_10pp                                                   0          0 #> restaurants_and_cafes_open                                   0          0 #>                                                     2021-08-08 2021-08-30 #> baseline                                                     0          0 #> lockdown_2020                                                0          0 #> daycares_and_schools_phase_1_2020                            0          0 #> private_companies_phase_1_2020                               0          0 #> secondary_education_phase_1_2020                             0          0 #> courts_2020                                                  0          0 #> liberal_professions_2020                                     0          0 #> practices_2020                                               0          0 #> retail_2020                                                  0          0 #> efterskoler_2020                                             0          0 #> misc_education_2020                                          0          0 #> misc_phase_2_2020                                            0          0 #> private_companies_phase_2_2020                               0          0 #> restaurants_and_cafes_2020                                   0          0 #> schools_6_10_grade_2020                                      0          0 #> sports_2020                                                  0          0 #> adult_education_2020                                         0          0 #> culture_2020                                                 0          0 #> dr_tv2_2020                                                  0          0 #> education_2020                                               0          0 #> exams_2020                                                   0          0 #> hojskoler_2020                                               0          0 #> public_research_2020                                         0          0 #> public_sector_2020                                           0          0 #> public_sector_f3p_2020                                       0          0 #> public_sector_f3p_2020B_closing_sep_2020                     0          0 #> public_sector_f3p_2020C_closing_oct_2020                     0          0 #> fitness_2020                                                 0          0 #> indoor_sports_2020                                           0          0 #> indoor_sports_and_association_lockdown                       0          0 #> restaurants_and_cafes_lockdown                               0          0 #> retail_stores_over_1000_sqm_under_5000_sqm_open              1          1 #> retail_stores_under_1000_sqm_open                            1          1 #> churches_lockdown                                            0          0 #> courts                                                       1          1 #> daycares_jan_2021                                            0          0 #> grocery_stores                                               1          1 #> health_sector                                                1          1 #> high_school_non_senior_year_critical                         0          0 #> high_school_senior_year_critical                             0          0 #> higher_education_non_seniors_critical_mar_2021_R0_5          0          0 #> higher_education_seniors_critical_mar_2021_R0_5              0          0 #> home_35pp                                                    1          1 #> outdoor_sports_all_lockdown                                  0          0 #> remaining_private_companies_lockdown                         0          0 #> remaining_public_sector_lockdown                             0          0 #> retail_stores_over_1000_sqm_under_5000_sqm_lockdown          0          0 #> retail_stores_over_5000_sqm_lockdown_mar_2021                0          0 #> retail_stores_under_1000_sqm_lockdown                        0          0 #> schools_0_4_grade_critical                                   0          0 #> schools_5_8_grade_critical_jan_2021                          0          0 #> schools_9_10_grade_critical_jan_2021                         0          0 #> shopping_malls_lockdown                                      1          1 #> daycares_feb_2021                                            0          0 #> remaining_private_companies_phase_1                          0          0 #> retail_stores_over_5000_sqm_lockdown_jan_2021                0          0 #> schools_0_4_grade_open_R0_75                                 1          1 #> schools_9_10_grade_critical_mar_2021                         0          0 #> culture_outdoor_phase_2                                      1          1 #> daycares_open                                                1          1 #> outdoor_sports_all_mar_2021                                  0          0 #> remaining_private_companies_phase_2                          0          0 #> schools_5_8_grade_critical_mar_2021                          0          0 #> efterskoler_R1                                               1          1 #> high_school_senior_year_50pp_R1                              0          0 #> hojskoler_long_stays                                         1          1 #> retail_stores_over_5000_sqm_open                             1          1 #> schools_9_10_grade_50pp_R1                                   0          0 #> outdoor_sports_all_max_50_people_apr_2021                    0          0 #> high_school_non_senior_year_50pp_R1                          0          0 #> higher_education_non_seniors_20pp_R0_5                       0          0 #> higher_education_seniors_20pp_R0_5                           0          0 #> liberal_professions                                          1          1 #> schools_5_8_grade_biweekly_R1                                0          0 #> high_school_senior_year_open_R1                              1          1 #> restaurants_and_cafes_semi_lockdown                          1          1 #> schools_9_10_grade_open_R1                                   1          1 #> shopping_malls_no_loitering                                  1          1 #> outdoor_sports_all_max_50_people_may_2021                    1          1 #> churches_open                                                1          1 #> culture                                                      1          1 #> efterskoler_R0_75                                            0          0 #> high_school_non_senior_year_open_R0_75                       0          0 #> high_school_senior_year_open_R0_75                           0          0 #> indoor_sports_and_association                                1          1 #> remaining_private_companies_phase_4                          0          0 #> schools_5_8_grade_open_R0_75                                 0          0 #> schools_9_10_grade_open_R0_75                                0          0 #> higher_education_non_seniors_50pp_R0_5                       0          0 #> higher_education_seniors_50pp_R0_5                           0          0 #> remaining_private_companies_phase_5                          0          0 #> remaining_public_sector_phase_5                              0          0 #> high_school_non_senior_year_50pp_R0_75                       0          0 #> high_school_senior_year_50pp_R0_75                           0          0 #> schools_9_10_grade_50pp_R0_75                                0          0 #> remaining_private_companies_phase_6                          0          0 #> remaining_public_sector_phase_6                              1          1 #> daycares_summer                                              0          0 #> efterskoler_summer_R1                                        0          0 #> high_school_non_senior_year_summer_R1                        0          0 #> high_school_senior_year_summer_R1                            0          0 #> higher_education_summer                                      1          0 #> remaining_private_companies_summer                           0          0 #> schools_0_4_grade_summer_R1                                  0          0 #> schools_5_8_grade_summer_R1                                  0          0 #> schools_9_10_grade_summer_R1                                 0          0 #> high_school_non_senior_year_open_R1                          1          1 #> remaining_private_companies_open                             1          1 #> schools_5_8_grade_open_R1                                    1          1 #> higher_education_open_R0_5                                   0          1 #> outdoor_sports_all_open                                      0          0 #> schools_0_4_grade_open_R1                                    0          0 #> higher_education_open                                        0          0 #> home_15pp                                                    0          0 #> other_10pp                                                   0          0 #> restaurants_and_cafes_open                                   0          0 #>                                                     2021-12-10 2021-12-15 #> baseline                                                     0          0 #> lockdown_2020                                                0          0 #> daycares_and_schools_phase_1_2020                            0          0 #> private_companies_phase_1_2020                               0          0 #> secondary_education_phase_1_2020                             0          0 #> courts_2020                                                  0          0 #> liberal_professions_2020                                     0          0 #> practices_2020                                               0          0 #> retail_2020                                                  0          0 #> efterskoler_2020                                             0          0 #> misc_education_2020                                          0          0 #> misc_phase_2_2020                                            0          0 #> private_companies_phase_2_2020                               0          0 #> restaurants_and_cafes_2020                                   0          0 #> schools_6_10_grade_2020                                      0          0 #> sports_2020                                                  0          0 #> adult_education_2020                                         0          0 #> culture_2020                                                 0          0 #> dr_tv2_2020                                                  0          0 #> education_2020                                               0          0 #> exams_2020                                                   0          0 #> hojskoler_2020                                               0          0 #> public_research_2020                                         0          0 #> public_sector_2020                                           0          0 #> public_sector_f3p_2020                                       0          0 #> public_sector_f3p_2020B_closing_sep_2020                     0          0 #> public_sector_f3p_2020C_closing_oct_2020                     0          0 #> fitness_2020                                                 0          0 #> indoor_sports_2020                                           0          0 #> indoor_sports_and_association_lockdown                       0          0 #> restaurants_and_cafes_lockdown                               0          0 #> retail_stores_over_1000_sqm_under_5000_sqm_open              1          1 #> retail_stores_under_1000_sqm_open                            1          1 #> churches_lockdown                                            0          0 #> courts                                                       1          1 #> daycares_jan_2021                                            0          0 #> grocery_stores                                               1          1 #> health_sector                                                1          1 #> high_school_non_senior_year_critical                         0          0 #> high_school_senior_year_critical                             0          0 #> higher_education_non_seniors_critical_mar_2021_R0_5          0          0 #> higher_education_seniors_critical_mar_2021_R0_5              0          0 #> home_35pp                                                    1          1 #> outdoor_sports_all_lockdown                                  1          1 #> remaining_private_companies_lockdown                         0          0 #> remaining_public_sector_lockdown                             0          0 #> retail_stores_over_1000_sqm_under_5000_sqm_lockdown          0          0 #> retail_stores_over_5000_sqm_lockdown_mar_2021                0          0 #> retail_stores_under_1000_sqm_lockdown                        0          0 #> schools_0_4_grade_critical                                   0          0 #> schools_5_8_grade_critical_jan_2021                          0          0 #> schools_9_10_grade_critical_jan_2021                         0          0 #> shopping_malls_lockdown                                      1          1 #> daycares_feb_2021                                            0          0 #> remaining_private_companies_phase_1                          0          0 #> retail_stores_over_5000_sqm_lockdown_jan_2021                0          0 #> schools_0_4_grade_open_R0_75                                 1          0 #> schools_9_10_grade_critical_mar_2021                         0          0 #> culture_outdoor_phase_2                                      1          1 #> daycares_open                                                1          1 #> outdoor_sports_all_mar_2021                                  0          0 #> remaining_private_companies_phase_2                          0          0 #> schools_5_8_grade_critical_mar_2021                          0          0 #> efterskoler_R1                                               1          1 #> high_school_senior_year_50pp_R1                              0          0 #> hojskoler_long_stays                                         1          1 #> retail_stores_over_5000_sqm_open                             1          1 #> schools_9_10_grade_50pp_R1                                   0          0 #> outdoor_sports_all_max_50_people_apr_2021                    0          0 #> high_school_non_senior_year_50pp_R1                          0          0 #> higher_education_non_seniors_20pp_R0_5                       0          0 #> higher_education_seniors_20pp_R0_5                           0          0 #> liberal_professions                                          1          1 #> schools_5_8_grade_biweekly_R1                                0          0 #> high_school_senior_year_open_R1                              1          1 #> restaurants_and_cafes_semi_lockdown                          1          1 #> schools_9_10_grade_open_R1                                   1          0 #> shopping_malls_no_loitering                                  1          1 #> outdoor_sports_all_max_50_people_may_2021                    0          0 #> churches_open                                                1          1 #> culture                                                      1          1 #> efterskoler_R0_75                                            0          0 #> high_school_non_senior_year_open_R0_75                       0          0 #> high_school_senior_year_open_R0_75                           0          0 #> indoor_sports_and_association                                1          1 #> remaining_private_companies_phase_4                          0          0 #> schools_5_8_grade_open_R0_75                                 0          0 #> schools_9_10_grade_open_R0_75                                0          0 #> higher_education_non_seniors_50pp_R0_5                       0          0 #> higher_education_seniors_50pp_R0_5                           0          0 #> remaining_private_companies_phase_5                          1          1 #> remaining_public_sector_phase_5                              0          0 #> high_school_non_senior_year_50pp_R0_75                       0          0 #> high_school_senior_year_50pp_R0_75                           0          0 #> schools_9_10_grade_50pp_R0_75                                0          0 #> remaining_private_companies_phase_6                          0          0 #> remaining_public_sector_phase_6                              1          1 #> daycares_summer                                              0          0 #> efterskoler_summer_R1                                        0          0 #> high_school_non_senior_year_summer_R1                        0          0 #> high_school_senior_year_summer_R1                            0          0 #> higher_education_summer                                      0          0 #> remaining_private_companies_summer                           0          0 #> schools_0_4_grade_summer_R1                                  0          0 #> schools_5_8_grade_summer_R1                                  0          0 #> schools_9_10_grade_summer_R1                                 0          0 #> high_school_non_senior_year_open_R1                          1          1 #> remaining_private_companies_open                             0          0 #> schools_5_8_grade_open_R1                                    1          0 #> higher_education_open_R0_5                                   1          1 #> outdoor_sports_all_open                                      0          0 #> schools_0_4_grade_open_R1                                    0          0 #> higher_education_open                                        0          0 #> home_15pp                                                    0          0 #> other_10pp                                                   0          0 #> restaurants_and_cafes_open                                   0          0 #>                                                     2021-12-20 2022-01-03 #> baseline                                                     0          0 #> lockdown_2020                                                0          0 #> daycares_and_schools_phase_1_2020                            0          0 #> private_companies_phase_1_2020                               0          0 #> secondary_education_phase_1_2020                             0          0 #> courts_2020                                                  0          0 #> liberal_professions_2020                                     0          0 #> practices_2020                                               0          0 #> retail_2020                                                  0          0 #> efterskoler_2020                                             0          0 #> misc_education_2020                                          0          0 #> misc_phase_2_2020                                            0          0 #> private_companies_phase_2_2020                               0          0 #> restaurants_and_cafes_2020                                   0          0 #> schools_6_10_grade_2020                                      0          0 #> sports_2020                                                  0          0 #> adult_education_2020                                         0          0 #> culture_2020                                                 0          0 #> dr_tv2_2020                                                  0          0 #> education_2020                                               0          0 #> exams_2020                                                   0          0 #> hojskoler_2020                                               0          0 #> public_research_2020                                         0          0 #> public_sector_2020                                           0          0 #> public_sector_f3p_2020                                       0          0 #> public_sector_f3p_2020B_closing_sep_2020                     0          0 #> public_sector_f3p_2020C_closing_oct_2020                     0          0 #> fitness_2020                                                 0          0 #> indoor_sports_2020                                           0          0 #> indoor_sports_and_association_lockdown                       0          0 #> restaurants_and_cafes_lockdown                               1          1 #> retail_stores_over_1000_sqm_under_5000_sqm_open              1          1 #> retail_stores_under_1000_sqm_open                            1          1 #> churches_lockdown                                            0          0 #> courts                                                       1          1 #> daycares_jan_2021                                            0          0 #> grocery_stores                                               1          1 #> health_sector                                                1          1 #> high_school_non_senior_year_critical                         0          0 #> high_school_senior_year_critical                             0          0 #> higher_education_non_seniors_critical_mar_2021_R0_5          0          0 #> higher_education_seniors_critical_mar_2021_R0_5              0          0 #> home_35pp                                                    1          1 #> outdoor_sports_all_lockdown                                  1          0 #> remaining_private_companies_lockdown                         0          0 #> remaining_public_sector_lockdown                             0          0 #> retail_stores_over_1000_sqm_under_5000_sqm_lockdown          0          0 #> retail_stores_over_5000_sqm_lockdown_mar_2021                0          0 #> retail_stores_under_1000_sqm_lockdown                        0          0 #> schools_0_4_grade_critical                                   0          0 #> schools_5_8_grade_critical_jan_2021                          0          0 #> schools_9_10_grade_critical_jan_2021                         0          0 #> shopping_malls_lockdown                                      1          1 #> daycares_feb_2021                                            0          0 #> remaining_private_companies_phase_1                          0          0 #> retail_stores_over_5000_sqm_lockdown_jan_2021                0          0 #> schools_0_4_grade_open_R0_75                                 0          0 #> schools_9_10_grade_critical_mar_2021                         0          0 #> culture_outdoor_phase_2                                      0          0 #> daycares_open                                                1          1 #> outdoor_sports_all_mar_2021                                  0          0 #> remaining_private_companies_phase_2                          0          0 #> schools_5_8_grade_critical_mar_2021                          0          0 #> efterskoler_R1                                               1          1 #> high_school_senior_year_50pp_R1                              0          0 #> hojskoler_long_stays                                         0          0 #> retail_stores_over_5000_sqm_open                             1          1 #> schools_9_10_grade_50pp_R1                                   0          0 #> outdoor_sports_all_max_50_people_apr_2021                    0          0 #> high_school_non_senior_year_50pp_R1                          0          0 #> higher_education_non_seniors_20pp_R0_5                       0          0 #> higher_education_seniors_20pp_R0_5                           0          0 #> liberal_professions                                          1          1 #> schools_5_8_grade_biweekly_R1                                0          0 #> high_school_senior_year_open_R1                              1          1 #> restaurants_and_cafes_semi_lockdown                          0          0 #> schools_9_10_grade_open_R1                                   0          0 #> shopping_malls_no_loitering                                  1          1 #> outdoor_sports_all_max_50_people_may_2021                    0          0 #> churches_open                                                1          1 #> culture                                                      0          0 #> efterskoler_R0_75                                            0          0 #> high_school_non_senior_year_open_R0_75                       0          0 #> high_school_senior_year_open_R0_75                           0          0 #> indoor_sports_and_association                                1          1 #> remaining_private_companies_phase_4                          1          0 #> schools_5_8_grade_open_R0_75                                 0          0 #> schools_9_10_grade_open_R0_75                                0          0 #> higher_education_non_seniors_50pp_R0_5                       0          1 #> higher_education_seniors_50pp_R0_5                           0          1 #> remaining_private_companies_phase_5                          0          0 #> remaining_public_sector_phase_5                              0          0 #> high_school_non_senior_year_50pp_R0_75                       0          0 #> high_school_senior_year_50pp_R0_75                           0          0 #> schools_9_10_grade_50pp_R0_75                                0          0 #> remaining_private_companies_phase_6                          0          0 #> remaining_public_sector_phase_6                              1          1 #> daycares_summer                                              0          0 #> efterskoler_summer_R1                                        0          0 #> high_school_non_senior_year_summer_R1                        0          0 #> high_school_senior_year_summer_R1                            0          0 #> higher_education_summer                                      0          0 #> remaining_private_companies_summer                           0          0 #> schools_0_4_grade_summer_R1                                  0          0 #> schools_5_8_grade_summer_R1                                  0          0 #> schools_9_10_grade_summer_R1                                 0          0 #> high_school_non_senior_year_open_R1                          1          1 #> remaining_private_companies_open                             0          1 #> schools_5_8_grade_open_R1                                    0          0 #> higher_education_open_R0_5                                   1          0 #> outdoor_sports_all_open                                      0          1 #> schools_0_4_grade_open_R1                                    0          0 #> higher_education_open                                        0          0 #> home_15pp                                                    0          0 #> other_10pp                                                   0          0 #> restaurants_and_cafes_open                                   0          0 #>                                                     2022-01-05 2022-01-16 #> baseline                                                     0          0 #> lockdown_2020                                                0          0 #> daycares_and_schools_phase_1_2020                            0          0 #> private_companies_phase_1_2020                               0          0 #> secondary_education_phase_1_2020                             0          0 #> courts_2020                                                  0          0 #> liberal_professions_2020                                     0          0 #> practices_2020                                               0          0 #> retail_2020                                                  0          0 #> efterskoler_2020                                             0          0 #> misc_education_2020                                          0          0 #> misc_phase_2_2020                                            0          0 #> private_companies_phase_2_2020                               0          0 #> restaurants_and_cafes_2020                                   0          0 #> schools_6_10_grade_2020                                      0          0 #> sports_2020                                                  0          0 #> adult_education_2020                                         0          0 #> culture_2020                                                 0          0 #> dr_tv2_2020                                                  0          0 #> education_2020                                               0          0 #> exams_2020                                                   0          0 #> hojskoler_2020                                               0          0 #> public_research_2020                                         0          0 #> public_sector_2020                                           0          0 #> public_sector_f3p_2020                                       0          0 #> public_sector_f3p_2020B_closing_sep_2020                     0          0 #> public_sector_f3p_2020C_closing_oct_2020                     0          0 #> fitness_2020                                                 0          0 #> indoor_sports_2020                                           0          0 #> indoor_sports_and_association_lockdown                       0          0 #> restaurants_and_cafes_lockdown                               1          0 #> retail_stores_over_1000_sqm_under_5000_sqm_open              1          1 #> retail_stores_under_1000_sqm_open                            1          1 #> churches_lockdown                                            0          0 #> courts                                                       1          1 #> daycares_jan_2021                                            0          0 #> grocery_stores                                               1          1 #> health_sector                                                1          1 #> high_school_non_senior_year_critical                         0          0 #> high_school_senior_year_critical                             0          0 #> higher_education_non_seniors_critical_mar_2021_R0_5          0          0 #> higher_education_seniors_critical_mar_2021_R0_5              0          0 #> home_35pp                                                    1          1 #> outdoor_sports_all_lockdown                                  0          0 #> remaining_private_companies_lockdown                         0          0 #> remaining_public_sector_lockdown                             0          0 #> retail_stores_over_1000_sqm_under_5000_sqm_lockdown          0          0 #> retail_stores_over_5000_sqm_lockdown_mar_2021                0          0 #> retail_stores_under_1000_sqm_lockdown                        0          0 #> schools_0_4_grade_critical                                   0          0 #> schools_5_8_grade_critical_jan_2021                          0          0 #> schools_9_10_grade_critical_jan_2021                         0          0 #> shopping_malls_lockdown                                      1          1 #> daycares_feb_2021                                            0          0 #> remaining_private_companies_phase_1                          0          0 #> retail_stores_over_5000_sqm_lockdown_jan_2021                0          0 #> schools_0_4_grade_open_R0_75                                 0          0 #> schools_9_10_grade_critical_mar_2021                         0          0 #> culture_outdoor_phase_2                                      0          1 #> daycares_open                                                1          1 #> outdoor_sports_all_mar_2021                                  0          0 #> remaining_private_companies_phase_2                          0          0 #> schools_5_8_grade_critical_mar_2021                          0          0 #> efterskoler_R1                                               1          1 #> high_school_senior_year_50pp_R1                              0          0 #> hojskoler_long_stays                                         0          1 #> retail_stores_over_5000_sqm_open                             1          1 #> schools_9_10_grade_50pp_R1                                   0          0 #> outdoor_sports_all_max_50_people_apr_2021                    0          0 #> high_school_non_senior_year_50pp_R1                          0          0 #> higher_education_non_seniors_20pp_R0_5                       0          0 #> higher_education_seniors_20pp_R0_5                           0          0 #> liberal_professions                                          1          1 #> schools_5_8_grade_biweekly_R1                                0          0 #> high_school_senior_year_open_R1                              1          1 #> restaurants_and_cafes_semi_lockdown                          0          1 #> schools_9_10_grade_open_R1                                   1          1 #> shopping_malls_no_loitering                                  1          1 #> outdoor_sports_all_max_50_people_may_2021                    0          0 #> churches_open                                                1          1 #> culture                                                      0          1 #> efterskoler_R0_75                                            0          0 #> high_school_non_senior_year_open_R0_75                       0          0 #> high_school_senior_year_open_R0_75                           0          0 #> indoor_sports_and_association                                1          1 #> remaining_private_companies_phase_4                          0          0 #> schools_5_8_grade_open_R0_75                                 0          0 #> schools_9_10_grade_open_R0_75                                0          0 #> higher_education_non_seniors_50pp_R0_5                       1          1 #> higher_education_seniors_50pp_R0_5                           1          1 #> remaining_private_companies_phase_5                          0          0 #> remaining_public_sector_phase_5                              0          0 #> high_school_non_senior_year_50pp_R0_75                       0          0 #> high_school_senior_year_50pp_R0_75                           0          0 #> schools_9_10_grade_50pp_R0_75                                0          0 #> remaining_private_companies_phase_6                          0          0 #> remaining_public_sector_phase_6                              1          1 #> daycares_summer                                              0          0 #> efterskoler_summer_R1                                        0          0 #> high_school_non_senior_year_summer_R1                        0          0 #> high_school_senior_year_summer_R1                            0          0 #> higher_education_summer                                      0          0 #> remaining_private_companies_summer                           0          0 #> schools_0_4_grade_summer_R1                                  0          0 #> schools_5_8_grade_summer_R1                                  0          0 #> schools_9_10_grade_summer_R1                                 0          0 #> high_school_non_senior_year_open_R1                          1          1 #> remaining_private_companies_open                             1          1 #> schools_5_8_grade_open_R1                                    1          1 #> higher_education_open_R0_5                                   0          0 #> outdoor_sports_all_open                                      1          1 #> schools_0_4_grade_open_R1                                    1          1 #> higher_education_open                                        0          0 #> home_15pp                                                    0          0 #> other_10pp                                                   0          0 #> restaurants_and_cafes_open                                   0          0 #>                                                     2022-02-01 2022-05-25 #> baseline                                                     0          0 #> lockdown_2020                                                0          0 #> daycares_and_schools_phase_1_2020                            0          0 #> private_companies_phase_1_2020                               0          0 #> secondary_education_phase_1_2020                             0          0 #> courts_2020                                                  0          0 #> liberal_professions_2020                                     0          0 #> practices_2020                                               0          0 #> retail_2020                                                  0          0 #> efterskoler_2020                                             0          0 #> misc_education_2020                                          0          0 #> misc_phase_2_2020                                            0          0 #> private_companies_phase_2_2020                               0          0 #> restaurants_and_cafes_2020                                   0          0 #> schools_6_10_grade_2020                                      0          0 #> sports_2020                                                  0          0 #> adult_education_2020                                         0          0 #> culture_2020                                                 0          0 #> dr_tv2_2020                                                  0          0 #> education_2020                                               0          0 #> exams_2020                                                   0          0 #> hojskoler_2020                                               0          0 #> public_research_2020                                         0          0 #> public_sector_2020                                           0          0 #> public_sector_f3p_2020                                       0          0 #> public_sector_f3p_2020B_closing_sep_2020                     0          0 #> public_sector_f3p_2020C_closing_oct_2020                     0          0 #> fitness_2020                                                 0          0 #> indoor_sports_2020                                           0          0 #> indoor_sports_and_association_lockdown                       0          0 #> restaurants_and_cafes_lockdown                               0          0 #> retail_stores_over_1000_sqm_under_5000_sqm_open              1          1 #> retail_stores_under_1000_sqm_open                            1          1 #> churches_lockdown                                            0          0 #> courts                                                       1          1 #> daycares_jan_2021                                            0          0 #> grocery_stores                                               1          1 #> health_sector                                                1          1 #> high_school_non_senior_year_critical                         0          0 #> high_school_senior_year_critical                             0          0 #> higher_education_non_seniors_critical_mar_2021_R0_5          0          0 #> higher_education_seniors_critical_mar_2021_R0_5              0          0 #> home_35pp                                                    1          1 #> outdoor_sports_all_lockdown                                  0          0 #> remaining_private_companies_lockdown                         0          0 #> remaining_public_sector_lockdown                             0          0 #> retail_stores_over_1000_sqm_under_5000_sqm_lockdown          0          0 #> retail_stores_over_5000_sqm_lockdown_mar_2021                0          0 #> retail_stores_under_1000_sqm_lockdown                        0          0 #> schools_0_4_grade_critical                                   0          0 #> schools_5_8_grade_critical_jan_2021                          0          0 #> schools_9_10_grade_critical_jan_2021                         0          0 #> shopping_malls_lockdown                                      1          1 #> daycares_feb_2021                                            0          0 #> remaining_private_companies_phase_1                          0          0 #> retail_stores_over_5000_sqm_lockdown_jan_2021                0          0 #> schools_0_4_grade_open_R0_75                                 0          0 #> schools_9_10_grade_critical_mar_2021                         0          0 #> culture_outdoor_phase_2                                      1          1 #> daycares_open                                                1          1 #> outdoor_sports_all_mar_2021                                  0          0 #> remaining_private_companies_phase_2                          0          0 #> schools_5_8_grade_critical_mar_2021                          0          0 #> efterskoler_R1                                               1          1 #> high_school_senior_year_50pp_R1                              0          1 #> hojskoler_long_stays                                         1          1 #> retail_stores_over_5000_sqm_open                             1          1 #> schools_9_10_grade_50pp_R1                                   0          1 #> outdoor_sports_all_max_50_people_apr_2021                    0          0 #> high_school_non_senior_year_50pp_R1                          0          1 #> higher_education_non_seniors_20pp_R0_5                       0          0 #> higher_education_seniors_20pp_R0_5                           0          0 #> liberal_professions                                          1          1 #> schools_5_8_grade_biweekly_R1                                0          0 #> high_school_senior_year_open_R1                              1          0 #> restaurants_and_cafes_semi_lockdown                          0          0 #> schools_9_10_grade_open_R1                                   1          0 #> shopping_malls_no_loitering                                  1          1 #> outdoor_sports_all_max_50_people_may_2021                    0          0 #> churches_open                                                1          1 #> culture                                                      1          1 #> efterskoler_R0_75                                            0          0 #> high_school_non_senior_year_open_R0_75                       0          0 #> high_school_senior_year_open_R0_75                           0          0 #> indoor_sports_and_association                                1          1 #> remaining_private_companies_phase_4                          0          0 #> schools_5_8_grade_open_R0_75                                 0          0 #> schools_9_10_grade_open_R0_75                                0          0 #> higher_education_non_seniors_50pp_R0_5                       0          0 #> higher_education_seniors_50pp_R0_5                           0          0 #> remaining_private_companies_phase_5                          0          0 #> remaining_public_sector_phase_5                              0          0 #> high_school_non_senior_year_50pp_R0_75                       0          0 #> high_school_senior_year_50pp_R0_75                           0          0 #> schools_9_10_grade_50pp_R0_75                                0          0 #> remaining_private_companies_phase_6                          0          0 #> remaining_public_sector_phase_6                              1          1 #> daycares_summer                                              0          0 #> efterskoler_summer_R1                                        0          0 #> high_school_non_senior_year_summer_R1                        0          0 #> high_school_senior_year_summer_R1                            0          0 #> higher_education_summer                                      0          0 #> remaining_private_companies_summer                           0          0 #> schools_0_4_grade_summer_R1                                  0          0 #> schools_5_8_grade_summer_R1                                  0          0 #> schools_9_10_grade_summer_R1                                 0          0 #> high_school_non_senior_year_open_R1                          1          0 #> remaining_private_companies_open                             1          1 #> schools_5_8_grade_open_R1                                    1          1 #> higher_education_open_R0_5                                   0          0 #> outdoor_sports_all_open                                      1          1 #> schools_0_4_grade_open_R1                                    1          1 #> higher_education_open                                        1          1 #> home_15pp                                                    1          1 #> other_10pp                                                   1          1 #> restaurants_and_cafes_open                                   1          1 #>                                                     2022-06-20 2022-06-27 #> baseline                                                     0          0 #> lockdown_2020                                                0          0 #> daycares_and_schools_phase_1_2020                            0          0 #> private_companies_phase_1_2020                               0          0 #> secondary_education_phase_1_2020                             0          0 #> courts_2020                                                  0          0 #> liberal_professions_2020                                     0          0 #> practices_2020                                               0          0 #> retail_2020                                                  0          0 #> efterskoler_2020                                             0          0 #> misc_education_2020                                          0          0 #> misc_phase_2_2020                                            0          0 #> private_companies_phase_2_2020                               0          0 #> restaurants_and_cafes_2020                                   0          0 #> schools_6_10_grade_2020                                      0          0 #> sports_2020                                                  0          0 #> adult_education_2020                                         0          0 #> culture_2020                                                 0          0 #> dr_tv2_2020                                                  0          0 #> education_2020                                               0          0 #> exams_2020                                                   0          0 #> hojskoler_2020                                               0          0 #> public_research_2020                                         0          0 #> public_sector_2020                                           0          0 #> public_sector_f3p_2020                                       0          0 #> public_sector_f3p_2020B_closing_sep_2020                     0          0 #> public_sector_f3p_2020C_closing_oct_2020                     0          0 #> fitness_2020                                                 0          0 #> indoor_sports_2020                                           0          0 #> indoor_sports_and_association_lockdown                       0          0 #> restaurants_and_cafes_lockdown                               0          0 #> retail_stores_over_1000_sqm_under_5000_sqm_open              1          1 #> retail_stores_under_1000_sqm_open                            1          1 #> churches_lockdown                                            0          0 #> courts                                                       1          1 #> daycares_jan_2021                                            0          0 #> grocery_stores                                               1          1 #> health_sector                                                1          1 #> high_school_non_senior_year_critical                         0          0 #> high_school_senior_year_critical                             0          0 #> higher_education_non_seniors_critical_mar_2021_R0_5          0          0 #> higher_education_seniors_critical_mar_2021_R0_5              0          0 #> home_35pp                                                    1          1 #> outdoor_sports_all_lockdown                                  0          0 #> remaining_private_companies_lockdown                         0          0 #> remaining_public_sector_lockdown                             0          0 #> retail_stores_over_1000_sqm_under_5000_sqm_lockdown          0          0 #> retail_stores_over_5000_sqm_lockdown_mar_2021                0          0 #> retail_stores_under_1000_sqm_lockdown                        0          0 #> schools_0_4_grade_critical                                   0          0 #> schools_5_8_grade_critical_jan_2021                          0          0 #> schools_9_10_grade_critical_jan_2021                         0          0 #> shopping_malls_lockdown                                      1          1 #> daycares_feb_2021                                            0          0 #> remaining_private_companies_phase_1                          0          0 #> retail_stores_over_5000_sqm_lockdown_jan_2021                0          0 #> schools_0_4_grade_open_R0_75                                 0          0 #> schools_9_10_grade_critical_mar_2021                         0          0 #> culture_outdoor_phase_2                                      1          1 #> daycares_open                                                1          0 #> outdoor_sports_all_mar_2021                                  0          0 #> remaining_private_companies_phase_2                          0          0 #> schools_5_8_grade_critical_mar_2021                          0          0 #> efterskoler_R1                                               1          0 #> high_school_senior_year_50pp_R1                              0          0 #> hojskoler_long_stays                                         1          1 #> retail_stores_over_5000_sqm_open                             1          1 #> schools_9_10_grade_50pp_R1                                   0          0 #> outdoor_sports_all_max_50_people_apr_2021                    0          0 #> high_school_non_senior_year_50pp_R1                          0          0 #> higher_education_non_seniors_20pp_R0_5                       0          0 #> higher_education_seniors_20pp_R0_5                           0          0 #> liberal_professions                                          1          1 #> schools_5_8_grade_biweekly_R1                                0          0 #> high_school_senior_year_open_R1                              1          0 #> restaurants_and_cafes_semi_lockdown                          0          0 #> schools_9_10_grade_open_R1                                   1          0 #> shopping_malls_no_loitering                                  1          1 #> outdoor_sports_all_max_50_people_may_2021                    0          0 #> churches_open                                                1          1 #> culture                                                      1          1 #> efterskoler_R0_75                                            0          0 #> high_school_non_senior_year_open_R0_75                       0          0 #> high_school_senior_year_open_R0_75                           0          0 #> indoor_sports_and_association                                1          1 #> remaining_private_companies_phase_4                          0          0 #> schools_5_8_grade_open_R0_75                                 0          0 #> schools_9_10_grade_open_R0_75                                0          0 #> higher_education_non_seniors_50pp_R0_5                       0          0 #> higher_education_seniors_50pp_R0_5                           0          0 #> remaining_private_companies_phase_5                          0          0 #> remaining_public_sector_phase_5                              0          0 #> high_school_non_senior_year_50pp_R0_75                       0          0 #> high_school_senior_year_50pp_R0_75                           0          0 #> schools_9_10_grade_50pp_R0_75                                0          0 #> remaining_private_companies_phase_6                          0          0 #> remaining_public_sector_phase_6                              1          1 #> daycares_summer                                              0          1 #> efterskoler_summer_R1                                        0          1 #> high_school_non_senior_year_summer_R1                        0          1 #> high_school_senior_year_summer_R1                            0          1 #> higher_education_summer                                      0          1 #> remaining_private_companies_summer                           0          1 #> schools_0_4_grade_summer_R1                                  0          1 #> schools_5_8_grade_summer_R1                                  0          1 #> schools_9_10_grade_summer_R1                                 0          1 #> high_school_non_senior_year_open_R1                          1          0 #> remaining_private_companies_open                             1          0 #> schools_5_8_grade_open_R1                                    1          0 #> higher_education_open_R0_5                                   0          0 #> outdoor_sports_all_open                                      1          1 #> schools_0_4_grade_open_R1                                    1          0 #> higher_education_open                                        1          0 #> home_15pp                                                    1          1 #> other_10pp                                                   1          1 #> restaurants_and_cafes_open                                   1          1 #>                                                     2022-08-08 2022-08-29 #> baseline                                                     0          0 #> lockdown_2020                                                0          0 #> daycares_and_schools_phase_1_2020                            0          0 #> private_companies_phase_1_2020                               0          0 #> secondary_education_phase_1_2020                             0          0 #> courts_2020                                                  0          0 #> liberal_professions_2020                                     0          0 #> practices_2020                                               0          0 #> retail_2020                                                  0          0 #> efterskoler_2020                                             0          0 #> misc_education_2020                                          0          0 #> misc_phase_2_2020                                            0          0 #> private_companies_phase_2_2020                               0          0 #> restaurants_and_cafes_2020                                   0          0 #> schools_6_10_grade_2020                                      0          0 #> sports_2020                                                  0          0 #> adult_education_2020                                         0          0 #> culture_2020                                                 0          0 #> dr_tv2_2020                                                  0          0 #> education_2020                                               0          0 #> exams_2020                                                   0          0 #> hojskoler_2020                                               0          0 #> public_research_2020                                         0          0 #> public_sector_2020                                           0          0 #> public_sector_f3p_2020                                       0          0 #> public_sector_f3p_2020B_closing_sep_2020                     0          0 #> public_sector_f3p_2020C_closing_oct_2020                     0          0 #> fitness_2020                                                 0          0 #> indoor_sports_2020                                           0          0 #> indoor_sports_and_association_lockdown                       0          0 #> restaurants_and_cafes_lockdown                               0          0 #> retail_stores_over_1000_sqm_under_5000_sqm_open              1          1 #> retail_stores_under_1000_sqm_open                            1          1 #> churches_lockdown                                            0          0 #> courts                                                       1          1 #> daycares_jan_2021                                            0          0 #> grocery_stores                                               1          1 #> health_sector                                                1          1 #> high_school_non_senior_year_critical                         0          0 #> high_school_senior_year_critical                             0          0 #> higher_education_non_seniors_critical_mar_2021_R0_5          0          0 #> higher_education_seniors_critical_mar_2021_R0_5              0          0 #> home_35pp                                                    1          1 #> outdoor_sports_all_lockdown                                  0          0 #> remaining_private_companies_lockdown                         0          0 #> remaining_public_sector_lockdown                             0          0 #> retail_stores_over_1000_sqm_under_5000_sqm_lockdown          0          0 #> retail_stores_over_5000_sqm_lockdown_mar_2021                0          0 #> retail_stores_under_1000_sqm_lockdown                        0          0 #> schools_0_4_grade_critical                                   0          0 #> schools_5_8_grade_critical_jan_2021                          0          0 #> schools_9_10_grade_critical_jan_2021                         0          0 #> shopping_malls_lockdown                                      1          1 #> daycares_feb_2021                                            0          0 #> remaining_private_companies_phase_1                          0          0 #> retail_stores_over_5000_sqm_lockdown_jan_2021                0          0 #> schools_0_4_grade_open_R0_75                                 0          0 #> schools_9_10_grade_critical_mar_2021                         0          0 #> culture_outdoor_phase_2                                      1          1 #> daycares_open                                                1          1 #> outdoor_sports_all_mar_2021                                  0          0 #> remaining_private_companies_phase_2                          0          0 #> schools_5_8_grade_critical_mar_2021                          0          0 #> efterskoler_R1                                               1          1 #> high_school_senior_year_50pp_R1                              0          0 #> hojskoler_long_stays                                         1          1 #> retail_stores_over_5000_sqm_open                             1          1 #> schools_9_10_grade_50pp_R1                                   0          0 #> outdoor_sports_all_max_50_people_apr_2021                    0          0 #> high_school_non_senior_year_50pp_R1                          0          0 #> higher_education_non_seniors_20pp_R0_5                       0          0 #> higher_education_seniors_20pp_R0_5                           0          0 #> liberal_professions                                          1          1 #> schools_5_8_grade_biweekly_R1                                0          0 #> high_school_senior_year_open_R1                              1          1 #> restaurants_and_cafes_semi_lockdown                          0          0 #> schools_9_10_grade_open_R1                                   1          1 #> shopping_malls_no_loitering                                  1          1 #> outdoor_sports_all_max_50_people_may_2021                    0          0 #> churches_open                                                1          1 #> culture                                                      1          1 #> efterskoler_R0_75                                            0          0 #> high_school_non_senior_year_open_R0_75                       0          0 #> high_school_senior_year_open_R0_75                           0          0 #> indoor_sports_and_association                                1          1 #> remaining_private_companies_phase_4                          0          0 #> schools_5_8_grade_open_R0_75                                 0          0 #> schools_9_10_grade_open_R0_75                                0          0 #> higher_education_non_seniors_50pp_R0_5                       0          0 #> higher_education_seniors_50pp_R0_5                           0          0 #> remaining_private_companies_phase_5                          0          0 #> remaining_public_sector_phase_5                              0          0 #> high_school_non_senior_year_50pp_R0_75                       0          0 #> high_school_senior_year_50pp_R0_75                           0          0 #> schools_9_10_grade_50pp_R0_75                                0          0 #> remaining_private_companies_phase_6                          0          0 #> remaining_public_sector_phase_6                              1          1 #> daycares_summer                                              0          0 #> efterskoler_summer_R1                                        0          0 #> high_school_non_senior_year_summer_R1                        0          0 #> high_school_senior_year_summer_R1                            0          0 #> higher_education_summer                                      1          0 #> remaining_private_companies_summer                           0          0 #> schools_0_4_grade_summer_R1                                  0          0 #> schools_5_8_grade_summer_R1                                  0          0 #> schools_9_10_grade_summer_R1                                 0          0 #> high_school_non_senior_year_open_R1                          1          1 #> remaining_private_companies_open                             1          1 #> schools_5_8_grade_open_R1                                    1          1 #> higher_education_open_R0_5                                   0          0 #> outdoor_sports_all_open                                      1          1 #> schools_0_4_grade_open_R1                                    1          1 #> higher_education_open                                        0          1 #> home_15pp                                                    1          1 #> other_10pp                                                   1          1 #> restaurants_and_cafes_open                                   1          1 #>  #> Contact basis: Contact matrices for Denmark from the `contactdata` package and population data for #> Denmark from the US Census Bureau."},{"path":"https://ssi-dk.github.io/diseasy/reference/seir_example_data.html","id":null,"dir":"Reference","previous_headings":"","what":"seir_example_data — seir_example_data","title":"seir_example_data — seir_example_data","text":"data set contains simulation output SEIR model use testing developing models.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/seir_example_data.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"seir_example_data — seir_example_data","text":"underlying model SEIR model (?DiseasyModelOdeSeir) 2 exposed compartments, 1 infected compartment 1 recovered compartment. model uses exposed period 2.1 days infectious period 4.5 days. model uses Denmark population activity scenario \"baseline\" activity unit level activity. overall infection risk set 0.025 initially, 0.2 % population newly exposed (.e. placed E1 compartments). model outputs included dataset form tibble following columns: date: time output. age_group: age group output. n_infected: direct output SEIR model ( = (I1 * L) / 4.5 days). n_positive_simple: realisation number test-positives 65% test probability. n_positive_simple: realisation number test-positives overall 65% test probability reduced test-probability weekend. n_admission: realisation number admissions hospital delayed relative incidence accounting age dependent risk admission.","code":""},{"path":"https://ssi-dk.github.io/diseasy/reference/seir_example_data.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"seir_example_data — seir_example_data","text":"Rasmus Skytte Randl\\u00F8v rske@dtu.dk","code":""},{"path":[]},{"path":"https://ssi-dk.github.io/diseasy/news/index.html","id":"features-0-0-0-9000","dir":"Changelog","previous_headings":"","what":"Features","title":"diseasy 0.0.0.9000","text":"DiseasyBaseModule: baseline diseasy modules. Key features: caching system using cachem computation can stored memory disk persistence (#130). DiseasyVariant: functional module implement scenarios disease variants (#111). DiseasyImmunity: functional module implement scenarios waning immunity (#101). examples usage, see vignette(\"diseasy-immunity\"). DiseasyModel: base class model templates (#36). Defines interface models empower flexible configuration models functional modules. model class system model parameters (#116): Parameters easily overview via $parameters binding. Parameters type-checked setting. Parameters can easily adjusted model initialisation. Parameters inherited super classes needed. DiseasyModelOde: base class Ordinary Differential Equation (ODE) model templates (#142, #162). Defines interface ODE models. DiseasyModelOdeSeir: model template SEIR-like models (#142, #162). number E, R states. number age groups. number disease variants. Methods initialising incidence data. combineasy(): utility combine model templates ensemble (DiseasyEnsemble) (#166). Standard generics DiseasyEnsemble (#166): print() - Simple console printing. summary() - View composition ensemble. predict() - Retrieve predictions ensemble. plot() - Plot predictions ensemble. range utility functions: hypoexponential distribution: dhypo(), phypo(), qhypo(), rhypo() (#146).","code":""},{"path":"https://ssi-dk.github.io/diseasy/news/index.html","id":"documentation-0-0-0-9000","dir":"Changelog","previous_headings":"","what":"Documentation","title":"diseasy 0.0.0.9000","text":"functions fully documented. Vignettes use package included. vignette(\"diseasy\") vignette(\"creating--model\") vignette(\"creating-ensembles\")","code":""}]
